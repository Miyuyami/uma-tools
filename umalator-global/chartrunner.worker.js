(()=>{var Hu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var mn=Hu((pf,bu)=>{bu.exports={strict:function(){}}});var Ur="delete",H=5,qt=1<<H,Ct=qt-1,T={};function qi(){return{value:!1}}function Ft(e){e&&(e.value=!0)}function Ki(){}function Xe(e){return e.size===void 0&&(e.size=e.__iterate(ts)),e.size}function Ie(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Xe(e)+t:t}function ts(){return!0}function kn(e,t,r){return(e===0&&!rs(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Br(e,t){return es(e,t,0)}function Tn(e,t){return es(e,t,t)}function es(e,t,r){return e===void 0?r:rs(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function rs(e){return e<0||e===0&&1/e===-1/0}var ns="@@__IMMUTABLE_ITERABLE__@@";function Ht(e){return!!(e&&e[ns])}var is="@@__IMMUTABLE_KEYED__@@";function tt(e){return!!(e&&e[is])}var os="@@__IMMUTABLE_INDEXED__@@";function xt(e){return!!(e&&e[os])}function Wi(e){return tt(e)||xt(e)}var gt=function(t){return Ht(t)?t:jt(t)},Wt=function(e){function t(r){return tt(r)?r:Ce(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(gt),Ne=function(e){function t(r){return xt(r)?r:Vt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(gt),rr=function(e){function t(r){return Ht(r)&&!Wi(r)?r:ar(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(gt);gt.Keyed=Wt;gt.Indexed=Ne;gt.Set=rr;var as="@@__IMMUTABLE_SEQ__@@";function Yi(e){return!!(e&&e[as])}var ss="@@__IMMUTABLE_RECORD__@@";function nr(e){return!!(e&&e[ss])}function ae(e){return Ht(e)||nr(e)}var ir="@@__IMMUTABLE_ORDERED__@@";function oe(e){return!!(e&&e[ir])}var Gr=0,Zt=1,Kt=2,Ni=typeof Symbol=="function"&&Symbol.iterator,us="@@iterator",En=Ni||us,q=function(t){this.next=t};q.prototype.toString=function(){return"[Iterator]"};q.KEYS=Gr;q.VALUES=Zt;q.ENTRIES=Kt;q.prototype.inspect=q.prototype.toSource=function(){return this.toString()};q.prototype[En]=function(){return this};function V(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function kt(){return{value:void 0,done:!0}}function cs(e){return Array.isArray(e)?!0:!!Mn(e)}function Ta(e){return e&&typeof e.next=="function"}function xi(e){var t=Mn(e);return t&&t.call(e)}function Mn(e){var t=e&&(Ni&&e[Ni]||e[us]);if(typeof t=="function")return t}function ju(e){var t=Mn(e);return t&&t===e.entries}function Uu(e){var t=Mn(e);return t&&t===e.keys}var or=Object.prototype.hasOwnProperty;function ds(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var jt=function(e){function t(r){return r==null?Xi():ae(r)?r.toSeq():Gu(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var o=this._cache;if(o){for(var a=o.length,s=0;s!==a;){var u=o[i?a-++s:s++];if(n(u[1],u[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var o=this._cache;if(o){var a=o.length,s=0;return new q(function(){if(s===a)return kt();var u=o[i?a-++s:s++];return V(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},t}(gt),Ce=function(e){function t(r){return r==null?Xi().toKeyedSeq():Ht(r)?tt(r)?r.toSeq():r.fromEntrySeq():nr(r)?r.toSeq():Zi(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(jt),Vt=function(e){function t(r){return r==null?Xi():Ht(r)?tt(r)?r.entrySeq():r.toIndexedSeq():nr(r)?r.toSeq().entrySeq():fs(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(jt),ar=function(e){function t(r){return(Ht(r)&&!Wi(r)?r:Vt(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(jt);jt.isSeq=Yi;jt.Keyed=Ce;jt.Set=ar;jt.Indexed=Vt;jt.prototype[as]=!0;var qe=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[Ie(this,n)]:i},t.prototype.__iterate=function(n,i){for(var o=this._array,a=o.length,s=0;s!==a;){var u=i?a-++s:s++;if(n(o[u],u,this)===!1)break}return s},t.prototype.__iterator=function(n,i){var o=this._array,a=o.length,s=0;return new q(function(){if(s===a)return kt();var u=i?a-++s:s++;return V(n,u,o[u])})},t}(Vt),Ji=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return or.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var o=this._object,a=this._keys,s=a.length,u=0;u!==s;){var c=a[i?s-++u:u++];if(n(o[c],c,this)===!1)break}return u},t.prototype.__iterator=function(n,i){var o=this._object,a=this._keys,s=a.length,u=0;return new q(function(){if(u===s)return kt();var c=a[i?s-++u:u++];return V(n,c,o[c])})},t}(Ce);Ji.prototype[ir]=!0;var Bu=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var o=this._collection,a=xi(o),s=0;if(Ta(a))for(var u;!(u=a.next()).done&&n(u.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=this._collection,a=xi(o);if(!Ta(a))return new q(kt);var s=0;return new q(function(){var u=a.next();return u.done?u:V(n,s++,u.value)})},t}(Vt),Ea;function Xi(){return Ea||(Ea=new qe([]))}function Zi(e){var t=Vi(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new Ji(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function fs(e){var t=Vi(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Gu(e){var t=Vi(e);if(t)return ju(e)?t.fromEntrySeq():Uu(e)?t.toSetSeq():t;if(typeof e=="object")return new Ji(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Vi(e){return ds(e)?new qe(e):cs(e)?new Bu(e):void 0}var ps="@@__IMMUTABLE_MAP__@@";function Qi(e){return!!(e&&e[ps])}function hs(e){return Qi(e)&&oe(e)}function Ma(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Nt(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Ma(e)&&Ma(t)&&e.equals(t))}var kr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function zn(e){return e>>>1&1073741824|e&3221225471}var Fu=Object.prototype.valueOf;function At(e){if(e==null)return za(e);if(typeof e.hashCode=="function")return zn(e.hashCode(e));var t=Zu(e);if(t==null)return za(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Ku(t);case"string":return t.length>Vu?Wu(t):Hi(t);case"object":case"function":return Ju(t);case"symbol":return Yu(t);default:if(typeof t.toString=="function")return Hi(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function za(e){return e===null?1108378658:1108378659}function Ku(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return zn(t)}function Wu(e){var t=Mi[e];return t===void 0&&(t=Hi(e),Ei===Qu&&(Ei=0,Mi={}),Ei++,Mi[e]=t),t}function Hi(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return zn(t)}function Yu(e){var t=qa[e];return t!==void 0||(t=ls(),qa[e]=t),t}function Ju(e){var t;if(ji&&(t=Ui.get(e),t!==void 0)||(t=e[Le],t!==void 0)||!La&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Le],t!==void 0||(t=Xu(e),t!==void 0)))return t;if(t=ls(),ji)Ui.set(e,t);else{if(Aa!==void 0&&Aa(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(La)Object.defineProperty(e,Le,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Le]=t;else if(e.nodeType!==void 0)e[Le]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Aa=Object.isExtensible,La=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Xu(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function Zu(e){return e.valueOf!==Fu&&typeof e.valueOf=="function"?e.valueOf(e):e}function ls(){var e=++Ti;return Ti&1073741824&&(Ti=0),e}var ji=typeof WeakMap=="function",Ui;ji&&(Ui=new WeakMap);var qa=Object.create(null),Ti=0,Le="__immutablehash__";typeof Symbol=="function"&&(Le=Symbol(Le));var Vu=16,Qu=255,Ei=0,Mi={},An=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=$i(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var o=this,a=vs(this,n,i);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(n,i)}),a},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a,s){return n(a,s,o)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(Ce);An.prototype[ir]=!0;var _s=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var o=this,a=0;return i&&Xe(this),this._iter.__iterate(function(s){return n(s,i?o.size-++a:a++,o)},i)},t.prototype.__iterator=function(n,i){var o=this,a=this._iter.__iterator(Zt,i),s=0;return i&&Xe(this),new q(function(){var u=a.next();return u.done?u:V(n,i?o.size-++s:s++,u.value,u)})},t}(Vt),ms=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){return n(a,a,o)},i)},t.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Zt,i);return new q(function(){var a=o.next();return a.done?a:V(n,a.value,a.value,a)})},t}(ar),gs=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){if(a){xa(a);var s=Ht(a);return n(s?a.get(1):a[1],s?a.get(0):a[0],o)}},i)},t.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Zt,i);return new q(function(){for(;;){var a=o.next();if(a.done)return a;var s=a.value;if(s){xa(s);var u=Ht(s);return V(n,u?s.get(0):s[0],u?s.get(1):s[1],a)}}})},t}(Ce);_s.prototype.cacheResult=An.prototype.cacheResult=ms.prototype.cacheResult=gs.prototype.cacheResult=ro;function ys(e){var t=se(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=ro,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(o,a){return r(a,o,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Kt){var i=e.__iterator(r,n);return new q(function(){var o=i.next();if(!o.done){var a=o.value[0];o.value[0]=o.value[1],o.value[1]=a}return o})}return e.__iterator(r===Zt?Gr:Zt,n)},t}function vs(e,t,r){var n=se(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,o){var a=e.get(i,T);return a===T?o:t.call(r,a,i,e)},n.__iterateUncached=function(i,o){var a=this;return e.__iterate(function(s,u,c){return i(t.call(r,s,u,c),u,a)!==!1},o)},n.__iteratorUncached=function(i,o){var a=e.__iterator(Kt,o);return new q(function(){var s=a.next();if(s.done)return s;var u=s.value,c=u[0];return V(i,c,t.call(r,u[1],c,e),s)})},n}function $i(e,t){var r=this,n=se(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=ys(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,o){return e.get(t?i:-1-i,o)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=ro,n.__iterate=function(i,o){var a=this,s=0;return o&&Xe(e),e.__iterate(function(u,c){return i(u,t?c:o?a.size-++s:s++,a)},!o)},n.__iterator=function(i,o){var a=0;o&&Xe(e);var s=e.__iterator(Kt,!o);return new q(function(){var u=s.next();if(u.done)return u;var c=u.value;return V(i,t?c[0]:o?r.size-++a:a++,c[1],u)})},n}function bs(e,t,r,n){var i=se(e);return n&&(i.has=function(o){var a=e.get(o,T);return a!==T&&!!t.call(r,a,o,e)},i.get=function(o,a){var s=e.get(o,T);return s!==T&&t.call(r,s,o,e)?s:a}),i.__iterateUncached=function(o,a){var s=this,u=0;return e.__iterate(function(c,d,f){if(t.call(r,c,d,f))return u++,o(c,n?d:u-1,s)},a),u},i.__iteratorUncached=function(o,a){var s=e.__iterator(Kt,a),u=0;return new q(function(){for(;;){var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return V(o,n?f:u++,p,c)}})},i}function $u(e,t,r){var n=ur().asMutable();return e.__iterate(function(i,o){n.update(t.call(r,i,o,e),0,function(a){return a+1})}),n.asImmutable()}function tc(e,t,r){var n=tt(e),i=(oe(e)?fe():ur()).asMutable();e.__iterate(function(a,s){i.update(t.call(r,a,s,e),function(u){return u=u||[],u.push(n?[s,a]:a),u})});var o=eo(e);return i.map(function(a){return x(e,o(a))}).asImmutable()}function ec(e,t,r){var n=tt(e),i=[[],[]];e.__iterate(function(a,s){i[t.call(r,a,s,e)?1:0].push(n?[s,a]:a)});var o=eo(e);return i.map(function(a){return x(e,o(a))})}function to(e,t,r,n){var i=e.size;if(kn(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return to(e.toSeq().cacheResult(),t,r,n);var o=Br(t,i),a=Tn(r,i),s=a-o,u;s===s&&(u=s<0?0:s);var c=se(e);return c.size=u===0?u:e.size&&u||void 0,!n&&Yi(e)&&u>=0&&(c.get=function(d,f){return d=Ie(this,d),d>=0&&d<u?e.get(d+o,f):f}),c.__iterateUncached=function(d,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var l=0,h=!0,_=0;return e.__iterate(function(y,b){if(!(h&&(h=l++<o)))return _++,d(y,n?b:_-1,p)!==!1&&_!==u}),_},c.__iteratorUncached=function(d,f){if(u!==0&&f)return this.cacheResult().__iterator(d,f);if(u===0)return new q(kt);var p=e.__iterator(d,f),l=0,h=0;return new q(function(){for(;l++<o;)p.next();if(++h>u)return kt();var _=p.next();return n||d===Zt||_.done?_:d===Gr?V(d,h-1,void 0,_):V(d,h-1,_.value[1],_)})},c}function rc(e,t,r){var n=se(e);return n.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=0;return e.__iterate(function(u,c,d){return t.call(r,u,c,d)&&++s&&i(u,c,a)}),s},n.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(Kt,o),u=!0;return new q(function(){if(!u)return kt();var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];return t.call(r,p,f,a)?i===Kt?c:V(i,f,p,c):(u=!1,kt())})},n}function Ss(e,t,r,n){var i=se(e);return i.__iterateUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterate(o,a);var u=!0,c=0;return e.__iterate(function(d,f,p){if(!(u&&(u=t.call(r,d,f,p))))return c++,o(d,n?f:c-1,s)}),c},i.__iteratorUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterator(o,a);var u=e.__iterator(Kt,a),c=!0,d=0;return new q(function(){var f,p,l;do{if(f=u.next(),f.done)return n||o===Zt?f:o===Gr?V(o,d++,void 0,f):V(o,d++,f.value[1],f);var h=f.value;p=h[0],l=h[1],c&&(c=t.call(r,l,p,s))}while(c);return o===Kt?f:V(o,p,l,f)})},i}function nc(e,t){var r=tt(e),n=[e].concat(t).map(function(a){return Ht(a)?r&&(a=Wt(a)):a=r?Zi(a):fs(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&tt(i)||xt(e)&&xt(i))return i}var o=new qe(n);return r?o=o.toKeyedSeq():xt(e)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=n.reduce(function(a,s){if(a!==void 0){var u=s.size;if(u!==void 0)return a+u}},0),o}function Is(e,t,r){var n=se(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;function u(c,d){c.__iterate(function(f,p){return(!t||d<t)&&Ht(f)?u(f,d+1):(a++,i(f,r?p:a-1,n)===!1&&(s=!0)),!s},o)}return u(e,0),a},n.__iteratorUncached=function(i,o){if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(i,o),s=[],u=0;return new q(function(){for(;a;){var c=a.next();if(c.done!==!1){a=s.pop();continue}var d=c.value;if(i===Kt&&(d=d[1]),(!t||s.length<t)&&Ht(d))s.push(a),a=d.__iterator(i,o);else return r?c:V(i,u++,d,c)}return kt()})},n}function ic(e,t,r){var n=eo(e);return e.toSeq().map(function(i,o){return n(t.call(r,i,o,e))}).flatten(!0)}function oc(e,t){var r=se(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var o=this,a=0;return e.__iterate(function(s){return(!a||n(t,a++,o)!==!1)&&n(s,a++,o)!==!1},i),a},r.__iteratorUncached=function(n,i){var o=e.__iterator(Zt,i),a=0,s;return new q(function(){return(!s||a%2)&&(s=o.next(),s.done)?s:a%2?V(n,a++,t):V(n,a++,s.value,s)})},r}function Ze(e,t,r){t||(t=ws);var n=tt(e),i=0,o=e.toSeq().map(function(a,s){return[s,a,i++,r?r(a,s,e):a]}).valueSeq().toArray();return o.sort(function(a,s){return t(a[3],s[3])||a[2]-s[2]}).forEach(n?function(a,s){o[s].length=2}:function(a,s){o[s]=a[1]}),n?Ce(o):xt(e)?Vt(o):ar(o)}function In(e,t,r){if(t||(t=ws),r){var n=e.toSeq().map(function(i,o){return[i,r(i,o,e)]}).reduce(function(i,o){return Na(t,i[1],o[1])?o:i});return n&&n[0]}return e.reduce(function(i,o){return Na(t,i,o)?o:i})}function Na(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function wn(e,t,r,n){var i=se(e),o=new qe(r).map(function(a){return a.size});return i.size=n?o.max():o.min(),i.__iterate=function(a,s){for(var u=this.__iterator(Zt,s),c,d=0;!(c=u.next()).done&&a(c.value,d++,this)!==!1;);return d},i.__iteratorUncached=function(a,s){var u=r.map(function(f){return f=gt(f),xi(s?f.reverse():f)}),c=0,d=!1;return new q(function(){var f;return d||(f=u.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?kt():V(a,c++,t.apply(null,f.map(function(p){return p.value})))})},i}function x(e,t){return e===t?e:Yi(e)?t:e.constructor(t)}function xa(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function eo(e){return tt(e)?Wt:xt(e)?Ne:rr}function se(e){return Object.create((tt(e)?Ce:xt(e)?Vt:ar).prototype)}function ro(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):jt.prototype.cacheResult.call(this)}function ws(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ne(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function zr(e,t){if(!e)throw new Error(t)}function Lt(e){zr(e!==1/0,"Cannot perform this action with an infinite size.")}function Cs(e){if(ds(e)&&typeof e!="string")return e;if(oe(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var ac=Object.prototype.toString;function sc(e){if(!e||typeof e!="object"||ac.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function we(e){return typeof e=="object"&&(ae(e)||Array.isArray(e)||sc(e))}function Lr(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function uc(e,t){return ae(e)?e.has(t):we(e)&&or.call(e,t)}function Ds(e,t,r){return ae(e)?e.get(t,r):uc(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function Pn(e){if(Array.isArray(e))return ne(e);var t={};for(var r in e)or.call(e,r)&&(t[r]=e[r]);return t}function cc(e,t){if(!we(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ae(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!or.call(e,t))return e;var r=Pn(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function dc(e,t,r){if(!we(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ae(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(or.call(e,t)&&r===e[t])return e;var n=Pn(e);return n[t]=r,n}function sr(e,t,r,n){n||(n=r,r=void 0);var i=Rs(ae(e),e,Cs(t),0,r,n);return i===T?r:i}function Rs(e,t,r,n,i,o){var a=t===T;if(n===r.length){var s=a?i:t,u=o(s);return u===s?t:u}if(!a&&!we(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Lr)+"]: "+t);var c=r[n],d=a?T:Ds(t,c,T),f=Rs(d===T?e:ae(d),d,r,n+1,i,o);return f===d?t:f===T?cc(t,c):dc(a?e?ie():{}:t,c,f)}function fc(e,t,r){return sr(e,t,T,function(){return r})}function no(e,t){return fc(this,e,t)}function pc(e,t){return sr(e,t,function(){return T})}function io(e){return pc(this,e)}function Ps(e,t,r,n){return sr(e,[t],r,n)}function oo(e,t,r){return arguments.length===1?e(this):Ps(this,e,t,r)}function ao(e,t,r){return sr(this,e,t,r)}function Os(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ts(this,e)}function ks(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return Ts(this,t,e)}function Ts(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=Wt(t[i]);o.size!==0&&n.push(o)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(a){for(var s=r?function(c,d){Ps(a,d,T,function(f){return f===T?c:r(f,c,d)})}:function(c,d){a.set(d,c)},u=0;u<n.length;u++)n[u].forEach(s)})}function so(e,t,r){return uo(e,t,hc(r))}function uo(e,t,r){if(!we(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ae(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?Ne:Wt,a=n?function(u){i===e&&(i=Pn(i)),i.push(u)}:function(u,c){var d=or.call(i,c),f=d&&r?r(i[c],u,c):u;(!d||f!==i[c])&&(i===e&&(i=Pn(i)),i[c]=f)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function hc(e){function t(r,n,i){return we(r)&&we(n)&&lc(r,n)?uo(r,[n],t):e?e(r,n,i):n}return t}function lc(e,t){var r=jt(e),n=jt(t);return xt(r)===xt(n)&&tt(r)===tt(n)}function Es(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return so(this,e)}function Ms(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return so(this,t,e)}function co(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return sr(this,e,ie(),function(n){return uo(n,t)})}function fo(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return sr(this,e,ie(),function(n){return so(n,t)})}function Fr(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Kr(){return this.__ownerID?this:this.__ensureOwner(new Ki)}function Wr(){return this.__ensureOwner()}function po(){return this.__altered}var ur=function(e){function t(r){return r==null?ie():Qi(r)&&!oe(r)?r:ie().withMutations(function(n){var i=e(r);Lt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return Ua(this,n,i)},t.prototype.remove=function(n){return Ua(this,n,T)},t.prototype.deleteAll=function(n){var i=gt(n);return i.size===0?this:this.withMutations(function(o){i.forEach(function(a){return o.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ie()},t.prototype.sort=function(n){return fe(Ze(this,n))},t.prototype.sortBy=function(n,i){return fe(Ze(this,i,n))},t.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){a.forEach(function(s,u){a.set(u,n.call(i,s,u,o))})})},t.prototype.__iterator=function(n,i){return new _c(this,n,i)},t.prototype.__iterate=function(n,i){var o=this,a=0;return this._root&&this._root.iterate(function(s){return a++,n(s[1],s[0],o)},i),a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?ho(this.size,this._root,n,this.__hash):this.size===0?ie():(this.__ownerID=n,this.__altered=!1,this)},t}(Wt);ur.isMap=Qi;var W=ur.prototype;W[ps]=!0;W[Ur]=W.remove;W.removeAll=W.deleteAll;W.setIn=no;W.removeIn=W.deleteIn=io;W.update=oo;W.updateIn=ao;W.merge=W.concat=Os;W.mergeWith=ks;W.mergeDeep=Es;W.mergeDeepWith=Ms;W.mergeIn=co;W.mergeDeepIn=fo;W.withMutations=Fr;W.wasAltered=po;W.asImmutable=Wr;W["@@transducer/init"]=W.asMutable=Kr;W["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};W["@@transducer/result"]=function(e){return e.asImmutable()};var qr=function(t,r){this.ownerID=t,this.entries=r};qr.prototype.get=function(t,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(Nt(n,o[a][0]))return o[a][1];return i};qr.prototype.update=function(t,r,n,i,o,a,s){for(var u=o===T,c=this.entries,d=0,f=c.length;d<f&&!Nt(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===o:u)return this;if(Ft(s),(u||!p)&&Ft(a),!(u&&c.length===1)){if(!p&&!u&&c.length>=Sc)return mc(t,c,i,o);var l=t&&t===this.ownerID,h=l?c:ne(c);return p?u?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,o]:h.push([i,o]),l?(this.entries=h,this):new qr(t,h)}};var Ve=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Ve.prototype.get=function(t,r,n,i){r===void 0&&(r=At(n));var o=1<<((t===0?r:r>>>t)&Ct),a=this.bitmap;return a&o?this.nodes[zs(a&o-1)].get(t+H,r,n,i):i};Ve.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=At(i));var u=(r===0?n:n>>>r)&Ct,c=1<<u,d=this.bitmap,f=(d&c)!==0;if(!f&&o===T)return this;var p=zs(d&c-1),l=this.nodes,h=f?l[p]:void 0,_=lo(h,t,r+H,n,i,o,a,s);if(_===h)return this;if(!f&&_&&l.length>=Ic)return yc(t,l,d,u,_);if(f&&!_&&l.length===2&&Ba(l[p^1]))return l[p^1];if(f&&_&&l.length===1&&Ba(_))return _;var y=t&&t===this.ownerID,b=f?_?d:d^c:d|c,m=f?_?As(l,p,_,y):bc(l,p,y):vc(l,p,_,y);return y?(this.bitmap=b,this.nodes=m,this):new Ve(t,b,m)};var Nr=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Nr.prototype.get=function(t,r,n,i){r===void 0&&(r=At(n));var o=(t===0?r:r>>>t)&Ct,a=this.nodes[o];return a?a.get(t+H,r,n,i):i};Nr.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=At(i));var u=(r===0?n:n>>>r)&Ct,c=o===T,d=this.nodes,f=d[u];if(c&&!f)return this;var p=lo(f,t,r+H,n,i,o,a,s);if(p===f)return this;var l=this.count;if(!f)l++;else if(!p&&(l--,l<wc))return gc(t,d,l,u);var h=t&&t===this.ownerID,_=As(d,u,p,h);return h?(this.count=l,this.nodes=_,this):new Nr(t,l,_)};var Qe=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Qe.prototype.get=function(t,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(Nt(n,o[a][0]))return o[a][1];return i};Qe.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=At(i));var u=o===T;if(n!==this.keyHash)return u?this:(Ft(s),Ft(a),_o(this,t,r,n,[i,o]));for(var c=this.entries,d=0,f=c.length;d<f&&!Nt(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===o:u)return this;if(Ft(s),(u||!p)&&Ft(a),u&&f===2)return new de(t,this.keyHash,c[d^1]);var l=t&&t===this.ownerID,h=l?c:ne(c);return p?u?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,o]:h.push([i,o]),l?(this.entries=h,this):new Qe(t,this.keyHash,h)};var de=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};de.prototype.get=function(t,r,n,i){return Nt(n,this.entry[0])?this.entry[1]:i};de.prototype.update=function(t,r,n,i,o,a,s){var u=o===T,c=Nt(i,this.entry[0]);if(c?o===this.entry[1]:u)return this;if(Ft(s),u){Ft(a);return}return c?t&&t===this.ownerID?(this.entry[1]=o,this):new de(t,this.keyHash,[i,o]):(Ft(a),_o(this,t,r,At(i),[i,o]))};qr.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};Ve.prototype.iterate=Nr.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&o.iterate(e,t)===!1)return!1}};de.prototype.iterate=function(e,t){return e(this.entry)};var _c=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&Ha(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var o=i.node,a=i.index++,s=void 0;if(o.entry){if(a===0)return zi(n,o.entry)}else if(o.entries){if(s=o.entries.length-1,a<=s)return zi(n,o.entries[this._reverse?s-a:a])}else if(s=o.nodes.length-1,a<=s){var u=o.nodes[this._reverse?s-a:a];if(u){if(u.entry)return zi(n,u.entry);i=this._stack=Ha(u,i)}continue}i=this._stack=this._stack.__prev}return kt()},t}(q);function zi(e,t){return V(e,t[0],t[1])}function Ha(e,t){return{node:e,index:0,__prev:t}}function ho(e,t,r,n){var i=Object.create(W);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var ja;function ie(){return ja||(ja=ho(0))}function Ua(e,t,r){var n,i;if(e._root){var o=qi(),a=qi();if(n=lo(e._root,e.__ownerID,0,void 0,t,r,o,a),!a.value)return e;i=e.size+(o.value?r===T?-1:1:0)}else{if(r===T)return e;i=1,n=new qr(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?ho(i,n):ie()}function lo(e,t,r,n,i,o,a,s){return e?e.update(t,r,n,i,o,a,s):o===T?e:(Ft(s),Ft(a),new de(t,n,[i,o]))}function Ba(e){return e.constructor===de||e.constructor===Qe}function _o(e,t,r,n,i){if(e.keyHash===n)return new Qe(t,n,[e.entry,i]);var o=(r===0?e.keyHash:e.keyHash>>>r)&Ct,a=(r===0?n:n>>>r)&Ct,s,u=o===a?[_o(e,t,r+H,n,i)]:(s=new de(t,n,i),o<a?[e,s]:[s,e]);return new Ve(t,1<<o|1<<a,u)}function mc(e,t,r,n){e||(e=new Ki);for(var i=new de(e,At(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function gc(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=u,a[o++]=d)}return new Ve(e,i,a)}function yc(e,t,r,n,i){for(var o=0,a=new Array(qt),s=0;r!==0;s++,r>>>=1)a[s]=r&1?t[o++]:void 0;return a[n]=i,new Nr(e,o+1,a)}function zs(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function As(e,t,r,n){var i=n?e:ne(e);return i[t]=r,i}function vc(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}function bc(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}var Sc=qt/4,Ic=qt/2,wc=qt/4,Ls="@@__IMMUTABLE_LIST__@@";function qs(e){return!!(e&&e[Ls])}var Ln=function(e){function t(r){var n=Rn();if(r==null)return n;if(qs(r))return r;var i=e(r),o=i.size;return o===0?n:(Lt(o),o>0&&o<qt?xr(0,o,H,null,new Se(i.toArray())):n.withMutations(function(a){a.setSize(o),i.forEach(function(s,u){return a.set(u,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=Ie(this,n),n>=0&&n<this.size){n+=this._origin;var o=Ns(this,n);return o&&o.array[n&Ct]}return i},t.prototype.set=function(n,i){return Cc(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=H,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Rn()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(o){be(o,0,i+n.length);for(var a=0;a<n.length;a++)o.set(i+a,n[a])})},t.prototype.pop=function(){return be(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){be(i,-n.length);for(var o=0;o<n.length;o++)i.set(o,n[o])})},t.prototype.shift=function(){return be(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++){var a=n[o],s=e(typeof a!="string"&&cs(a)?a:[a]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(c){return c.forEach(function(d){return u.push(d)})})})},t.prototype.setSize=function(n){return be(this,0,n)},t.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){for(var s=0;s<o.size;s++)a.set(s,n.call(i,a.get(s),s,o))})},t.prototype.slice=function(n,i){var o=this.size;return kn(n,i,o)?this:be(this,Br(n,o),Tn(i,o))},t.prototype.__iterator=function(n,i){var o=i?this.size:0,a=Ga(this,i);return new q(function(){var s=a();return s===Ar?kt():V(n,i?--o:o++,s)})},t.prototype.__iterate=function(n,i){for(var o=i?this.size:0,a=Ga(this,i),s;(s=a())!==Ar&&n(s,i?--o:o++,this)!==!1;);return o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?xr(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Rn():(this.__ownerID=n,this.__altered=!1,this)},t}(Ne);Ln.isList=qs;var at=Ln.prototype;at[Ls]=!0;at[Ur]=at.remove;at.merge=at.concat;at.setIn=no;at.deleteIn=at.removeIn=io;at.update=oo;at.updateIn=ao;at.mergeIn=co;at.mergeDeepIn=fo;at.withMutations=Fr;at.wasAltered=po;at.asImmutable=Wr;at["@@transducer/init"]=at.asMutable=Kr;at["@@transducer/step"]=function(e,t){return e.push(t)};at["@@transducer/result"]=function(e){return e.asImmutable()};var Se=function(t,r){this.array=t,this.ownerID=r};Se.prototype.removeBefore=function(t,r,n){if(!(n&(1<<r+H)-1)||this.array.length===0)return this;var i=n>>>r&Ct;if(i>=this.array.length)return new Se([],t);var o=i===0,a;if(r>0){var s=this.array[i];if(a=s&&s.removeBefore(t,r-H,n),a===s&&o)return this}if(o&&!a)return this;var u=$e(this,t);if(!o)for(var c=0;c<i;c++)u.array[c]=void 0;return a&&(u.array[i]=a),u};Se.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r+H:qt)||this.array.length===0)return this;var i=n-1>>>r&Ct;if(i>=this.array.length)return this;var o;if(r>0){var a=this.array[i];if(o=a&&a.removeAfter(t,r-H,n),o===a&&i===this.array.length-1)return this}var s=$e(this,t);return s.array.splice(i+1),o&&(s.array[i]=o),s};var Ar={};function Ga(e,t){var r=e._origin,n=e._capacity,i=Hr(n),o=e._tail;return a(e._root,e._level,0);function a(c,d,f){return d===0?s(c,f):u(c,d,f)}function s(c,d){var f=d===i?o&&o.array:c&&c.array,p=d>r?0:r-d,l=n-d;return l>qt&&(l=qt),function(){if(p===l)return Ar;var h=t?--l:p++;return f&&f[h]}}function u(c,d,f){var p,l=c&&c.array,h=f>r?0:r-f>>d,_=(n-f>>d)+1;return _>qt&&(_=qt),function(){for(;;){if(p){var y=p();if(y!==Ar)return y;p=null}if(h===_)return Ar;var b=t?--_:h++;p=a(l&&l[b],d-H,f+(b<<d))}}}}function xr(e,t,r,n,i,o,a){var s=Object.create(at);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Rn(){return xr(0,0,H)}function Cc(e,t,r){if(t=Ie(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?be(a,t).set(0,r):be(a,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,o=qi();return t>=Hr(e._capacity)?n=Bi(n,e.__ownerID,0,t,r,o):i=Bi(i,e.__ownerID,e._level,t,r,o),o.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):xr(e._origin,e._capacity,e._level,i,n):e}function Bi(e,t,r,n,i,o){var a=n>>>r&Ct,s=e&&a<e.array.length;if(!s&&i===void 0)return e;var u;if(r>0){var c=e&&e.array[a],d=Bi(c,t,r-H,n,i,o);return d===c?e:(u=$e(e,t),u.array[a]=d,u)}return s&&e.array[a]===i?e:(o&&Ft(o),u=$e(e,t),i===void 0&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function $e(e,t){return t&&e&&t===e.ownerID?e:new Se(e?e.array.slice():[],t)}function Ns(e,t){if(t>=Hr(e._capacity))return e._tail;if(t<1<<e._level+H){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Ct],n-=H;return r}}function be(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new Ki,i=e._origin,o=e._capacity,a=i+t,s=r===void 0?o:r<0?o+r:i+r;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,d=0;a+d<0;)c=new Se(c&&c.array.length?[void 0,c]:[],n),u+=H,d+=1<<u;d&&(a+=d,i+=d,s+=d,o+=d);for(var f=Hr(o),p=Hr(s);p>=1<<u+H;)c=new Se(c&&c.array.length?[c]:[],n),u+=H;var l=e._tail,h=p<f?Ns(e,s-1):p>f?new Se([],n):l;if(l&&p>f&&a<o&&l.array.length){c=$e(c,n);for(var _=c,y=u;y>H;y-=H){var b=f>>>y&Ct;_=_.array[b]=$e(_.array[b],n)}_.array[f>>>H&Ct]=l}if(s<o&&(h=h&&h.removeAfter(n,0,s)),a>=p)a-=p,s-=p,u=H,c=null,h=h&&h.removeBefore(n,0,a);else if(a>i||p<f){for(d=0;c;){var m=a>>>u&Ct;if(m!==p>>>u&Ct)break;m&&(d+=(1<<u)*m),u-=H,c=c.array[m]}c&&a>i&&(c=c.removeBefore(n,u,a-d)),c&&p<f&&(c=c.removeAfter(n,u,p-d)),d&&(a-=d,s-=d)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):xr(a,s,u,c,h)}function Hr(e){return e<qt?0:e-1>>>H<<H}var fe=function(e){function t(r){return r==null?Tr():hs(r)?r:Tr().withMutations(function(n){var i=Wt(r);Lt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var o=this._map.get(n);return o!==void 0?this._list.get(o)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Tr()},t.prototype.set=function(n,i){return Ka(this,n,i)},t.prototype.remove=function(n){return Ka(this,n,T)},t.prototype.__iterate=function(n,i){var o=this;return this._list.__iterate(function(a){return a&&n(a[1],a[0],o)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),o=this._list.__ensureOwner(n);return n?mo(i,o,n,this.__hash):this.size===0?Tr():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=o,this)},t}(ur);fe.isOrderedMap=hs;fe.prototype[ir]=!0;fe.prototype[Ur]=fe.prototype.remove;function mo(e,t,r,n){var i=Object.create(fe.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Fa;function Tr(){return Fa||(Fa=mo(ie(),Rn()))}function Ka(e,t,r){var n=e._map,i=e._list,o=n.get(t),a=o!==void 0,s,u;if(r===T){if(!a)return e;i.size>=qt&&i.size>=n.size*2?(u=i.filter(function(c,d){return c!==void 0&&o!==d}),s=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=n.remove(t),u=o===i.size-1?i.pop():i.set(o,void 0))}else if(a){if(r===i.get(o)[1])return e;s=n,u=i.set(o,[t,r])}else s=n.set(t,i.size),u=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e.__altered=!0,e):mo(s,u)}var xs="@@__IMMUTABLE_STACK__@@";function Gi(e){return!!(e&&e[xs])}var go=function(e){function t(r){return r==null?Cn():Gi(r)?r:Cn().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var o=this._head;for(n=Ie(this,n);o&&n--;)o=o.next;return o?o.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,o=this._head,a=arguments.length-1;a>=0;a--)o={value:n[a],next:o};return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Er(i,o)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&Gi(n))return n;Lt(n.size);var i=this.size,o=this._head;return n.__iterate(function(a){i++,o={value:a,next:o}},!0),this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Er(i,o)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Cn()},t.prototype.slice=function(n,i){if(kn(n,i,this.size))return this;var o=Br(n,this.size),a=Tn(i,this.size);if(a!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-o,u=this._head;o--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):Er(s,u)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Er(this.size,this._head,n,this.__hash):this.size===0?Cn():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var o=this;if(i)return new qe(this.toArray()).__iterate(function(u,c){return n(u,c,o)},i);for(var a=0,s=this._head;s&&n(s.value,a++,this)!==!1;)s=s.next;return a},t.prototype.__iterator=function(n,i){if(i)return new qe(this.toArray()).__iterator(n,i);var o=0,a=this._head;return new q(function(){if(a){var s=a.value;return a=a.next,V(n,o++,s)}return kt()})},t}(Ne);go.isStack=Gi;var Dt=go.prototype;Dt[xs]=!0;Dt.shift=Dt.pop;Dt.unshift=Dt.push;Dt.unshiftAll=Dt.pushAll;Dt.withMutations=Fr;Dt.wasAltered=po;Dt.asImmutable=Wr;Dt["@@transducer/init"]=Dt.asMutable=Kr;Dt["@@transducer/step"]=function(e,t){return e.unshift(t)};Dt["@@transducer/result"]=function(e){return e.asImmutable()};function Er(e,t,r,n){var i=Object.create(Dt);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Wa;function Cn(){return Wa||(Wa=Er(0))}var Hs="@@__IMMUTABLE_SET__@@";function yo(e){return!!(e&&e[Hs])}function js(e){return yo(e)&&oe(e)}function Us(e,t){if(e===t)return!0;if(!Ht(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||tt(e)!==tt(t)||xt(e)!==xt(t)||oe(e)!==oe(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!Wi(e);if(oe(e)){var n=e.entries();return t.every(function(u,c){var d=n.next().value;return d&&Nt(d[1],u)&&(r||Nt(d[0],c))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,s=t.__iterate(function(u,c){if(r?!e.has(u):i?!Nt(u,e.get(c,T)):!Nt(e.get(c,T),u))return a=!1,!1});return a&&e.size===s}function xe(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function On(e){if(!e||typeof e!="object")return e;if(!Ht(e)){if(!we(e))return e;e=jt(e)}if(tt(e)){var t={};return e.__iterate(function(n,i){t[i]=On(n)}),t}var r=[];return e.__iterate(function(n){r.push(On(n))}),r}var qn=function(e){function t(r){return r==null?Mr():yo(r)&&!oe(r)?r:Mr().withMutations(function(n){var i=e(r);Lt(i.size),i.forEach(function(o){return n.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Wt(n).keySeq())},t.intersect=function(n){return n=gt(n).toArray(),n.length?lt.intersect.apply(t(n.pop()),n):Mr()},t.union=function(n){return n=gt(n).toArray(),n.length?lt.union.apply(t(n.pop()),n):Mr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Dn(this,this._map.set(n,n))},t.prototype.remove=function(n){return Dn(this,this._map.remove(n))},t.prototype.clear=function(){return Dn(this,this._map.clear())},t.prototype.map=function(n,i){var o=this,a=!1,s=Dn(this,this._map.mapEntries(function(u){var c=u[1],d=n.call(i,c,c,o);return d!==c&&(a=!0),[d,d]},i));return a?s:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(o){return o.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){for(var a=0;a<n.length;a++)typeof n[a]=="string"?o.add(n[a]):e(n[a]).forEach(function(s){return o.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return e(a)});var o=[];return this.forEach(function(a){n.every(function(s){return s.includes(a)})||o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return e(a)});var o=[];return this.forEach(function(a){n.some(function(s){return s.includes(a)})&&o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},t.prototype.sort=function(n){return jr(Ze(this,n))},t.prototype.sortBy=function(n,i){return jr(Ze(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var o=this;return this._map.__iterate(function(a){return n(a,a,o)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(rr);qn.isSet=yo;var lt=qn.prototype;lt[Hs]=!0;lt[Ur]=lt.remove;lt.merge=lt.concat=lt.union;lt.withMutations=Fr;lt.asImmutable=Wr;lt["@@transducer/init"]=lt.asMutable=Kr;lt["@@transducer/step"]=function(e,t){return e.add(t)};lt["@@transducer/result"]=function(e){return e.asImmutable()};lt.__empty=Mr;lt.__make=Bs;function Dn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Bs(e,t){var r=Object.create(lt);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Ya;function Mr(){return Ya||(Ya=Bs(ie()))}var Dc=function(e){function t(r,n,i){if(i===void 0&&(i=1),!(this instanceof t))return new t(r,n,i);if(zr(i!==0,"Cannot step a Range by 0"),zr(r!==void 0,"You must define a start value when using Range"),zr(n!==void 0,"You must define an end value when using Range"),i=Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(Ai)return Ai;Ai=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+Ie(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return kn(n,i,this.size)?this:(n=Br(n,this.size),i=Tn(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var o=i/this._step;if(o>=0&&o<this.size)return o}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,u=0;u!==o&&n(s,i?o-++u:u++,this)!==!1;)s+=i?-a:a;return u},t.prototype.__iterator=function(n,i){var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,u=0;return new q(function(){if(u===o)return kt();var c=s;return s+=i?-a:a,V(n,i?o-++u:u++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:Us(this,n)},t}(Vt),Ai;function Gs(e,t,r){for(var n=Cs(t),i=0;i!==n.length;)if(e=Ds(e,n[i++],T),e===T)return r;return e}function Fs(e,t){return Gs(this,e,t)}function Rc(e,t){return Gs(e,t,T)!==T}function Pc(e){return Rc(this,e)}function Ks(){Lt(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}gt.Iterator=q;xe(gt,{toArray:function(){Lt(this.size);var t=new Array(this.size||0),r=tt(this),n=0;return this.__iterate(function(i,o){t[n++]=r?[o,i]:i}),t},toIndexedSeq:function(){return new _s(this)},toJS:function(){return On(this)},toKeyedSeq:function(){return new An(this,!0)},toMap:function(){return ur(this.toKeyedSeq())},toObject:Ks,toOrderedMap:function(){return fe(this.toKeyedSeq())},toOrderedSet:function(){return jr(tt(this)?this.valueSeq():this)},toSet:function(){return qn(tt(this)?this.valueSeq():this)},toSetSeq:function(){return new ms(this)},toSeq:function(){return xt(this)?this.toIndexedSeq():tt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return go(tt(this)?this.valueSeq():this)},toList:function(){return Ln(tt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return x(this,nc(this,t))},includes:function(t){return this.some(function(r){return Nt(r,t)})},entries:function(){return this.__iterator(Kt)},every:function(t,r){Lt(this.size);var n=!0;return this.__iterate(function(i,o,a){if(!t.call(r,i,o,a))return n=!1,!1}),n},filter:function(t,r){return x(this,bs(this,t,r,!0))},partition:function(t,r){return ec(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Lt(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Lt(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Gr)},map:function(t,r){return x(this,vs(this,t,r))},reduce:function(t,r,n){return Ja(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return Ja(this,t,r,n,arguments.length<2,!0)},reverse:function(){return x(this,$i(this,!0))},slice:function(t,r){return x(this,to(this,t,r,!0))},some:function(t,r){Lt(this.size);var n=!1;return this.__iterate(function(i,o,a){if(t.call(r,i,o,a))return n=!0,!1}),n},sort:function(t){return x(this,Ze(this,t))},values:function(){return this.__iterator(Zt)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Xe(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return $u(this,t,r)},equals:function(t){return Us(this,t)},entrySeq:function(){var t=this;if(t._cache)return new qe(t._cache);var r=t.toSeq().map(kc).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(Li(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(o,a,s){if(t.call(r,o,a,s))return i=[a,o],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(ts,null,t)},flatMap:function(t,r){return x(this,ic(this,t,r))},flatten:function(t){return x(this,Is(this,t,!0))},fromEntrySeq:function(){return new gs(this)},get:function(t,r){return this.find(function(n,i){return Nt(i,t)},void 0,r)},getIn:Fs,groupBy:function(t,r){return tc(this,t,r)},has:function(t){return this.get(t,T)!==T},hasIn:Pc,isSubset:function(t){return t=typeof t.includes=="function"?t:gt(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:gt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Nt(r,t)})},keySeq:function(){return this.toSeq().map(Oc).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return In(this,t)},maxBy:function(t,r){return In(this,r,t)},min:function(t){return In(this,t?Xa(t):Va)},minBy:function(t,r){return In(this,r?Xa(r):Va,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return x(this,Ss(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(Li(t),r)},sortBy:function(t,r){return x(this,Ze(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return x(this,rc(this,t,r))},takeUntil:function(t,r){return this.takeWhile(Li(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Tc(this))}});var yt=gt.prototype;yt[ns]=!0;yt[En]=yt.values;yt.toJSON=yt.toArray;yt.__toStringMapper=Lr;yt.inspect=yt.toSource=function(){return this.toString()};yt.chain=yt.flatMap;yt.contains=yt.includes;xe(Wt,{flip:function(){return x(this,ys(this))},mapEntries:function(t,r){var n=this,i=0;return x(this,this.toSeq().map(function(o,a){return t.call(r,[a,o],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return x(this,this.toSeq().flip().map(function(i,o){return t.call(r,i,o,n)}).flip())}});var Yr=Wt.prototype;Yr[is]=!0;Yr[En]=yt.entries;Yr.toJSON=Ks;Yr.__toStringMapper=function(e,t){return Lr(t)+": "+Lr(e)};xe(Ne,{toKeyedSeq:function(){return new An(this,!1)},filter:function(t,r){return x(this,bs(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return x(this,$i(this,!1))},slice:function(t,r){return x(this,to(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Br(t,t<0?this.count():this.size);var i=this.slice(0,t);return x(this,n===1?i:i.concat(ne(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return x(this,Is(this,t,!1))},get:function(t,r){return t=Ie(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=Ie(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return x(this,oc(this,t))},interleave:function(){var t=[this].concat(ne(arguments)),r=wn(this.toSeq(),Vt.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),x(this,n)},keySeq:function(){return Dc(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return x(this,Ss(this,t,r,!1))},zip:function(){var t=[this].concat(ne(arguments));return x(this,wn(this,Za,t))},zipAll:function(){var t=[this].concat(ne(arguments));return x(this,wn(this,Za,t,!0))},zipWith:function(t){var r=ne(arguments);return r[0]=this,x(this,wn(this,t,r))}});var cr=Ne.prototype;cr[os]=!0;cr[ir]=!0;xe(rr,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var tr=rr.prototype;tr.has=yt.includes;tr.contains=tr.includes;tr.keys=tr.values;xe(Ce,Yr);xe(Vt,cr);xe(ar,tr);function Ja(e,t,r,n,i,o){return Lt(e.size),e.__iterate(function(a,s,u){i?(i=!1,r=a):r=t.call(n,r,a,s,u)},o),r}function Oc(e,t){return t}function kc(e,t){return[t,e]}function Li(e){return function(){return!e.apply(this,arguments)}}function Xa(e){return function(){return-e.apply(this,arguments)}}function Za(){return ne(arguments)}function Va(e,t){return e<t?1:e>t?-1:0}function Tc(e){if(e.size===1/0)return 0;var t=oe(e),r=tt(e),n=t?1:0;return e.__iterate(r?t?function(i,o){n=31*n+Qa(At(i),At(o))|0}:function(i,o){n=n+Qa(At(i),At(o))|0}:t?function(i){n=31*n+At(i)|0}:function(i){n=n+At(i)|0}),Ec(e.size,n)}function Ec(e,t){return t=kr(t,3432918353),t=kr(t<<15|t>>>-15,461845907),t=kr(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=kr(t^t>>>16,2246822507),t=kr(t^t>>>13,3266489909),t=zn(t^t>>>16),t}function Qa(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var jr=function(e){function t(r){return r==null?Fi():js(r)?r:Fi().withMutations(function(n){var i=rr(r);Lt(i.size),i.forEach(function(o){return n.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Wt(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(qn);jr.isOrderedSet=js;var He=jr.prototype;He[ir]=!0;He.zip=cr.zip;He.zipWith=cr.zipWith;He.zipAll=cr.zipAll;He.__empty=Fi;He.__make=Ws;function Ws(e,t){var r=Object.create(He);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var $a;function Fi(){return $a||($a=Ws(Tr()))}function Mc(e){if(nr(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ae(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var st=function(t,r){var n;Mc(t);var i=function(s){var u=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var c=Object.keys(t),d=o._indices={};o._name=r,o._keys=c,o._defaultValues=t;for(var f=0;f<c.length;f++){var p=c[f];d[p]=f,o[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+bo(this)+' with property "'+p+'" since that property name is part of the Record API.'):zc(o,p)}}return this.__ownerID=void 0,this._values=Ln().withMutations(function(l){l.setSize(u._keys.length),Wt(s).forEach(function(h,_){l.set(u._indices[_],h===u._defaultValues[_]?void 0:h)})}),this},o=i.prototype=Object.create(B);return o.constructor=i,r&&(i.displayName=r),i};st.prototype.toString=function(){for(var t=bo(this)+" { ",r=this._keys,n,i=0,o=r.length;i!==o;i++)n=r[i],t+=(i?", ":"")+n+": "+Lr(this.get(n));return t+" }"};st.prototype.equals=function(t){return this===t||nr(t)&&er(this).equals(er(t))};st.prototype.hashCode=function(){return er(this).hashCode()};st.prototype.has=function(t){return this._indices.hasOwnProperty(t)};st.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};st.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return vo(this,n)}return this};st.prototype.remove=function(t){return this.set(t)};st.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:vo(this,t)};st.prototype.wasAltered=function(){return this._values.wasAltered()};st.prototype.toSeq=function(){return er(this)};st.prototype.toJS=function(){return On(this)};st.prototype.entries=function(){return this.__iterator(Kt)};st.prototype.__iterator=function(t,r){return er(this).__iterator(t,r)};st.prototype.__iterate=function(t,r){return er(this).__iterate(t,r)};st.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?vo(this,r,t):(this.__ownerID=t,this._values=r,this)};st.isRecord=nr;st.getDescriptiveName=bo;var B=st.prototype;B[ss]=!0;B[Ur]=B.remove;B.deleteIn=B.removeIn=io;B.getIn=Fs;B.hasIn=yt.hasIn;B.merge=Os;B.mergeWith=ks;B.mergeIn=co;B.mergeDeep=Es;B.mergeDeepWith=Ms;B.mergeDeepIn=fo;B.setIn=no;B.update=oo;B.updateIn=ao;B.withMutations=Fr;B.asMutable=Kr;B.asImmutable=Wr;B[En]=B.entries;B.toJSON=B.toObject=yt.toObject;B.inspect=B.toSource=function(){return this.toString()};function vo(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function bo(e){return e.constructor.displayName||e.constructor.name||"Record"}function er(e){return Zi(e._keys.map(function(t){return[t,e.get(t)]}))}function zc(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){zr(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var vr="delete",Y=5,Yt=1<<Y,Rt=Yt-1,I={};function nt(){return{value:!1}}function Q(e){e&&(e.value=!0)}function G(e){return e.value}function Uo(){}function hr(e){return e.size===void 0&&(e.size=e.__iterate(S0)),e.size}function Pe(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?hr(e)+t:t}function S0(){return!0}function cn(e,t,r){return(e===0&&!w0(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function br(e,t){return I0(e,t,0)}function dn(e,t){return I0(e,t,t)}function I0(e,t,r){return e===void 0?r:w0(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function w0(e){return e<0||e===0&&1/e===-1/0}var C0="@@__IMMUTABLE_ITERABLE__@@";function Et(e){return!!(e&&e[C0])}var D0="@@__IMMUTABLE_KEYED__@@";function et(e){return!!(e&&e[D0])}var R0="@@__IMMUTABLE_INDEXED__@@";function Bt(e){return!!(e&&e[R0])}function Wn(e){return et(e)||Bt(e)}var it=function(t){return Et(t)?t:ee(t)},bt=function(e){function t(r){return et(r)?r:Jt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(it),Ee=function(e){function t(r){return Bt(r)?r:Gt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(it),ce=function(e){function t(r){return Et(r)&&!Wn(r)?r:Ge(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(it);it.Keyed=bt;it.Indexed=Ee;it.Set=ce;var P0="@@__IMMUTABLE_SEQ__@@";function Bo(e){return!!(e&&e[P0])}var O0="@@__IMMUTABLE_RECORD__@@";function Yn(e){return!!(e&&e[O0])}function me(e){return Et(e)||Yn(e)}var Sr="@@__IMMUTABLE_ORDERED__@@";function $t(e){return!!(e&&e[Sr])}var fn=0,te=1,Xt=2,Eo=typeof Symbol=="function"&&Symbol.iterator,k0="@@iterator",Jn=Eo||k0,E=function(t){this.next=t};E.prototype.toString=function(){return"[Iterator]"};E.KEYS=fn;E.VALUES=te;E.ENTRIES=Xt;E.prototype.inspect=E.prototype.toSource=function(){return this.toString()};E.prototype[Jn]=function(){return this};function j(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function mt(){return{value:void 0,done:!0}}function Go(e){return!!T0(e)}function Ys(e){return e&&typeof e.next=="function"}function Mo(e){var t=T0(e);return t&&t.call(e)}function T0(e){var t=e&&(Eo&&e[Eo]||e[k0]);if(typeof t=="function")return t}var Ir=Object.prototype.hasOwnProperty;function E0(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var ee=function(e){function t(r){return r==null?Ko():me(r)?r.toSeq():Ac(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var o=this,a=this._cache;if(a){for(var s=a.length,u=0;u!==s;){var c=a[i?s-++u:u++];if(n(c[1],c[0],o)===!1)break}return u}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var o=this._cache;if(o){var a=o.length,s=0;return new E(function(){if(s===a)return mt();var u=o[i?a-++s:s++];return j(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},t}(it),Jt=function(e){function t(r){return r==null?Ko().toKeyedSeq():Et(r)?et(r)?r.toSeq():r.fromEntrySeq():Yn(r)?r.toSeq():Wo(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ee),Gt=function(e){function t(r){return r==null?Ko():Et(r)?et(r)?r.entrySeq():r.toIndexedSeq():Yn(r)?r.toSeq().entrySeq():z0(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ee),Ge=function(e){function t(r){return(Et(r)&&!Wn(r)?r:Gt(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ee);ee.isSeq=Bo;ee.Keyed=Jt;ee.Set=Ge;ee.Indexed=Gt;ee.prototype[P0]=!0;var Oe=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[Pe(this,n)]:i},t.prototype.__iterate=function(n,i){for(var o=this,a=this._array,s=a.length,u=0;u!==s;){var c=i?s-++u:u++;if(n(a[c],c,o)===!1)break}return u},t.prototype.__iterator=function(n,i){var o=this._array,a=o.length,s=0;return new E(function(){if(s===a)return mt();var u=i?a-++s:s++;return j(n,u,o[u])})},t}(Gt),Fo=function(e){function t(r){var n=Object.keys(r);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return Ir.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var o=this,a=this._object,s=this._keys,u=s.length,c=0;c!==u;){var d=s[i?u-++c:c++];if(n(a[d],d,o)===!1)break}return c},t.prototype.__iterator=function(n,i){var o=this._object,a=this._keys,s=a.length,u=0;return new E(function(){if(u===s)return mt();var c=a[i?s-++u:u++];return j(n,c,o[c])})},t}(Jt);Fo.prototype[Sr]=!0;var M0=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=Mo(a),u=0;if(Ys(s))for(var c;!(c=s.next()).done&&n(c.value,u++,o)!==!1;);return u},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=this._collection,a=Mo(o);if(!Ys(a))return new E(mt);var s=0;return new E(function(){var u=a.next();return u.done?u:j(n,s++,u.value)})},t}(Gt),Js;function Ko(){return Js||(Js=new Oe([]))}function Wo(e){var t=Array.isArray(e)?new Oe(e):Go(e)?new M0(e):void 0;if(t)return t.fromEntrySeq();if(typeof e=="object")return new Fo(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function z0(e){var t=A0(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Ac(e){var t=A0(e);if(t)return t;if(typeof e=="object")return new Fo(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function A0(e){return E0(e)?new Oe(e):Go(e)?new M0(e):void 0}var L0="@@__IMMUTABLE_MAP__@@";function Xn(e){return!!(e&&e[L0])}function q0(e){return Xn(e)&&$t(e)}function Xs(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function ct(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Xs(e)&&Xs(t)&&e.equals(t))}var Yo="@@__IMMUTABLE_SORTED__@@";function lr(e){return!!(e&&e[Yo])}var Jr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Zn(e){return e>>>1&1073741824|e&3221225471}var Lc=Object.prototype.valueOf;function Ut(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return qc(e);case"string":return e.length>jc?Nc(e):zo(e);case"object":case"function":return e===null?1108378658:typeof e.hashCode=="function"?Zn(e.hashCode(e)):(e.valueOf!==Lc&&typeof e.valueOf=="function"&&(e=e.valueOf(e)),xc(e));case"undefined":return 1108378659;default:if(typeof e.toString=="function")return zo(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function qc(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return Zn(t)}function Nc(e){var t=wo[e];return t===void 0&&(t=zo(e),Io===Uc&&(Io=0,wo={}),Io++,wo[e]=t),t}function zo(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Zn(t)}function xc(e){var t;if(Ao&&(t=Lo.get(e),t!==void 0)||(t=e[je],t!==void 0)||!Vs&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je],t!==void 0||(t=Hc(e),t!==void 0)))return t;if(t=++So,So&1073741824&&(So=0),Ao)Lo.set(e,t);else{if(Zs!==void 0&&Zs(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Vs)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else if(e.nodeType!==void 0)e[je]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Zs=Object.isExtensible,Vs=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Hc(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ao=typeof WeakMap=="function",Lo;Ao&&(Lo=new WeakMap);var So=0,je="__immutablehash__";typeof Symbol=="function"&&(je=Symbol(je));var jc=16,Uc=255,Io=0,wo={},Xr=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n},Bc=1e3,Gc=.5,Bn=function(e,t,r,n,i){if(!(n<t||n>r))for(;r>t;){if(r-t>Bc){var o=r-t+1,a=n-t+1,s=Math.log(o),u=Gc*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*Math.sign(a-o/2),d=Math.max(t,Math.floor(n-a*u/o+c)),f=Math.min(r,Math.floor(n+(o-a)*u/o+c));Bn(e,d,f,n,i)}var p=e[n],l=t,h=r;for(Xr(e,t,n),i(e[r],p)>0&&Xr(e,r,t);l<h;){for(Xr(e,l++,h--);i(e[l],p)<0;)l++;for(;i(e[h],p)>0;)h--}e[t]===p?Xr(e,t,h):Xr(e,++h,r),h<=n&&(t=h+1),n<=h&&(r=h-1)}},Fc=function(e,t,r){r||(r=function(n,i){return n>i?1:n<i?-1:0}),Bn(e,0,e.length-1,t,r)},Vn=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=Xo(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var o=this,a=Jo(this,n,i);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(n,i)}),a},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a,s){return n(a,s,o)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(Jt);Vn.prototype[Sr]=!0;var N0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var o=this,a=0;return i&&hr(this),this._iter.__iterate(function(s){return n(s,i?o.size-++a:a++,o)},i)},t.prototype.__iterator=function(n,i){var o=this,a=this._iter.__iterator(te,i),s=0;return i&&hr(this),new E(function(){var u=a.next();return u.done?u:j(n,i?o.size-++s:s++,u.value,u)})},t}(Gt),x0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){return n(a,a,o)},i)},t.prototype.__iterator=function(n,i){var o=this._iter.__iterator(te,i);return new E(function(){var a=o.next();return a.done?a:j(n,a.value,a.value,a)})},t}(Ge),H0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){if(a){t0(a);var s=Et(a);return n(s?a.get(1):a[1],s?a.get(0):a[0],o)}},i)},t.prototype.__iterator=function(n,i){var o=this._iter.__iterator(te,i);return new E(function(){for(;;){var a=o.next();if(a.done)return a;var s=a.value;if(s){t0(s);var u=Et(s);return j(n,u?s.get(0):s[0],u?s.get(1):s[1],a)}}})},t}(Jt);N0.prototype.cacheResult=Vn.prototype.cacheResult=x0.prototype.cacheResult=H0.prototype.cacheResult=Vo;function j0(e){var t=re(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Vo,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(o,a){return r(a,o,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Xt){var i=e.__iterator(r,n);return new E(function(){var o=i.next();if(!o.done){var a=o.value[0];o.value[0]=o.value[1],o.value[1]=a}return o})}return e.__iterator(r===te?fn:te,n)},t}function Jo(e,t,r){var n=re(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,o){var a=e.get(i,I);return a===I?o:t.call(r,a,i,e)},n.__iterateUncached=function(i,o){var a=this;return e.__iterate(function(s,u,c){return i(t.call(r,s,u,c),u,a)!==!1},o)},n.__iteratorUncached=function(i,o){var a=e.__iterator(Xt,o);return new E(function(){var s=a.next();if(s.done)return s;var u=s.value,c=u[0];return j(i,c,t.call(r,u[1],c,e),s)})},n}function Xo(e,t){var r=this,n=re(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=j0(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,o){return e.get(t?i:-1-i,o)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Vo,n.__iterate=function(i,o){var a=this,s=0;return o&&hr(e),e.__iterate(function(u,c){return i(u,t?c:o?a.size-++s:s++,a)},!o)},n.__iterator=function(i,o){var a=0;o&&hr(e);var s=e.__iterator(Xt,!o);return new E(function(){var u=s.next();if(u.done)return u;var c=u.value;return j(i,t?c[0]:o?r.size-++a:a++,c[1],u)})},n}function U0(e,t,r,n){var i=re(e);return n&&(i.has=function(o){var a=e.get(o,I);return a!==I&&!!t.call(r,a,o,e)},i.get=function(o,a){var s=e.get(o,I);return s!==I&&t.call(r,s,o,e)?s:a}),i.__iterateUncached=function(o,a){var s=this,u=0;return e.__iterate(function(c,d,f){if(t.call(r,c,d,f))return u++,o(c,n?d:u-1,s)},a),u},i.__iteratorUncached=function(o,a){var s=e.__iterator(Xt,a),u=0;return new E(function(){for(;;){var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return j(o,n?f:u++,p,c)}})},i}function Kc(e,t,r){var n=Fe().asMutable();return e.__iterate(function(i,o){n.update(t.call(r,i,o,e),0,function(a){return a+1})}),n.asImmutable()}function Wc(e,t,r){var n=et(e),i=($t(e)?_e():Fe()).asMutable();e.__iterate(function(a,s){i.update(t.call(r,a,s,e),function(u){return u=u||[],u.push(n?[s,a]:a),u})});var o=F0(e);return i.map(function(a){return A(e,o(a))}).asImmutable()}function Zo(e,t,r,n){var i=e.size;if(cn(t,r,i))return e;var o=br(t,i),a=dn(r,i);if(o!==o||a!==a)return Zo(e.toSeq().cacheResult(),t,r,n);var s=a-o,u;s===s&&(u=s<0?0:s);var c=re(e);return c.size=u===0?u:e.size&&u||void 0,!n&&Bo(e)&&u>=0&&(c.get=function(d,f){return d=Pe(this,d),d>=0&&d<u?e.get(d+o,f):f}),c.__iterateUncached=function(d,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var l=0,h=!0,_=0;return e.__iterate(function(y,b){if(!(h&&(h=l++<o)))return _++,d(y,n?b:_-1,p)!==!1&&_!==u}),_},c.__iteratorUncached=function(d,f){if(u!==0&&f)return this.cacheResult().__iterator(d,f);if(u===0)return new E(mt);var p=e.__iterator(d,f),l=0,h=0;return new E(function(){for(;l++<o;)p.next();if(++h>u)return mt();var _=p.next();return n||d===te||_.done?_:d===fn?j(d,h-1,void 0,_):j(d,h-1,_.value[1],_)})},c}function Yc(e,t,r){var n=re(e);return n.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=0;return e.__iterate(function(u,c,d){return t.call(r,u,c,d)&&++s&&i(u,c,a)}),s},n.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(Xt,o),u=!0;return new E(function(){if(!u)return mt();var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];return t.call(r,p,f,a)?i===Xt?c:j(i,f,p,c):(u=!1,mt())})},n}function B0(e,t,r,n){var i=re(e);return i.__iterateUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterate(o,a);var u=!0,c=0;return e.__iterate(function(d,f,p){if(!(u&&(u=t.call(r,d,f,p))))return c++,o(d,n?f:c-1,s)}),c},i.__iteratorUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterator(o,a);var u=e.__iterator(Xt,a),c=!0,d=0;return new E(function(){var f,p,l;do{if(f=u.next(),f.done)return n||o===te?f:o===fn?j(o,d++,void 0,f):j(o,d++,f.value[1],f);var h=f.value;p=h[0],l=h[1],c&&(c=t.call(r,l,p,s))}while(c);return o===Xt?f:j(o,p,l,f)})},i}function Jc(e,t){var r=et(e),n=[e].concat(t).map(function(a){return Et(a)?r&&(a=bt(a)):a=r?Wo(a):z0(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&et(i)||Bt(e)&&Bt(i))return i}var o=new Oe(n);return r?o=o.toKeyedSeq():Bt(e)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=n.reduce(function(a,s){if(a!==void 0){var u=s.size;if(u!==void 0)return a+u}},0),o}function G0(e,t,r){var n=re(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;function u(c,d){c.__iterate(function(f,p){return(!t||d<t)&&Et(f)?u(f,d+1):(a++,i(f,r?p:a-1,n)===!1&&(s=!0)),!s},o)}return u(e,0),a},n.__iteratorUncached=function(i,o){if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(i,o),s=[],u=0;return new E(function(){for(;a;){var c=a.next();if(c.done!==!1){a=s.pop();continue}var d=c.value;if(i===Xt&&(d=d[1]),(!t||s.length<t)&&Et(d))s.push(a),a=d.__iterator(i,o);else return r?c:j(i,u++,d,c)}return mt()})},n}function Xc(e,t,r){var n=F0(e);return e.toSeq().map(function(i,o){return n(t.call(r,i,o,e))}).flatten(!0)}function Zc(e,t){var r=re(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var o=this,a=0;return e.__iterate(function(s){return(!a||n(t,a++,o)!==!1)&&n(s,a++,o)!==!1},i),a},r.__iteratorUncached=function(n,i){var o=e.__iterator(te,i),a=0,s;return new E(function(){return(!s||a%2)&&(s=o.next(),s.done)?s:a%2?j(n,a++,t):j(n,a++,s.value,s)})},r}function Ue(e,t,r){t||(t=Qn);var n=et(e),i=0,o=e.toSeq().map(function(a,s){return[s,a,i++,r?r(a,s,e):a]}).valueSeq().toArray();return o.sort(function(a,s){return t(a[3],s[3])||a[2]-s[2]}).forEach(n?function(a,s){o[s].length=2}:function(a,s){o[s]=a[1]}),n?Jt(o):Bt(e)?Gt(o):Ge(o)}function Qs(e,t,r,n){r||(r=Qn);var i=et(e),o=0,a=e.toSeq().map(function(u,c){return[c,u,o++,n?n(u,c,e):u]}).valueSeq().toArray(),s=function(u,c){return r(u[3],c[3])||u[2]-c[2]};return Fc(a,t,s),a=a.slice(0,t),a.sort(s).forEach(i?function(u,c){a[c].length=2}:function(u,c){a[c]=u[1]}),i?Jt(a):Bt(e)?Gt(a):Ge(a)}function Gn(e,t,r,n){t||(t=Qn);var i=0,o=e.toSeq().map(function(s,u){return[u,s,i++,r?r(s,u,e):s]}).valueSeq(),a=re(e);return a.__iterateUncached=function(s,u){var c=this,d=o.toArray(),f=u?function(O,C){return t(C,O)}:t,p=function(O,C){return f(O[3],C[3])||O[2]-C[2]},l=d.length>>10;l=Math.min(d.length,10);var h=0,_=-1,y=0,b=0,m;function g(){h=_+1,_=Math.min(_+l,d.length-1),y=_-h+1,b=0,l<<=2,Bn(d,h,d.length-1,_,p),m=d.slice(h,_+1),m.sort(p).forEach(function(O,C){m[C].length=2})}function v(){return b>=y&&g(),m[b++]}for(var D=0;D<d.length;){var P=v();if(s(P[1],n?P[0]:D,c)===!1)break;D++}return D},a.__iteratorUncached=function(s,u){var c=o.toArray(),d=u?function(D,P){return t(P,D)}:t,f=function(D,P){return d(D[3],P[3])||D[2]-P[2]},p=c.length>>10;p=Math.min(c.length,10);var l=0,h=-1,_=0,y=0,b;function m(){l=h+1,h=Math.min(h+p,c.length-1),_=h-l+1,y=0,p<<=2,Bn(c,l,c.length-1,h,f),b=c.slice(l,h+1),b.sort(f).forEach(function(D,P){b[P].length=2})}function g(){return y>=_&&m(),b[y++]}var v=0;return new E(function(){if(v>=c.length)return mt();v++;var D=g(f);return j(s,n?D[0]:v,D[1])})},a}function Nn(e,t,r){if(t||(t=Qn),r){var n=e.toSeq().map(function(i,o){return[i,r(i,o,e)]}).reduce(function(i,o){return $s(t,i[1],o[1])?o:i});return n&&n[0]}return e.reduce(function(i,o){return $s(t,i,o)?o:i})}function $s(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function xn(e,t,r,n){var i=re(e),o=new Oe(r).map(function(a){return a.size});return i.size=n?o.max():o.min(),i.__iterate=function(a,s){for(var u=this,c=this.__iterator(te,s),d,f=0;!(d=c.next()).done&&a(d.value,f++,u)!==!1;);return f},i.__iteratorUncached=function(a,s){var u=r.map(function(f){return f=it(f),Mo(s?f.reverse():f)}),c=0,d=!1;return new E(function(){var f;return d||(f=u.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?mt():j(a,c++,t.apply(null,f.map(function(p){return p.value})))})},i}function A(e,t){return e===t?e:Bo(e)?t:e.constructor(t)}function t0(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function F0(e){return et(e)?bt:Bt(e)?Ee:ce}function re(e){return Object.create((et(e)?Jt:Bt(e)?Gt:Ge).prototype)}function Vo(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ee.prototype.cacheResult.call(this)}function Qn(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ue(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Qo(e,t){if(!e)throw new Error(t)}function Tt(e){Qo(e!==1/0,"Cannot perform this action with an infinite size.")}function K0(e){if(E0(e)&&typeof e!="string")return e;if($t(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Vc(e){return e&&(typeof e.constructor!="function"||e.constructor.name==="Object")}function ke(e){return typeof e=="object"&&(me(e)||Array.isArray(e)||Vc(e))}function en(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function Qc(e,t){return me(e)?e.has(t):ke(e)&&Ir.call(e,t)}function W0(e,t,r){return me(e)?e.get(t,r):Qc(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function Fn(e){if(Array.isArray(e))return ue(e);var t={};for(var r in e)Ir.call(e,r)&&(t[r]=e[r]);return t}function $c(e,t){if(!ke(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(me(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Ir.call(e,t))return e;var r=Fn(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function td(e,t,r){if(!ke(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(me(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Ir.call(e,t)&&r===e[t])return e;var n=Fn(e);return n[t]=r,n}function wr(e,t,r,n){n||(n=r,r=void 0);var i=Y0(me(e),e,K0(t),0,r,n);return i===I?r:i}function Y0(e,t,r,n,i,o){var a=t===I;if(n===r.length){var s=a?i:t,u=o(s);return u===s?t:u}if(!a&&!ke(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(en)+"]: "+t);var c=r[n],d=a?I:W0(t,c,I),f=Y0(d===I?e:me(d),d,r,n+1,i,o);return f===d?t:f===I?$c(t,c):td(a?e?Qt():{}:t,c,f)}function ed(e,t,r){return wr(e,t,I,function(){return r})}function $o(e,t){return ed(this,e,t)}function rd(e,t){return wr(e,t,function(){return I})}function ta(e){return rd(this,e)}function J0(e,t,r,n){return wr(e,[t],r,n)}function ea(e,t,r){return arguments.length===1?e(this):J0(this,e,t,r)}function ra(e,t,r){return wr(this,e,t,r)}function X0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return V0(this,e)}function Z0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return V0(this,t,e)}function V0(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=bt(t[i]);o.size!==0&&n.push(o)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(a){for(var s=r?function(c,d){J0(a,d,I,function(f){return f===I?c:r(f,c,d)})}:function(c,d){a.set(d,c)},u=0;u<n.length;u++)n[u].forEach(s)})}function na(e,t,r){return ia(e,t,nd(r))}function ia(e,t,r){if(!ke(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(me(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?Ee:bt,a=n?function(u){i===e&&(i=Fn(i)),i.push(u)}:function(u,c){var d=Ir.call(i,c),f=d&&r?r(i[c],u,c):u;(!d||f!==i[c])&&(i===e&&(i=Fn(i)),i[c]=f)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function nd(e){function t(r,n,i){return ke(r)&&ke(n)?ia(r,[n],t):e?e(r,n,i):n}return t}function Q0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return na(this,e)}function $0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return na(this,t,e)}function oa(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return wr(this,e,Qt(),function(n){return ia(n,t)})}function aa(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return wr(this,e,Qt(),function(n){return na(n,t)})}function pn(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function hn(){return this.__ownerID?this:this.__ensureOwner(new Uo)}function ln(){return this.__ensureOwner()}function sa(){return this.__altered}var Fe=function(e){function t(r){return r==null?Qt():Xn(r)&&!$t(r)&&!lr(r)?r:Qt().withMutations(function(n){var i=e(r);Tt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Qt().withMutations(function(o){for(var a=0;a<n.length;a+=2){if(a+1>=n.length)throw new Error("Missing value for key: "+n[a]);o.set(n[a],n[a+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return n0(this,n,i)},t.prototype.remove=function(n){return n0(this,n,I)},t.prototype.deleteAll=function(n){var i=it(n);return i.size===0?this:this.withMutations(function(o){i.forEach(function(a){return o.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qt()},t.prototype.sort=function(n){return _e(Ue(this,n))},t.prototype.sortBy=function(n,i){return _e(Ue(this,i,n))},t.prototype.map=function(n,i){return this.withMutations(function(o){o.forEach(function(a,s){o.set(s,n.call(i,a,s,o))})})},t.prototype.__iterator=function(n,i){return new id(this,n,i)},t.prototype.__iterate=function(n,i){var o=this,a=0;return this._root&&this._root.iterate(function(s){return a++,n(s[1],s[0],o)},i),a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?ua(this.size,this._root,n,this.__hash):this.size===0?Qt():(this.__ownerID=n,this.__altered=!1,this)},t}(bt);Fe.isMap=Xn;var J=Fe.prototype;J[L0]=!0;J[vr]=J.remove;J.removeAll=J.deleteAll;J.setIn=$o;J.removeIn=J.deleteIn=ta;J.update=ea;J.updateIn=ra;J.merge=J.concat=X0;J.mergeWith=Z0;J.mergeDeep=Q0;J.mergeDeepWith=$0;J.mergeIn=oa;J.mergeDeepIn=aa;J.withMutations=pn;J.wasAltered=sa;J.asImmutable=ln;J["@@transducer/init"]=J.asMutable=hn;J["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};J["@@transducer/result"]=function(e){return e.asImmutable()};var rn=function(t,r){this.ownerID=t,this.entries=r};rn.prototype.get=function(t,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ct(n,o[a][0]))return o[a][1];return i};rn.prototype.update=function(t,r,n,i,o,a,s){for(var u=o===I,c=this.entries,d=0,f=c.length;d<f&&!ct(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===o:u)return this;if(Q(s),(u||!p)&&Q(a),!(u&&c.length===1)){if(!p&&!u&&c.length>=dd)return od(t,c,i,o);var l=t&&t===this.ownerID,h=l?c:ue(c);return p?u?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,o]:h.push([i,o]),l?(this.entries=h,this):new rn(t,h)}};var _r=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};_r.prototype.get=function(t,r,n,i){r===void 0&&(r=Ut(n));var o=1<<((t===0?r:r>>>t)&Rt),a=this.bitmap;return a&o?this.nodes[tu(a&o-1)].get(t+Y,r,n,i):i};_r.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=Ut(i));var u=(r===0?n:n>>>r)&Rt,c=1<<u,d=this.bitmap,f=(d&c)!==0;if(!f&&o===I)return this;var p=tu(d&c-1),l=this.nodes,h=f?l[p]:void 0,_=ca(h,t,r+Y,n,i,o,a,s);if(_===h)return this;if(!f&&_&&l.length>=fd)return sd(t,l,d,u,_);if(f&&!_&&l.length===2&&i0(l[p^1]))return l[p^1];if(f&&_&&l.length===1&&i0(_))return _;var y=t&&t===this.ownerID,b=f?_?d:d^c:d|c,m=f?_?eu(l,p,_,y):cd(l,p,y):ud(l,p,_,y);return y?(this.bitmap=b,this.nodes=m,this):new _r(t,b,m)};var nn=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};nn.prototype.get=function(t,r,n,i){r===void 0&&(r=Ut(n));var o=(t===0?r:r>>>t)&Rt,a=this.nodes[o];return a?a.get(t+Y,r,n,i):i};nn.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=Ut(i));var u=(r===0?n:n>>>r)&Rt,c=o===I,d=this.nodes,f=d[u];if(c&&!f)return this;var p=ca(f,t,r+Y,n,i,o,a,s);if(p===f)return this;var l=this.count;if(!f)l++;else if(!p&&(l--,l<pd))return ad(t,d,l,u);var h=t&&t===this.ownerID,_=eu(d,u,p,h);return h?(this.count=l,this.nodes=_,this):new nn(t,l,_)};var mr=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};mr.prototype.get=function(t,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ct(n,o[a][0]))return o[a][1];return i};mr.prototype.update=function(t,r,n,i,o,a,s){n===void 0&&(n=Ut(i));var u=o===I;if(n!==this.keyHash)return u?this:(Q(s),Q(a),da(this,t,r,n,[i,o]));for(var c=this.entries,d=0,f=c.length;d<f&&!ct(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===o:u)return this;if(Q(s),(u||!p)&&Q(a),u&&f===2)return new le(t,this.keyHash,c[d^1]);var l=t&&t===this.ownerID,h=l?c:ue(c);return p?u?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,o]:h.push([i,o]),l?(this.entries=h,this):new mr(t,this.keyHash,h)};var le=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};le.prototype.get=function(t,r,n,i){return ct(n,this.entry[0])?this.entry[1]:i};le.prototype.update=function(t,r,n,i,o,a,s){var u=o===I,c=ct(i,this.entry[0]);if(c?o===this.entry[1]:u)return this;if(Q(s),u){Q(a);return}return c?t&&t===this.ownerID?(this.entry[1]=o,this):new le(t,this.keyHash,[i,o]):(Q(a),da(this,t,r,Ut(i),[i,o]))};rn.prototype.iterate=mr.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};_r.prototype.iterate=nn.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&o.iterate(e,t)===!1)return!1}};le.prototype.iterate=function(e,t){return e(this.entry)};var id=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&e0(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,o=this._stack;o;){var a=o.node,s=o.index++,u=void 0;if(a.entry){if(s===0)return Co(i,a.entry)}else if(a.entries){if(u=a.entries.length-1,s<=u)return Co(i,a.entries[n._reverse?u-s:s])}else if(u=a.nodes.length-1,s<=u){var c=a.nodes[n._reverse?u-s:s];if(c){if(c.entry)return Co(i,c.entry);o=n._stack=e0(c,o)}continue}o=n._stack=n._stack.__prev}return mt()},t}(E);function Co(e,t){return j(e,t[0],t[1])}function e0(e,t){return{node:e,index:0,__prev:t}}function ua(e,t,r,n){var i=Object.create(J);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var r0;function Qt(){return r0||(r0=ua(0))}function n0(e,t,r){var n,i;if(e._root){var o=nt(),a=nt();if(n=ca(e._root,e.__ownerID,0,void 0,t,r,o,a),!G(a))return e;i=e.size+(G(o)?r===I?-1:1:0)}else{if(r===I)return e;i=1,n=new rn(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?ua(i,n):Qt()}function ca(e,t,r,n,i,o,a,s){return e?e.update(t,r,n,i,o,a,s):o===I?e:(Q(s),Q(a),new le(t,n,[i,o]))}function i0(e){return e.constructor===le||e.constructor===mr}function da(e,t,r,n,i){if(e.keyHash===n)return new mr(t,n,[e.entry,i]);var o=(r===0?e.keyHash:e.keyHash>>>r)&Rt,a=(r===0?n:n>>>r)&Rt,s,u=o===a?[da(e,t,r+Y,n,i)]:(s=new le(t,n,i),o<a?[e,s]:[s,e]);return new _r(t,1<<o|1<<a,u)}function od(e,t,r,n){e||(e=new Uo);for(var i=new le(e,Ut(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function ad(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=u,a[o++]=d)}return new _r(e,i,a)}function sd(e,t,r,n,i){for(var o=0,a=new Array(Yt),s=0;r!==0;s++,r>>>=1)a[s]=r&1?t[o++]:void 0;return a[n]=i,new nn(e,o+1,a)}function tu(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function eu(e,t,r,n){var i=n?e:ue(e);return i[t]=r,i}function ud(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}function cd(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}var dd=Yt/4,fd=Yt/2,pd=Yt/4,ru="@@__IMMUTABLE_LIST__@@";function nu(e){return!!(e&&e[ru])}var $n=function(e){function t(r){var n=Un();if(r==null)return n;if(nu(r))return r;var i=e(r),o=i.size;return o===0?n:(Tt(o),o>0&&o<Yt?on(0,o,Y,null,new Re(i.toArray())):n.withMutations(function(a){a.setSize(o),i.forEach(function(s,u){return a.set(u,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=Pe(this,n),n>=0&&n<this.size){n+=this._origin;var o=iu(this,n);return o&&o.array[n&Rt]}return i},t.prototype.set=function(n,i){return hd(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Un()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(o){De(o,0,i+n.length);for(var a=0;a<n.length;a++)o.set(i+a,n[a])})},t.prototype.pop=function(){return De(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){De(i,-n.length);for(var o=0;o<n.length;o++)i.set(o,n[o])})},t.prototype.shift=function(){return De(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++){var a=n[o],s=e(typeof a!="string"&&Go(a)?a:[a]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(c){return c.forEach(function(d){return u.push(d)})})})},t.prototype.setSize=function(n){return De(this,0,n)},t.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){for(var s=0;s<o.size;s++)a.set(s,n.call(i,a.get(s),s,a))})},t.prototype.slice=function(n,i){var o=this.size;return cn(n,i,o)?this:De(this,br(n,o),dn(i,o))},t.prototype.__iterator=function(n,i){var o=i?this.size:0,a=o0(this,i);return new E(function(){var s=a();return s===tn?mt():j(n,i?--o:o++,s)})},t.prototype.__iterate=function(n,i){for(var o=this,a=i?this.size:0,s=o0(this,i),u;(u=s())!==tn&&n(u,i?--a:a++,o)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?on(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Un():(this.__ownerID=n,this.__altered=!1,this)},t}(Ee);$n.isList=nu;var dt=$n.prototype;dt[ru]=!0;dt[vr]=dt.remove;dt.merge=dt.concat;dt.setIn=$o;dt.deleteIn=dt.removeIn=ta;dt.update=ea;dt.updateIn=ra;dt.mergeIn=oa;dt.mergeDeepIn=aa;dt.withMutations=pn;dt.wasAltered=sa;dt.asImmutable=ln;dt["@@transducer/init"]=dt.asMutable=hn;dt["@@transducer/step"]=function(e,t){return e.push(t)};dt["@@transducer/result"]=function(e){return e.asImmutable()};var Re=function(t,r){this.array=t,this.ownerID=r};Re.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Rt;if(i>=this.array.length)return new Re([],t);var o=i===0,a;if(r>0){var s=this.array[i];if(a=s&&s.removeBefore(t,r-Y,n),a===s&&o)return this}if(o&&!a)return this;var u=gr(this,t);if(!o)for(var c=0;c<i;c++)u.array[c]=void 0;return a&&(u.array[i]=a),u};Re.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Rt;if(i>=this.array.length)return this;var o;if(r>0){var a=this.array[i];if(o=a&&a.removeAfter(t,r-Y,n),o===a&&i===this.array.length-1)return this}var s=gr(this,t);return s.array.splice(i+1),o&&(s.array[i]=o),s};var tn={};function o0(e,t){var r=e._origin,n=e._capacity,i=an(n),o=e._tail;return a(e._root,e._level,0);function a(c,d,f){return d===0?s(c,f):u(c,d,f)}function s(c,d){var f=d===i?o&&o.array:c&&c.array,p=d>r?0:r-d,l=n-d;return l>Yt&&(l=Yt),function(){if(p===l)return tn;var h=t?--l:p++;return f&&f[h]}}function u(c,d,f){var p,l=c&&c.array,h=f>r?0:r-f>>d,_=(n-f>>d)+1;return _>Yt&&(_=Yt),function(){for(;;){if(p){var y=p();if(y!==tn)return y;p=null}if(h===_)return tn;var b=t?--_:h++;p=a(l&&l[b],d-Y,f+(b<<d))}}}}function on(e,t,r,n,i,o,a){var s=Object.create(dt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}var a0;function Un(){return a0||(a0=on(0,0,Y))}function hd(e,t,r){if(t=Pe(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?De(a,t).set(0,r):De(a,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,o=nt();return t>=an(e._capacity)?n=qo(n,e.__ownerID,0,t,r,o):i=qo(i,e.__ownerID,e._level,t,r,o),G(o)?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):on(e._origin,e._capacity,e._level,i,n):e}function qo(e,t,r,n,i,o){var a=n>>>r&Rt,s=e&&a<e.array.length;if(!s&&i===void 0)return e;var u;if(r>0){var c=e&&e.array[a],d=qo(c,t,r-Y,n,i,o);return d===c?e:(u=gr(e,t),u.array[a]=d,u)}return s&&e.array[a]===i?e:(o&&Q(o),u=gr(e,t),i===void 0&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function gr(e,t){return t&&e&&t===e.ownerID?e:new Re(e?e.array.slice():[],t)}function iu(e,t){if(t>=an(e._capacity))return e._tail;if(t<1<<e._level+Y){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Rt],n-=Y;return r}}function De(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new Uo,i=e._origin,o=e._capacity,a=i+t,s=r===void 0?o:r<0?o+r:i+r;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,d=0;a+d<0;)c=new Re(c&&c.array.length?[void 0,c]:[],n),u+=Y,d+=1<<u;d&&(a+=d,i+=d,s+=d,o+=d);for(var f=an(o),p=an(s);p>=1<<u+Y;)c=new Re(c&&c.array.length?[c]:[],n),u+=Y;var l=e._tail,h=p<f?iu(e,s-1):p>f?new Re([],n):l;if(l&&p>f&&a<o&&l.array.length){c=gr(c,n);for(var _=c,y=u;y>Y;y-=Y){var b=f>>>y&Rt;_=_.array[b]=gr(_.array[b],n)}_.array[f>>>Y&Rt]=l}if(s<o&&(h=h&&h.removeAfter(n,0,s)),a>=p)a-=p,s-=p,u=Y,c=null,h=h&&h.removeBefore(n,0,a);else if(a>i||p<f){for(d=0;c;){var m=a>>>u&Rt;if(m!==p>>>u&Rt)break;m&&(d+=(1<<u)*m),u-=Y,c=c.array[m]}c&&a>i&&(c=c.removeBefore(n,u,a-d)),c&&p<f&&(c=c.removeAfter(n,u,p-d)),d&&(a-=d,s-=d)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):on(a,s,u,c,h)}function an(e){return e<Yt?0:e-1>>>Y<<Y}var _e=function(e){function t(r){return r==null?Vr():q0(r)?r:Vr().withMutations(function(n){var i=bt(r);Tt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var o=this._map.get(n);return o!==void 0?this._list.get(o)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Vr()},t.prototype.set=function(n,i){return u0(this,n,i)},t.prototype.remove=function(n){return u0(this,n,I)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(n,i){var o=this;return this._list.__iterate(function(a){return a&&n(a[1],a[0],o)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),o=this._list.__ensureOwner(n);return n?fa(i,o,n,this.__hash):this.size===0?Vr():(this.__ownerID=n,this._map=i,this._list=o,this)},t}(Fe);_e.isOrderedMap=q0;_e.prototype[Sr]=!0;_e.prototype[vr]=_e.prototype.remove;function fa(e,t,r,n){var i=Object.create(_e.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}var s0;function Vr(){return s0||(s0=fa(Qt(),Un()))}function u0(e,t,r){var n=e._map,i=e._list,o=n.get(t),a=o!==void 0,s,u;if(r===I){if(!a)return e;i.size>=Yt&&i.size>=n.size*2?(u=i.filter(function(c,d){return c!==void 0&&o!==d}),s=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=n.remove(t),u=o===i.size-1?i.pop():i.set(o,void 0))}else if(a){if(r===i.get(o)[1])return e;s=n,u=i.set(o,[t,r])}else s=n.set(t,i.size),u=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e):fa(s,u)}function ou(e){return Xn(e)&&lr(e)}var ge=function(t,r,n){this.comparator=t,this.options=r,this.ownerID=n};ge.prototype.getComparator=function(){};ge.prototype.get=function(t,r){};ge.prototype.upsert=function(t,r,n,i,o){};ge.prototype.remove=function(t,r,n,i){};ge.prototype.fastRemove=function(t,r,n,i){};ge.prototype.iterate=function(t,r){};ge.prototype.print=function(t,r){};ge.prototype.checkConsistency=function(t){};var au=function(){};au.prototype.pack=function(t,r,n,i){};var ti=function(){};ti.prototype.createNode=function(t,r,n,i,o){};ti.prototype.createPacker=function(){};ti.prototype.createIterator=function(t,r,n){};var ld="btree",su=33,ft=function(e){function t(r,n,i,o,a){return e.call(this,r,n,i),this.entries=o,this.nodes=a,this.btreeOrder=n&&n.btreeOrder?n.btreeOrder:su,this.btreeNodeSplitSize=Math.floor((this.btreeOrder-1)/2),this._calcSize(),this}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._calcSize=function(){var n=this;this.size=0;for(var i=0;i<this.entries.length;i++)n.entries[i][1]!==I&&n.size++;if(this.nodes)for(var o=0;o<this.nodes.length;o++)n.size+=n.nodes[o].size},t.prototype.getComparator=function(){return this.comparator},t.prototype.get=function(n,i){var o=this.entries,a=nt(),s=pr(this.comparator,o,n,a);if(G(a)){var u=o[s][1];return u===I?i:u}var c=this.nodes;if(c){var d=c[s].get(n,i);return d===I?i:d}return i},t.prototype.entryAt=function(n){var i=nt(),o=nt(),a=this.indexSearch(n,i,o);if(G(i)){var s=this.entries[a],u=s[0],c=s[1];return[u,c]}return this.nodes[a].entryAt(o.value)},t.prototype.keyAt=function(n){var i=nt(),o=nt(),a=this.indexSearch(n,i,o);if(G(i)){var s=this.entries[a],u=s[0];return u}return this.nodes[a].keyAt(o.value)},t.prototype.valueAt=function(n){var i=nt(),o=nt(),a=this.indexSearch(n,i,o);if(G(i)){var s=this.entries[a],u=s[1];return u}return this.nodes[a].valueAt(o.value)},t.prototype.firstKey=function(){var n=this.nodes;if(n)return n[0].firstKey();var i=this.entries;return i[0][0]},t.prototype.lastKey=function(){var n=this.nodes;if(n)return n[n.length-1].lastKey();var i=this.entries;return i[i.length-1][0]},t.prototype.upsert=function(n,i,o,a,s,u){var c=this._upsert(n,i,o,a,s,u);return this===c&&G(a)&&this.size++,c},t.prototype._upsert=function(n,i,o,a,s,u){if(!u){var c=[],d=this.upsert(n,i,o,a,s,c);if(c[0]){var f=[c[0]],p=[d,c[1]];d=new t(this.comparator,this.options,n,f,p)}return d}var l=this.entries,h=nt(),_=pr(this.comparator,l,i,h),y=G(h),b=this.nodes,m=n&&n===this.ownerID,g,v;if(y){if(l[_][1]===o)return this;var D=[i,o];Q(s),l[_][1]===I&&Q(a),g=he(l,_,D,m),v=dr(b,m)}else if(b){var P=[],O=b[_].upsert(n,i,o,a,s,P);if(G(s))if(P[0]){if(l.length>=this.btreeOrder-1)return this.splitNode(_,O,P,u,n,m);g=Ro(l,_,P[0],m),v=Ro(b,_+1,P[1],m),v[_]=O}else g=dr(l,m),v=he(b,_,O,m);else return this}else{var C=[i,o];if(Q(s),Q(a),l.length>=this.btreeOrder-1)return this.splitLeaf(_,C,u,n,m);g=Ro(l,_,C,m)}return this.makeNewNode(g,v,n,m)},t.prototype.fastRemove=function(n,i,o,a){var s=this._fastRemove(n,i,o,a);return this===s&&G(o)&&this.size--,s},t.prototype._fastRemove=function(n,i,o,a){var s=this.entries,u=nt(),c=pr(this.comparator,s,i,u),d=G(u),f=this.nodes,p=n&&n===this.ownerID,l,h;if(d){if(s[c][1]===I)return this;Q(a),Q(o);var _=[i,I];l=he(s,c,_,p),h=dr(f,p)}else if(f){var y=f[c].fastRemove(n,i,o,a);if(G(a))l=dr(s,p),h=he(f,c,y,p);else return this}else return this;return this.makeNewNode(l,h,n,p)},t.prototype.remove=function(n,i,o,a,s,u,c){var d=this._remove(n,i,o,a,s,u,c);return this===d&&G(o)&&this.size--,d},t.prototype._remove=function(n,i,o,a,s,u,c){var d=this.entries,f=nt(),p=pr(this.comparator,d,i,f),l=G(f),h=this.nodes,_=n&&n===this.ownerID,y,b;if(l)if(h){if(d[p][1]===I)return this;Q(a),Q(o);var m=[i,I];y=he(d,p,m,_),b=dr(h,_)}else{if(d[p][1]===I)return this;if(Q(a),Q(o),d.length<=this.btreeNodeSplitSize&&s)return this.consolidateLeaf(n,p,s,u,_,c);y=Be(d,p,_)}else if(h){var g=[void 0,void 0,void 0],v=h[p].remove(n,i,o,a,this,p,g);return G(a)?this.spliceNode(n,p,v,s,u,_,g,c):this}else return this;return this.makeNewNode(y,b,n,_)},t.prototype.makeNewNode=function(n,i,o,a){return n.length===0?i?i[0]:void 0:a?(this.entries=n,this.nodes=i,this._calcSize(),this):new t(this.comparator,this.options,o,n,i)},t.prototype.print=function(n,i){function o(l){process.stdout.write(l)}if(!(i&&n>=i)){var a=this.nodes,s=this.entries;if(o(Zr(n)),o("SIZE="+this.size+`
`),a)for(var u=0;u<a.length;u++){var c=a[u];if(o(Zr(n)),!c||!(c instanceof e)?o("+ CORRUPT NODE["+u+"] (L"+n+") "+JSON.stringify(c)+`
`):(c.nodes?o("+ NODE["+u+"] (L"+n+`)
`):o("+ LEAF["+u+"] (L"+n+`)
`),c.print(n+1,i)),u<s.length){o(Zr(n));var d=s[u];d?d[1]===I?o("- REMOVED ENTRY["+u+"]: "+JSON.stringify(d[0])+`
`):o("- ENTRY["+u+"]: "+JSON.stringify(d[0])+`
`):o("- CORRUPT ENTRY["+u+"]: "+JSON.stringify(d)+`
`)}}else for(var f=0;f<s.length;f++){o(Zr(n));var p=s[f];p?p[1]===I?o("- REMOVED ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):o("- ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):o("- CORRUPT ENTRY["+f+"]: "+JSON.stringify(p)+`
`)}}},t.prototype.checkConsistency=function(n,i,o,a){var s=this;function u(g){if(n){var v=g();v!==void 0&&(process.stdout.write(Zr(i)),process.stdout.write(v))}}i||(i=0),o||(o=0),a||(a=[void 0]),this.nodes?u(function(){return"+ Checking NODE["+o+"] (L"+i+`)
`}):(u(function(){return"+ Checking LEAF["+o+"] (L"+i+`)
`}),a[0]===void 0?a[0]=i:a[0]!==i&&c(112,"leaves are not on the same level"));function c(g,v){var D="Consistency Check Failed with error code "+g+": "+v;if(n)return u(function(){return D+`
`}),g;throw new Error(D)}var d=this.entries,f=this.nodes;if(!d)return c(101,"empty entries in a node");if(!(d.length>0&&d.length<this.btreeOrder))return c(102,"entries length is out of range from 0 to (btreeOrder-1)");if(i>0&&!(this.btreeNodeSplitSize<=d.length))return c(103,"entries length is shorter than btreeNodeSplitSize");if(f&&f.length!==d.length+1)return c(104,"nodes length out of sync with entries length");for(var p=function(g){var v=d[g];if(!v)return{v:c(105,"empty entry")};if(!(typeof v=="object"&&v instanceof Array))return{v:c(106,"entry is not Array")};if(v.length!==2)return{v:c(107,"entry is not Array[2]")};v[1]===I?(u(function(){return"    - Checking REMOVED ENTRY["+g+"]: "+JSON.stringify(v[0])+`
`}),f||c(113,"NOT_SET values are not allowed in leaves")):u(function(){return"    - Checking ENTRY["+g+"]: "+JSON.stringify(v[0])+`
`})},l=0;l<d.length;l++){var h=p(l);if(h)return h.v}for(var _=0;_<d.length-1;_++)if(!(s.comparator(d[_][0],d[_+1][0])<0))return c(108,"the entries are not sorted");if(f)for(var y=0;y<f.length;y++){var b=f[y];if(!b||!(b instanceof e))return c(109,"empty or corrupt node");var m=b.checkConsistency(n,i+1,y,a);if(m!==0)return m;if(y>0&&!(s.comparator(d[y-1][0],b.firstKey())<0))return c(110,"the entry and right node not sorted");if(y<d.length&&!(s.comparator(b.lastKey(),d[y][0])<0))return c(111,"the entry and left node not sorted")}return 0},t}(ge);ft.prototype.iterate=function(e,t){var r=this.entries,n=this.nodes;if(n){for(var i=0,o=r.length-1;i<=o;i++){var a=n[t?o+1-i:i];if(a.iterate(e,t)===!1)return!1;var s=r[t?o-i:i];if(s[1]!==I&&e(s)===!1)return!1}var u=n[t?0:n.length-1];if(u.iterate(e,t)===!1)return!1}else for(var c=0,d=r.length-1;c<=d;c++){var f=r[t?d-c:c];if(f[1]!==I&&e(f)===!1)return!1}return!0};ft.prototype.iterateFrom=function(e,t,r){var n=this;if(r)return this.iterate(function(y){return n.comparator(e,y[0])<=0?t(y):!0},r);var i=this.entries,o=this.nodes,a=nt(),s=pr(this.comparator,i,e,a);if(o){for(var u=s,c=i.length-1;u<=c;u++){var d=o[u];if(u===s&&!G(a)){if(d.iterateFrom(e,t,r)===!1)return!1}else if(u>s&&d.iterate(t,r)===!1)return!1;var f=i[u];if(f[1]!==I&&t(f)===!1)return!1}var p=o[o.length-1];if(s===o.length-1){if(p.iterateFrom(e,t,r)===!1)return!1}else if(p.iterate(t,r)===!1)return!1}else for(var l=s,h=i.length-1;l<=h;l++){var _=i[l];if(_[1]!==I&&t(_)===!1)return!1}return!0};ft.prototype.iterateFromBackwards=function(e,t,r){var n=this;if(r)return this.iterate(function(l){return n.comparator(l[0],e)<=0?t(l):!0},!1);var i=this.entries,o=this.nodes,a=nt(),s=pr(this.comparator,i,e,a);if(o)for(var u=s;u>=0;u--){if(u<s||G(a)){var c=i[u];if(c[1]===I)continue;if(t(c)===!1)return!1}var d=o[u];if(u===s&&!G(a)){if(d.iterateFromBackwards(e,t,r)===!1)return!1}else if(d.iterate(t,!0)===!1)return!1}else for(var f=G(a)?s:s-1;f>=0;f--){var p=i[f];if(p[1]!==I&&t(p)===!1)return!1}return!0};ft.prototype.iterateFromIndex=function(e,t){var r=this.entries,n=this.nodes,i=nt(),o=nt(),a=this.indexSearch(e,i,o);if(n){for(var s=a,u=r.length-1;s<=u;s++){var c=n[s];if(s===a&&!G(i)){if(c.iterateFromIndex(o.value,t)===!1)return!1}else if(s>a&&c.iterate(t,!1)===!1)return!1;var d=r[s];if(d[1]!==I&&t(d)===!1)return!1}var f=n[n.length-1];if(a===n.length-1){if(f.iterateFromIndex(o.value,t)===!1)return!1}else if(f.iterate(t,!1)===!1)return!1}else for(var p=a,l=r.length-1;p<=l;p++){var h=r[p];if(h[1]!==I&&t(h)===!1)return!1}return!0};ft.prototype.iterateFromIndexBackwards=function(e,t){var r=this.entries,n=this.nodes,i=nt(),o=nt(),a=this.indexSearch(e,i,o);if(n)for(var s=a;s>=0;s--){if(s<a||G(i)){var u=r[s];if(u[1]===I)continue;if(t(u)===!1)return!1}var c=n[s];if(s===a&&!G(i)){if(c.iterateFromIndexBackwards(o.value,t)===!1)return!1}else if(c.iterate(t,!0)===!1)return!1}else for(var d=G(i)?a:a-1;d>=0;d--){var f=r[d];if(f[1]!==I&&t(f)===!1)return!1}return!0};var _d=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&d0(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,o=this._stack;o;){var a=o.node,s=o.index++;if(a.nodes){var u=a.entries.length+a.nodes.length-1;if(s<=u)if(s%2===0){s/=2;var c=a.nodes[n._reverse?a.nodes.length-1-s:s];c&&(o=n._stack=d0(c,o));continue}else{s=(s-1)/2;var d=a.entries[n._reverse?a.entries.length-1-s:s];if(d[1]===I)continue;return c0(i,d)}}else{var f=a.entries.length-1;if(s<=f){var p=a.entries[n._reverse?f-s:s];if(p[1]===I)continue;return c0(i,p)}}o=n._stack=n._stack.__prev}return mt()},t}(E);function c0(e,t){return j(e,t[0],t[1])}function d0(e,t){return{node:e,index:0,__prev:t}}function ut(e){var t=new Array(e);return t}var Do=new Array(120).join(" ");function Zr(e){var t=4*e;return t>Do.length&&(t=Do.length),Do.substring(0,t)}function dr(e,t){if(e===void 0||t)return e;for(var r=e.length,n=ut(r),i=0;i<r;i++)n[i]=e[i];return n}function he(e,t,r,n){if(n)return e[t]=r,e;for(var i=e.length,o=ut(i),a=0;a<t;a++)o[a]=e[a];o[t]=r;for(var s=t+1;s<i;s++)o[s]=e[s];return o}function Ro(e,t,r,n){var i=e.length+1;if(n){for(var o=i-1,a=t+1;o>=a;o--)e[o]=e[o-1];return e[t]=r,e}for(var s=ut(i),u=0;u<t;u++)s[u]=e[u];s[t]=r;for(var c=t+1;c<i;c++)s[c]=e[c-1];return s}function Be(e,t,r){var n=e.length-1;if(r){for(var i=t;i<n;i++)e[i]=e[i+1];return e.length=n,e}for(var o=ut(n),a=0;a<t;a++)o[a]=e[a];for(var s=t;s<n;s++)o[s]=e[s+1];return o}function fr(e,t,r,n){var i=e.length-r;if(n){for(var o=t;o<i;o++)e[o]=e[o+r];return e.length=i,e}for(var a=ut(i),s=0;s<t;s++)a[s]=e[s];for(var u=t;u<i;u++)a[u]=e[u+r];return a}function No(e,t,r,n){var i=e.length-1+r,o;n?(e.length=i,o=e):o=ut(i);for(var a=i-1,s=t+r;a>=s;a--)o[a]=e[a-r+1];for(var u=t+r-1;u>=r;u--)o[u]=e[u-r];return o}function f0(e,t,r,n,i){var o=Be(e,n,i);return t<n?o[t]=r:t>n&&(o[t-1]=r),o}function pr(e,t,r,n){for(var i=0,o=t.length;o>0;){var a=Math.floor(o/2),s=t[i+a],u=s[0],c=e(r,u);if(c===0)return Q(n),i+a;c>0?(i+=a+1,o-=a+1):o=a}return i}ft.prototype.indexSearch=function(e,t,r){if(e<0||e>=this.size)throw new Error("BtreeNode.indexSearch: index is out of bounds: "+e+" vs "+this.size);for(var n=this.entries,i=this.nodes,o=0;o<n.length;o++){if(i){var a=i[o];if(e<a.size)return r.value=e,o;e-=a.size}var s=n[o];if(s[1]!==I){if(e===0)return Q(t),o;e--}}if(i){var u=i[i.length-1];if(e<u.size)return r.value=e,i.length-1}throw new Error("BtreeNode.indexSearch: inconsistent node size")};ft.prototype.splitNode=function(e,t,r,n,i,o){var a=this.entries,s=this.nodes,u=this.btreeNodeSplitSize,c,d;if(e<u){var f=a.slice(u,a.length),p=s.slice(u,s.length),l=new ft(this.comparator,this.options,this.ownerID,f,p);if(n[0]=a[u-1],n[1]=l,o){a.length=u,s.length=u+1;for(var h=u-1;h>=e+1;h--)a[h]=a[h-1],s[h+1]=s[h];a[e]=r[0],s[e]=t,s[e+1]=r[1],c=a,d=s}else{c=ut(u),d=ut(u+1);for(var _=0;_<e;_++)c[_]=a[_],d[_]=s[_];c[e]=r[0],d[e]=t,d[e+1]=r[1];for(var y=e+1;y<u;y++)c[y]=a[y-1],d[y+1]=s[y]}}else if(e===u){var b=ut(a.length-u),m=ut(s.length-u);b[0]=a[u],m[0]=r[1];for(var g=1,v=b.length;g<v;g++)b[g]=a[u+g],m[g]=s[u+g];m[m.length-1]=s[s.length-1];var D=new ft(this.comparator,this.options,this.ownerID,b,m);if(n[0]=r[0],n[1]=D,o)a.length=u,s.length=u+1,s[e]=t,c=a,d=s;else{c=ut(u),d=ut(u+1);for(var P=0;P<u;P++)c[P]=a[P],d[P]=s[P];d[e]=t}}else{for(var O=ut(a.length-u),C=ut(s.length-u),N=u+1,K=e-N,U=0,ot=K;U<ot;U++)O[U]=a[N+U],C[U]=s[N+U];O[K]=r[0],C[K]=t,C[K+1]=r[1];for(var X=K+1,ye=O.length;X<ye;X++)O[X]=a[u+X],C[X+1]=s[u+X+1];var ve=new ft(this.comparator,this.options,this.ownerID,O,C);n[0]=a[u],n[1]=ve,o?(a.length=u,s.length=u+1,c=a,d=s):(c=a.slice(0,u),d=s.slice(0,u+1))}return this.makeNewNode(c,d,i,o)};ft.prototype.splitLeaf=function(e,t,r,n,i){var o=this.entries,a=this.btreeNodeSplitSize,s,u;if(e<a){var c=o.slice(a,o.length),d=new ft(this.comparator,this.options,this.ownerID,c);if(r[0]=o[a-1],r[1]=d,i){o.length=a;for(var f=a-1;f>=e+1;f--)o[f]=o[f-1];o[e]=t,s=o}else{s=ut(a);for(var p=0;p<e;p++)s[p]=o[p];s[e]=t;for(var l=e+1;l<a;l++)s[l]=o[l-1]}}else if(e===a){var h=ut(o.length-a);h[0]=o[a];for(var _=1,y=h.length;_<y;_++)h[_]=o[a+_];var b=new ft(this.comparator,this.options,this.ownerID,h);if(r[0]=t,r[1]=b,i)o.length=a,s=o;else{s=ut(a);for(var m=0;m<a;m++)s[m]=o[m]}}else{for(var g=ut(o.length-a),v=a+1,D=e-v,P=0,O=D;P<O;P++)g[P]=o[v+P];g[D]=t;for(var C=D+1,N=g.length;C<N;C++)g[C]=o[a+C];var K=new ft(this.comparator,this.options,this.ownerID,g);r[0]=o[a],r[1]=K,i?(o.length=a,s=o):s=o.slice(0,a)}return this.makeNewNode(s,u,n,i)};ft.prototype.spliceNode=function(e,t,r,n,i,o,a,s){var u=this.entries,c=this.nodes,d,f,p=a[0],l=a[1],h=a[2];if(l===I){if(u.length<=this.btreeNodeSplitSize&&n)return h?this.consolidateNode(e,t,r,t-1,t-1,n,i,o,s):this.consolidateNode(e,t,r,t,t+1,n,i,o,s);h?(f=f0(c,t,r,t-1,o),d=Be(u,t-1,o)):(f=f0(c,t,r,t+1,o),d=Be(u,t,o))}else f=he(c,t,r,o),l?h?(f[t-1]=l,d=he(u,t-1,p,o)):(f[t+1]=l,d=he(u,t,p,o)):p?d=he(u,t,p,o):d=dr(u,o);return this.makeNewNode(d,f,e,o)};ft.prototype.consolidateNode=function(e,t,r,n,i,o,a,s,u){var c=this.entries,d=this.nodes,f=o.entries,p=o.nodes,l,h,_,y;if(a===0)y=p[a+1],h=l=y;else if(a===p.length-1)_=p[a-1],h=l=_;else{_=p[a-1],y=p[a+1];var b=(_.entries.length-this.btreeNodeSplitSize+1)/2,m=(y.entries.length-this.btreeNodeSplitSize+1)/2;b>=m?(l=_,h=y):(l=y,h=_)}var g,v;function D(C,N,K){g=No(c,n,N,s),v=No(d,i,N,s);var U=t<i?t+N:t+N-1;v[U]=r;var ot=N-1;g[ot]=f[a-1],v[ot--]=C.nodes[C.nodes.length-1];var X;for(X=C.entries.length-1;ot>=0;ot--,X--)g[ot]=C.entries[X],v[ot]=C.nodes[X];if(K)u[1]=I;else{u[0]=C.entries[X];var ye=fr(C.entries,C.entries.length-N,N,s),ve=fr(C.nodes,C.nodes.length-N,N,s);u[1]=C.makeNewNode(ye,ve,e,s)}u[2]=!0}function P(C,N,K){g=Be(c,n,s),v=Be(d,i,s);var U=g.length;g.length+=N,v.length+=N;var ot=t<i?t:t-1;v[ot]=r,g[U++]=f[a],v[U]=C.nodes[0];for(var X=0,ye=N-1;X<ye;X++)g[U+X]=C.entries[X],v[U+X+1]=C.nodes[X+1];if(K)u[1]=I;else{u[0]=C.entries[N-1];var ve=fr(C.entries,0,N,s),Ye=fr(C.nodes,0,N,s);u[1]=C.makeNewNode(ve,Ye,e,s)}u[2]=!1}var O=Math.floor((l.entries.length-this.btreeNodeSplitSize+1)/2);return O>0?l===_?D(l,O):P(l,O):h===_?D(h,h.entries.length+1,!0):P(h,h.entries.length+1,!0),this.makeNewNode(g,v,e,s)};ft.prototype.consolidateLeaf=function(e,t,r,n,i,o){var a=this.entries,s=r.entries,u=r.nodes,c,d,f;if(n===0)f=u[n+1],c=f;else if(n===u.length-1)d=u[n-1],c=d;else{d=u[n-1],f=u[n+1];var p=d.entries.length-this.btreeNodeSplitSize,l=f.entries.length-this.btreeNodeSplitSize;p>=l?c=d:c=f}var h;function _(O,C,N){h=No(a,t,C,i);var K=C;m||(h[C-1]=b,K--);for(var U=0;U<K;U++)h[U]=O.entries[O.entries.length-K+U];if(N)o[1]=I;else{K++,o[0]=O.entries[O.entries.length-K];var ot=fr(O.entries,O.entries.length-K,K,i);o[1]=O.makeNewNode(ot,void 0,e,i)}o[2]=!0}function y(O,C,N){h=Be(a,t,i);var K=h.length;h.length+=C;var U=C;m||(h[K++]=b,U--);for(var ot=0;ot<U;ot++)h[K+ot]=O.entries[ot];if(N)o[1]=I;else{o[0]=O.entries[U++];var X=fr(O.entries,0,U,i);o[1]=O.makeNewNode(X,void 0,e,i)}o[2]=!1}var b=c===d?s[n-1]:s[n],m=b[1]===I,g=m?1:0,v=c.entries.length-this.btreeNodeSplitSize-g;if(v>0){var D=Math.floor((v+1)/2);c===d?_(c,D):y(c,D)}else{var P=c.entries.length+1-g;c===d?_(c,P,!0):y(c,P,!0)}return this.makeNewNode(h,void 0,e,i)};var pa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.calcPlanCnt=function(n,i){if(i<1||i>20)throw new Error("Height is out of supported limit");for(var o=n-1,a=1;a<i;a++)o=o*n+(n-1);return o},t.prototype.prepareCachedPlan=function(n,i){var o=n.toString()+" "+i.toString(),a=t.cache[o];if(a)return a;var s=this.preparePlan(n,i);return this.verifyPlan(s),n<100&&i<=100&&i>=n&&t.cacheSize<500&&(t.cache[o]=s,t.cacheSize++),s},t.prototype.preparePlan=function(n,i){for(var o=n-1,a=1,s=o,u;s<i;)u=s,s=s*n+o,a++;if(s===i)return{op:"build",full:!0,height:a,order:n,repeat:1,total:i};if(a===1)return{op:"build",full:!1,height:a,order:n,repeat:1,total:i};var c=u,d=1+Math.floor(i/(c+1));if(d<2)throw new Error("Something is wrong, the rootOrder is expected to be >= 2");if(d*c+(d-1)===i){var f=d,p=[],l=f*c+f-1;return p.push({op:"build",full:!0,height:a-1,order:n,repeat:d,total:l}),{op:"assemble",height:a,order:n,total:l,items:p}}var h=[];if(d>2){var _=d-2,y=_*c+_-1,b={op:"build",full:!0,height:a-1,order:n,repeat:_,total:y};h.push(b),i-=y,i--}i--;var m=Math.floor(i/2);i-m>0&&h.push(this.prepareCachedPlan(n,i-m)),m>0&&h.push(this.prepareCachedPlan(n,m));for(var g=0,v=h.length,D=0;D<v;D++)g+=h[D].total;return g+=h.length-1,{op:"assemble",height:a,order:n,total:g,items:h}},t.prototype.verifyPlan=function(n,i){var o=this;function a(h){throw new Error(h)}if(i===void 0&&(i=0),n.op==="assemble"){for(var s=0,u=n.items.length,c=0;c<u;c++){var d=n.items[c];s+=d.total,d.op==="build"&&(d.order>=d.repeat||a("Plan verification test failed: pl.order >= pl.repeat: "+JSON.stringify(d))),n.height!==d.height+1&&a("Plan verification test failed: plan.height === pl.height+1"),o.verifyPlan(d,i+1)}s+=n.items.length-1,n.total!==s&&a("Count mismatch: "+n.total+" vs "+s)}else if(n.op==="build"){var f=this.calcPlanCnt(n.order,n.height);if(n.full){var p=f*n.repeat+n.repeat-1;n.total!==p&&a("Plan verification test failed: plan.total === ec")}else{n.height!==1&&a("Plan verification test failed: expected height 1, got instead "+n.height),n.total<f||a("Plan verification test failed: plan.total < ec");var l=Math.floor((n.order-1)/2);i>0&&!(n.total>=l)&&a("Plan verification test failed: plan.total >= halfSize: "+n.total+", "+l)}}else a("Plan verification test failed: invalid op: "+n.op)},t.prototype.runPlan=function(n,i){var o=this;function a(f){throw f="Packing Plan is corrupt: "+f,new Error(f)}if(n.op==="assemble")for(var s=n.items.length,u=0;u<s;u++)u>0&&o.populate(i,1),o.runPlan(n.items[u],i);else if(n.op==="build")for(var c=(n.total-n.repeat+1)/n.repeat,d=0;d<n.repeat;d++)d>0&&o.populate(i,1),o.populate(i,c);else a("invalid op: "+n.op);this.flush(n.height)},t.prototype.flushLevel=function(n){this.prepareLevel(n+1);var i=this.stack[n];i._calcSize(),this.addNode(n+1,i),this.stack[n]=void 0},t.prototype.flush=function(n){for(var i=this,o=0;o<n;o++){var a=o;i.stack[a]&&i.flushLevel(a)}this.stackLevel=n},t.prototype.populate=function(n,i){for(var o=this,a=0;a<i;a++){var s=n.next();if(o.entriesCnt++,s.done)throw new Error("unexpected end of iterator at "+o.entriesCnt+" vs "+n.size);var u=s.value,c=o.stackLevel;o.prepareLevel(c),o.addEntry(c,u),c>0?o.stackLevel=0:o.stackIndices[c]===o.order-1&&(o.flushLevel(c),o.stackLevel++)}},t.prototype.addEntry=function(n,i){this.stack[n].entries[this.stackIndices[n]++]=i},t.prototype.addNode=function(n,i){this.stack[n].nodes[this.stackIndices[n]]=i,this.stackIndices[n]===this.order-1&&(this.flushLevel(n),this.stackLevel++)},t.prototype.prepareLevel=function(n){if(!this.stack[n]){var i=ut(this.order-1);i.length=0;var o;n>0&&(o=ut(this.order),o.length=0),this.stack[n]=new ft(this.comparator,this.options,this.ownerID,i,o),this.stackIndices[n]=0}},t.prototype.finish=function(){var n=this.stackLevel;if(!(n>=this.stack.length))return this.stack[n].nodes[0]},t.prototype.pack=function(n,i,o,a){if(i&&i.type&&i.type!==ld)throw new Error("Unsuported type by btree factory: "+i.type);this.order=i&&i.btreeOrder?i.btreeOrder:su;var s=bt(a);Tt(s.size);var u=this.preparePlan(this.order,s.size);this.comparator=n,this.options=i,this.ownerID=o,this.stack=[],this.stackIndices=[],this.stackLevel=0,this.entriesCnt=0;var c=s.entries();if(this.runPlan(u,c),!c.next().done)throw new Error("iterator did not end when expected");return this.finish()},t}(au);pa.cache={};pa.cacheSize=0;var md=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n,i,o,a,s){return new ft(n,i,o,a,s)},t.prototype.createPacker=function(){return new pa},t.prototype.createIterator=function(n,i,o){return new _d(n,i,o)},t}(ti),pt=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this.getOptions()),i||(i=t.defaultOptions)),r==null?pe(n,i):ou(r)&&r.getComparator()===n&&r.getOptions()===i?r:pe(n,i).withMutations(function(o){o.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return pe().withMutations(function(o){for(var a=0;a<n.length;a+=2){if(a+1>=n.length)throw new Error("Missing value for key: "+n[a]);o.set(n[a],n[a+1])}})},t.prototype.toString=function(){return this.__toString("SortedMap {","}")},t.prototype.getComparator=function(){return this._comparator},t.prototype.getOptions=function(){return this._options},t.prototype.get=function(n,i){return this._root?this._root.get(n,i):i},t.prototype.entryAt=function(n){return this._root?this._root.entryAt(n):new Error("index is out of bounds")},t.prototype.keyAt=function(n){return this._root?this._root.keyAt(n):new Error("index is out of bounds")},t.prototype.valueAt=function(n){return this._root?this._root.valueAt(n):new Error("index is out of bounds")},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__altered=!0,this):pe(this._comparator,this._options)},t.prototype.pack=function(n){var i=this,o;if(n===void 0)o=this;else{var a=0,s=bt(n).map(function(m,g){return[g,m,a++]}).valueSeq().toArray();if(s.length===0)return this.__ownerID?(this._root=void 0,this.size=0,this.__altered=!0,this):pe(this._comparator,this._options);s.sort(function(m,g){return i._comparator(m[0],g[0])||m[2]-g[2]});for(var u=[],c=0,d=s.length-1;c<d;c++){var f=s[c],p=s[c+1];if(i._comparator(f[0],p[0])<0){var l=[f[0],f[1]];u.push(l)}}var h=s[s.length-1],_=[h[0],h[1]];u.push(_),o=Jt(u)}Tt(o.size);var y=o.size,b=this._factory.createPacker().pack(this._comparator,this._options,this.__ownerID,o);return this.__ownerID?(this._root=b,this.size=y,this.__altered=!0,this):b?sn(this._comparator,this._options,y,b):pe(this._comparator,this._options)},t.prototype.set=function(n,i){return Po(this,n,i)},t.prototype.remove=function(n){return Po(this,n,I)},t.prototype.fastRemove=function(n){return Po(this,n,I,!0)},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t(Ue(this,i,n),i,this.getOptions())},t.prototype.__iterator=function(n,i){return this._factory.createIterator(this,n,i)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?sn(this._comparator,this._options,this.size,this._root,n):this.size===0?pe(this._comparator,this._options):(this.__ownerID=n,this.__altered=!1,this)},t.prototype.checkConsistency=function(n){var i=this;if(this._root)return this.size>0?this._root.checkConsistency(n):1;if(this.size!==0)return 2;var o=0,a;return this.keySeq().forEach(function(s){if(o&&!(i._comparator(a,s)<0))return 3;a=s,o++}),this.size!==o?4:0},t.prototype.print=function(n){var i="SORTED MAP: size="+this.size;return this._options&&(i=i+", options="+JSON.stringify(this._options)),console.log(i),this._root&&this._root.print(1,n),this},t.prototype.from=function(n,i){var o=this,a=Object.create(Jt).prototype;return a.__iterateUncached=function(s,u){var c=this;if(!o._root)return 0;var d=0;return i?o._root.iterateFromBackwards(n,function(f){return d++,s(f[1],f[0],c)},u):o._root.iterateFrom(n,function(f){return d++,s(f[1],f[0],c)},u),d},a},t.prototype.fromIndex=function(n,i){var o=this,a=Object.create(Jt).prototype;return a.__iterateUncached=function(s,u){var c=this;if(u)throw new Error("fromIndex: reverse mode not supported");if(!o._root)return 0;var d=0;return i?o._root.iterateFromIndexBackwards(n,function(f){return d++,s(f[1],f[0],c)},u):o._root.iterateFromIndex(n,function(f){return d++,s(f[1],f[0],c)},u),d},a},t}(Fe);pt.isSortedMap=ou;pt.defaultComparator=gd;pt.defaultOptions={type:"btree"};var Te=pt.prototype;Te[Yo]=!0;Te[vr]=Te.remove;Te.removeIn=Te.deleteIn;Te.removeAll=Te.deleteAll;function sn(e,t,r,n,i){var o=Object.create(Te);if(o._comparator=e||pt.defaultComparator,o._options=t||pt.defaultOptions,o.size=r,o._root=n,o._factory=pt.getFactory(o._options),o.__ownerID=i,o.__altered=!1,o._options.btreeOrder&&o._options.btreeOrder<3)throw new Error("SortedMap: minimum value of options.btreeOrder is 3, but got: "+o._options.btreeOrder);if(!o._factory)throw new Error("SortedMap type not supported: "+o._options.type);return o}var p0;function pe(e,t){return e===pt.defaultComparator&&t===pt.defaultOptions?p0||(p0=sn(pt.defaultComparator,pt.defaultOptions,0)):sn(e,t,0)}function Po(e,t,r,n){var i=r===I,o=e._root,a,s;if(o){var c=nt(),d=nt();if(i?n?a=e._root.fastRemove(e.__ownerID,t,c,d):a=e._root.remove(e.__ownerID,t,c,d):a=e._root.upsert(e.__ownerID,t,r,c,d),!G(d))return e;s=e.size+(G(c)?i?-1:1:0),s===0&&(a=void 0)}else{if(i)return e;s=1;var u=[[t,r]];a=e._factory.createNode(e._comparator,e._options,e.__ownerID,u)}return e.__ownerID?(e.size=s,e._root=a,e.__altered=!0,e):a?sn(e._comparator,e._options,s,a):pe(e._comparator,e._options)}function gd(e,t){if(ct(e,t))return 0;var r=typeof e,n=typeof t;if(r!==n)return r<n?-1:1;switch(r){case"undefined":break;case"object":if(e===null)return 1;if(t===null)return-1;e=e.toString(),t=t.toString();break;case"boolean":break;case"number":if(ct(e,NaN))return 1;if(ct(t,NaN))return-1;break;case"string":break;case"symbol":e=e.toString(),t=t.toString();break;case"function":e=e.toString(),t=t.toString();break;default:break}return e<t?-1:e>t?1:0}pt.getFactory=function(e){var t=e&&e.type?e.type:pt.defaultOptions.type;return pt.factories[t]};pt.factories={btree:new md};var uu="@@__IMMUTABLE_STACK__@@";function xo(e){return!!(e&&e[uu])}var ha=function(e){function t(r){return r==null?Hn():xo(r)?r:Hn().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var o=this._head;for(n=Pe(this,n);o&&n--;)o=o.next;return o?o.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,o=this._head,a=arguments.length-1;a>=0;a--)o={value:n[a],next:o};return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qr(i,o)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&xo(n))return n;Tt(n.size);var i=this.size,o=this._head;return n.__iterate(function(a){i++,o={value:a,next:o}},!0),this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qr(i,o)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Hn()},t.prototype.slice=function(n,i){if(cn(n,i,this.size))return this;var o=br(n,this.size),a=dn(i,this.size);if(a!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-o,u=this._head;o--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):Qr(s,u)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Qr(this.size,this._head,n,this.__hash):this.size===0?Hn():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var o=this;if(i)return new Oe(this.toArray()).__iterate(function(u,c){return n(u,c,o)},i);for(var a=0,s=this._head;s&&n(s.value,a++,o)!==!1;)s=s.next;return a},t.prototype.__iterator=function(n,i){if(i)return new Oe(this.toArray()).__iterator(n,i);var o=0,a=this._head;return new E(function(){if(a){var s=a.value;return a=a.next,j(n,o++,s)}return mt()})},t}(Ee);ha.isStack=xo;var Pt=ha.prototype;Pt[uu]=!0;Pt.shift=Pt.pop;Pt.unshift=Pt.push;Pt.unshiftAll=Pt.pushAll;Pt.withMutations=pn;Pt.wasAltered=sa;Pt.asImmutable=ln;Pt["@@transducer/init"]=Pt.asMutable=hn;Pt["@@transducer/step"]=function(e,t){return e.unshift(t)};Pt["@@transducer/result"]=function(e){return e.asImmutable()};function Qr(e,t,r,n){var i=Object.create(Pt);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var h0;function Hn(){return h0||(h0=Qr(0))}var cu="@@__IMMUTABLE_SET__@@";function ei(e){return!!(e&&e[cu])}function du(e){return ei(e)&&$t(e)}function la(e,t){if(e===t)return!0;if(!Et(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||et(e)!==et(t)||Bt(e)!==Bt(t)||$t(e)!==$t(t)||lr(e)!==lr(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!Wn(e);if($t(e)){var n=e.entries();return t.every(function(u,c){var d=n.next().value;return d&&ct(d[1],u)&&(r||ct(d[0],c))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,s=t.__iterate(function(u,c){if(r?!e.has(u):i?!ct(u,e.get(c,I)):!ct(e.get(c,I),u))return a=!1,!1});return a&&e.size===s}function Ke(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Kn(e){if(!e||typeof e!="object")return e;if(!Et(e)){if(!ke(e))return e;e=ee(e)}if(et(e)){var t={};return e.__iterate(function(n,i){t[i]=Kn(n)}),t}var r=[];return e.__iterate(function(n){r.push(Kn(n))}),r}function fu(e){return ei(e)&&lr(e)}var _n=function(e){function t(r){return r==null?$r():ei(r)&&!$t(r)&&!lr(r)?r:$r().withMutations(function(n){var i=e(r);Tt(i.size),i.forEach(function(o){return n.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(bt(n).keySeq())},t.intersect=function(n){return n=it(n).toArray(),n.length?_t.intersect.apply(t(n.pop()),n):$r()},t.union=function(n){return n=it(n).toArray(),n.length?_t.union.apply(t(n.pop()),n):$r()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Oo(this,this._map.set(n,n))},t.prototype.remove=function(n){return Oo(this,this._map.remove(n))},t.prototype.clear=function(){return Oo(this,this._map.clear())},t.prototype.map=function(n,i){var o=this,a=[],s=[];return this.forEach(function(u){var c=n.call(i,u,u,o);c!==u&&(a.push(u),s.push(c))}),this.withMutations(function(u){a.forEach(function(c){return u.remove(c)}),s.forEach(function(c){return u.add(c)})})},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(o){return o.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){for(var a=0;a<n.length;a++)e(n[a]).forEach(function(s){return o.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return e(a)});var o=[];return this.forEach(function(a){n.every(function(s){return s.includes(a)})||o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return e(a)});var o=[];return this.forEach(function(a){n.some(function(s){return s.includes(a)})&&o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},t.prototype.sort=function(n){return un(Ue(this,n))},t.prototype.sortBy=function(n,i){return un(Ue(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var o=this;return this._map.__iterate(function(a){return n(a,a,o)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(ce);_n.isSet=ei;var _t=_n.prototype;_t[cu]=!0;_t[vr]=_t.remove;_t.merge=_t.concat=_t.union;_t.withMutations=pn;_t.asImmutable=ln;_t["@@transducer/init"]=_t.asMutable=hn;_t["@@transducer/step"]=function(e,t){return e.add(t)};_t["@@transducer/result"]=function(e){return e.asImmutable()};_t.__empty=$r;_t.__make=pu;function Oo(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function pu(e,t){var r=Object.create(_t);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var l0;function $r(){return l0||(l0=pu(Qt()))}var We=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this._map&&this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this._map&&this.getOptions()),i||(i=t.defaultOptions)),r==null?Ho(n,i):fu(r)&&r.getComparator()===n&&r.getOptions()===i?r:Ho(n,i).withMutations(function(o){o.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(bt(n).keySeq())},t.prototype.toString=function(){return this.__toString("SortedSet {","}")},t.prototype.getComparator=function(){return this._map.getComparator()},t.prototype.getOptions=function(){return this._map.getOptions()},t.prototype.pack=function(n){var i=n===void 0?void 0:ce(n).toKeyedSeq().mapKeys(function(o,a){return a});return yd(this,this._map.pack(i))},t.prototype.from=function(n,i){return this._map.from(n,i).toSetSeq()},t.prototype.fromIndex=function(n,i){return this._map.fromIndex(n,i).toSetSeq()},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t(Jo(this,n),i,this.getOptions())},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(_n);We.isSortedSet=fu;We.defaultComparator=pt.defaultComparator;We.defaultOptions=pt.defaultOptions;var ri=We.prototype;ri[Yo]=!0;ri.__empty=function(){return Ho(this.getComparator(),this.getOptions())};ri.__make=hu;function yd(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function hu(e,t){var r=Object.create(ri);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Ho(e,t){return hu(pe(e,t))}var vd=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(Qo(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(ko)return ko;ko=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+Pe(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return cn(n,i,this.size)?this:(n=br(n,this.size),i=dn(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var o=i/this._step;if(o>=0&&o<this.size)return o}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var o=this,a=this.size,s=this._step,u=i?this._start+(a-1)*s:this._start,c=0;c!==a&&n(u,i?a-++c:c++,o)!==!1;)u+=i?-s:s;return c},t.prototype.__iterator=function(n,i){var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,u=0;return new E(function(){if(u===o)return mt();var c=s;return s+=i?-a:a,j(n,i?o-++u:u++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:la(this,n)},t}(Gt),ko;function lu(e,t,r){for(var n=K0(t),i=0;i!==n.length;)if(e=W0(e,n[i++],I),e===I)return r;return e}function _u(e,t){return lu(this,e,t)}function bd(e,t){return lu(e,t,I)!==I}function Sd(e){return bd(this,e)}function mu(){Tt(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}it.isIterable=Et;it.isKeyed=et;it.isIndexed=Bt;it.isAssociative=Wn;it.isOrdered=$t;it.Iterator=E;Ke(it,{toArray:function(){Tt(this.size);var t=new Array(this.size||0),r=et(this),n=0;return this.__iterate(function(i,o){t[n++]=r?[o,i]:i}),t},toIndexedSeq:function(){return new N0(this)},toJS:function(){return Kn(this)},toKeyedSeq:function(){return new Vn(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:mu,toOrderedMap:function(){return _e(this.toKeyedSeq())},toSortedMap:function(t,r){return pt(this.toKeyedSeq(),t,r)},toSortedSet:function(t,r){return We(et(this)?this.valueSeq():this,t,r)},toOrderedSet:function(){return un(et(this)?this.valueSeq():this)},toSet:function(){return _n(et(this)?this.valueSeq():this)},toSetSeq:function(){return new x0(this)},toSeq:function(){return Bt(this)?this.toIndexedSeq():et(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ha(et(this)?this.valueSeq():this)},toList:function(){return $n(et(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return A(this,Jc(this,t))},includes:function(t){return this.some(function(r){return ct(r,t)})},entries:function(){return this.__iterator(Xt)},every:function(t,r){Tt(this.size);var n=!0;return this.__iterate(function(i,o,a){if(!t.call(r,i,o,a))return n=!1,!1}),n},filter:function(t,r){return A(this,U0(this,t,r,!0))},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Tt(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Tt(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(fn)},map:function(t,r){return A(this,Jo(this,t,r))},reduce:function(t,r,n){return _0(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return _0(this,t,r,n,arguments.length<2,!0)},reverse:function(){return A(this,Xo(this,!0))},slice:function(t,r){return A(this,Zo(this,t,r,!0))},some:function(t,r){return!this.every(jn(t),r)},sort:function(t){return A(this,Ue(this,t))},partialSort:function(t,r){return A(this,Qs(this,t,r))},incSort:function(t){return A(this,Gn(this,t,null,!0))},values:function(){return this.__iterator(te)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return hr(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return Kc(this,t,r)},equals:function(t){return la(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Oe(t._cache);var r=t.toSeq().map(wd).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(jn(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(o,a,s){if(t.call(r,o,a,s))return i=[a,o],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(S0,null,t)},flatMap:function(t,r){return A(this,Xc(this,t,r))},flatten:function(t){return A(this,G0(this,t,!0))},fromEntrySeq:function(){return new H0(this)},get:function(t,r){return this.find(function(n,i){return ct(i,t)},void 0,r)},getIn:_u,groupBy:function(t,r){return Wc(this,t,r)},has:function(t){return this.get(t,I)!==I},hasIn:Sd,isSubset:function(t){return t=typeof t.includes=="function"?t:it(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:it(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return ct(r,t)})},keySeq:function(){return this.toSeq().map(Id).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Nn(this,t)},maxBy:function(t,r){return Nn(this,r,t)},min:function(t){return Nn(this,t?m0(t):y0)},minBy:function(t,r){return Nn(this,r?m0(r):y0,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return A(this,B0(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(jn(t),r)},sortBy:function(t,r){return A(this,Ue(this,r,t))},partialSortBy:function(t,r,n){return A(this,Qs(this,t,n,r))},incSortBy:function(t,r){return A(this,Gn(this,r,t,!0))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return A(this,Yc(this,t,r))},takeUntil:function(t,r){return this.takeWhile(jn(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Cd(this))}});var vt=it.prototype;vt[C0]=!0;vt[Jn]=vt.values;vt.toJSON=vt.toArray;vt.__toStringMapper=en;vt.inspect=vt.toSource=function(){return this.toString()};vt.chain=vt.flatMap;vt.contains=vt.includes;Ke(bt,{flip:function(){return A(this,j0(this))},mapEntries:function(t,r){var n=this,i=0;return A(this,this.toSeq().map(function(o,a){return t.call(r,[a,o],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return A(this,this.toSeq().flip().map(function(i,o){return t.call(r,i,o,n)}).flip())}});var ni=bt.prototype;ni[D0]=!0;ni[Jn]=vt.entries;ni.toJSON=mu;ni.__toStringMapper=function(e,t){return en(t)+": "+en(e)};Ke(Ee,{toKeyedSeq:function(){return new Vn(this,!1)},filter:function(t,r){return A(this,U0(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return A(this,Xo(this,!1))},slice:function(t,r){return A(this,Zo(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=br(t,t<0?this.count():this.size);var i=this.slice(0,t);return A(this,n===1?i:i.concat(ue(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return A(this,G0(this,t,!1))},get:function(t,r){return t=Pe(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=Pe(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return A(this,Zc(this,t))},interleave:function(){var t=[this].concat(ue(arguments)),r=xn(this.toSeq(),Gt.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),A(this,n)},keySeq:function(){return vd(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return A(this,B0(this,t,r,!1))},incSort:function(t){return A(this,Gn(this,t,null,!1))},incSortBy:function(t,r){return A(this,Gn(this,r,t,!1))},zip:function(){var t=[this].concat(ue(arguments));return A(this,xn(this,g0,t))},zipAll:function(){var t=[this].concat(ue(arguments));return A(this,xn(this,g0,t,!0))},zipWith:function(t){var r=ue(arguments);return r[0]=this,A(this,xn(this,t,r))}});var ii=Ee.prototype;ii[R0]=!0;ii[Sr]=!0;Ke(ce,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});ce.prototype.has=vt.includes;ce.prototype.contains=ce.prototype.includes;Ke(Jt,bt.prototype);Ke(Gt,Ee.prototype);Ke(Ge,ce.prototype);function _0(e,t,r,n,i,o){return Tt(e.size),e.__iterate(function(a,s,u){i?(i=!1,r=a):r=t.call(n,r,a,s,u)},o),r}function Id(e,t){return t}function wd(e,t){return[t,e]}function jn(e){return function(){return!e.apply(this,arguments)}}function m0(e){return function(){return-e.apply(this,arguments)}}function g0(){return ue(arguments)}function y0(e,t){return e<t?1:e>t?-1:0}function Cd(e){if(e.size===1/0)return 0;var t=$t(e),r=et(e),n=t?1:0,i=e.__iterate(r?t?function(o,a){n=31*n+v0(Ut(o),Ut(a))|0}:function(o,a){n=n+v0(Ut(o),Ut(a))|0}:t?function(o){n=31*n+Ut(o)|0}:function(o){n=n+Ut(o)|0});return Dd(i,n)}function Dd(e,t){return t=Jr(t,3432918353),t=Jr(t<<15|t>>>-15,461845907),t=Jr(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Jr(t^t>>>16,2246822507),t=Jr(t^t>>>13,3266489909),t=Zn(t^t>>>16),t}function v0(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var un=function(e){function t(r){return r==null?jo():du(r)?r:jo().withMutations(function(n){var i=ce(r);Tt(i.size),i.forEach(function(o){return n.add(o)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(bt(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(_n);un.isOrderedSet=du;var Cr=un.prototype;Cr[Sr]=!0;Cr.zip=ii.zip;Cr.zipWith=ii.zipWith;Cr.__empty=jo;Cr.__make=gu;function gu(e,t){var r=Object.create(Cr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var b0;function jo(){return b0||(b0=gu(Vr()))}var ht=function(t,r){var n,i=function(s){var u=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var c=Object.keys(t),d=o._indices={};o._name=r,o._keys=c,o._defaultValues=t;for(var f=0;f<c.length;f++){var p=c[f];d[p]=f,o[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ma(u)+' with property "'+p+'" since that property name is part of the Record API.'):Rd(o,p)}}this.__ownerID=void 0,this._values=$n().withMutations(function(l){l.setSize(u._keys.length),bt(s).forEach(function(h,_){l.set(u._indices[_],h===u._defaultValues[_]?void 0:h)})})},o=i.prototype=Object.create(F);return o.constructor=i,r&&(i.displayName=r),i};ht.prototype.toString=function(){for(var t=this,r=ma(this)+" { ",n=this._keys,i,o=0,a=n.length;o!==a;o++)i=n[o],r+=(o?", ":"")+i+": "+en(t.get(i));return r+" }"};ht.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&yr(this).equals(yr(t))};ht.prototype.hashCode=function(){return yr(this).hashCode()};ht.prototype.has=function(t){return this._indices.hasOwnProperty(t)};ht.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};ht.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return _a(this,n)}return this};ht.prototype.remove=function(t){return this.set(t)};ht.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:_a(this,t)};ht.prototype.wasAltered=function(){return this._values.wasAltered()};ht.prototype.toSeq=function(){return yr(this)};ht.prototype.toJS=function(){return Kn(this)};ht.prototype.entries=function(){return this.__iterator(Xt)};ht.prototype.__iterator=function(t,r){return yr(this).__iterator(t,r)};ht.prototype.__iterate=function(t,r){return yr(this).__iterate(t,r)};ht.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?_a(this,r,t):(this.__ownerID=t,this._values=r,this)};ht.isRecord=Yn;ht.getDescriptiveName=ma;var F=ht.prototype;F[O0]=!0;F[vr]=F.remove;F.deleteIn=F.removeIn=ta;F.getIn=_u;F.hasIn=vt.hasIn;F.merge=X0;F.mergeWith=Z0;F.mergeIn=oa;F.mergeDeep=Q0;F.mergeDeepWith=$0;F.mergeDeepIn=aa;F.setIn=$o;F.update=ea;F.updateIn=ra;F.withMutations=pn;F.asMutable=hn;F.asImmutable=ln;F[Jn]=F.entries;F.toJSON=F.toObject=vt.toObject;F.inspect=F.toSource=function(){return this.toString()};function _a(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function ma(e){return e.constructor.displayName||e.constructor.name||"Record"}function yr(e){return Wo(e._keys.map(function(t){return[t,e.get(t)]}))}function Rd(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Qo(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var of=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(To)return To;To=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return ct(this._value,n)},t.prototype.slice=function(n,i){var o=this.size;return cn(n,i,o)?this:new t(this._value,dn(i,o)-br(n,o))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return ct(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return ct(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var o=this,a=this.size,s=0;s!==a&&n(o._value,i?a-++s:s++,o)!==!1;);return s},t.prototype.__iterator=function(n,i){var o=this,a=this.size,s=0;return new E(function(){return s===a?mt():j(n,i?a-++s:s++,o._value)})},t.prototype.equals=function(n){return n instanceof t?ct(this._value,n._value):la(n)},t}(Gt),To;var yu={"100011":{baseCost:0,groupId:10001,iconId:"20013",order:10},"100021":{baseCost:0,groupId:10002,iconId:"20013",order:10},"100031":{baseCost:0,groupId:10003,iconId:"20013",order:10},"100041":{baseCost:0,groupId:10004,iconId:"20043",order:10},"100061":{baseCost:0,groupId:10006,iconId:"20013",order:10},"100071":{baseCost:0,groupId:10007,iconId:"20013",order:10},"100081":{baseCost:0,groupId:10008,iconId:"20013",order:10},"100091":{baseCost:0,groupId:10009,iconId:"20013",order:10},"100101":{baseCost:0,groupId:10010,iconId:"20043",order:10},"100111":{baseCost:0,groupId:10011,iconId:"20013",order:10},"100131":{baseCost:0,groupId:10013,iconId:"20013",order:10},"100141":{baseCost:0,groupId:10014,iconId:"20013",order:10},"100151":{baseCost:0,groupId:10015,iconId:"20013",order:10},"100171":{baseCost:0,groupId:10017,iconId:"20013",order:10},"100181":{baseCost:0,groupId:10018,iconId:"20013",order:10},"100231":{baseCost:0,groupId:10023,iconId:"20013",order:10},"100241":{baseCost:0,groupId:10024,iconId:"20013",order:10},"100261":{baseCost:0,groupId:10026,iconId:"20013",order:10},"100271":{baseCost:0,groupId:10027,iconId:"20043",order:10},"100301":{baseCost:0,groupId:10030,iconId:"20013",order:10},"100321":{baseCost:0,groupId:10032,iconId:"20023",order:10},"100351":{baseCost:0,groupId:10035,iconId:"20013",order:10},"100411":{baseCost:0,groupId:10041,iconId:"20013",order:10},"100451":{baseCost:0,groupId:10045,iconId:"20023",order:10},"100521":{baseCost:0,groupId:10052,iconId:"20023",order:10},"100561":{baseCost:0,groupId:10056,iconId:"20013",order:10},"100601":{baseCost:0,groupId:10060,iconId:"20013",order:10},"100611":{baseCost:0,groupId:10061,iconId:"20013",order:10},"10071":{baseCost:0,groupId:1007,iconId:"20013",order:10},"10081":{baseCost:0,groupId:1008,iconId:"20013",order:10},"10091":{baseCost:0,groupId:1009,iconId:"20013",order:10},"10111":{baseCost:0,groupId:1011,iconId:"20013",order:10},"10141":{baseCost:0,groupId:1014,iconId:"20013",order:10},"10181":{baseCost:0,groupId:1018,iconId:"20013",order:10},"10241":{baseCost:0,groupId:1024,iconId:"20013",order:10},"10271":{baseCost:0,groupId:1027,iconId:"20043",order:10},"10321":{baseCost:0,groupId:1032,iconId:"20023",order:10},"10351":{baseCost:0,groupId:1035,iconId:"20013",order:10},"10411":{baseCost:0,groupId:1041,iconId:"20013",order:10},"10451":{baseCost:0,groupId:1045,iconId:"20023",order:10},"10521":{baseCost:0,groupId:1052,iconId:"20023",order:10},"10561":{baseCost:0,groupId:1056,iconId:"20013",order:10},"10601":{baseCost:0,groupId:1060,iconId:"20013",order:10},"10611":{baseCost:0,groupId:1061,iconId:"20013",order:10},"200011":{baseCost:110,groupId:20001,iconId:"10011",order:1e3},"200012":{baseCost:90,groupId:20001,iconId:"10011",order:1010},"200013":{baseCost:50,groupId:20001,iconId:"10014",order:1020},"200021":{baseCost:110,groupId:20002,iconId:"10011",order:1030},"200022":{baseCost:90,groupId:20002,iconId:"10011",order:1040},"200023":{baseCost:50,groupId:20002,iconId:"10014",order:1050},"200031":{baseCost:110,groupId:20003,iconId:"10021",order:1060},"200032":{baseCost:90,groupId:20003,iconId:"10021",order:1070},"200033":{baseCost:50,groupId:20003,iconId:"10024",order:1080},"200041":{baseCost:110,groupId:20004,iconId:"10021",order:1090},"200042":{baseCost:90,groupId:20004,iconId:"10021",order:1100},"200043":{baseCost:50,groupId:20004,iconId:"10024",order:1110},"200051":{baseCost:110,groupId:20005,iconId:"10021",order:1120},"200052":{baseCost:90,groupId:20005,iconId:"10021",order:1130},"200053":{baseCost:50,groupId:20005,iconId:"10024",order:1140},"200061":{baseCost:110,groupId:20006,iconId:"10021",order:1150},"200062":{baseCost:90,groupId:20006,iconId:"10021",order:1160},"200063":{baseCost:50,groupId:20006,iconId:"10024",order:1170},"200071":{baseCost:110,groupId:20007,iconId:"10021",order:1180},"200072":{baseCost:90,groupId:20007,iconId:"10021",order:1190},"200073":{baseCost:50,groupId:20007,iconId:"10024",order:1200},"200081":{baseCost:90,groupId:20008,iconId:"10021",order:1210},"200082":{baseCost:70,groupId:20008,iconId:"10021",order:1220},"200083":{baseCost:40,groupId:20008,iconId:"10024",order:1230},"200091":{baseCost:90,groupId:20009,iconId:"10021",order:1240},"200092":{baseCost:70,groupId:20009,iconId:"10021",order:1250},"200093":{baseCost:40,groupId:20009,iconId:"10024",order:1260},"200101":{baseCost:90,groupId:20010,iconId:"10021",order:1270},"200102":{baseCost:70,groupId:20010,iconId:"10021",order:1280},"200103":{baseCost:40,groupId:20010,iconId:"10024",order:1290},"200111":{baseCost:90,groupId:20011,iconId:"10021",order:1300},"200112":{baseCost:70,groupId:20011,iconId:"10021",order:1310},"200113":{baseCost:40,groupId:20011,iconId:"10024",order:1320},"200121":{baseCost:90,groupId:20012,iconId:"10021",order:1330},"200122":{baseCost:70,groupId:20012,iconId:"10021",order:1340},"200123":{baseCost:40,groupId:20012,iconId:"10024",order:1350},"200131":{baseCost:110,groupId:20013,iconId:"10021",order:1390},"200132":{baseCost:90,groupId:20013,iconId:"10021",order:1400},"200133":{baseCost:50,groupId:20013,iconId:"10024",order:1410},"200141":{baseCost:110,groupId:20014,iconId:"10021",order:1420},"200142":{baseCost:90,groupId:20014,iconId:"10021",order:1430},"200143":{baseCost:50,groupId:20014,iconId:"10024",order:1440},"200151":{baseCost:110,groupId:20015,iconId:"10031",order:1450},"200152":{baseCost:90,groupId:20015,iconId:"10031",order:1460},"200153":{baseCost:50,groupId:20015,iconId:"10034",order:1470},"200161":{baseCost:110,groupId:20016,iconId:"10031",order:1480},"200162":{baseCost:90,groupId:20016,iconId:"10031",order:1490},"200163":{baseCost:50,groupId:20016,iconId:"10034",order:1500},"200171":{baseCost:110,groupId:20017,iconId:"10011",order:1510},"200172":{baseCost:90,groupId:20017,iconId:"10011",order:1520},"200173":{baseCost:50,groupId:20017,iconId:"10014",order:1530},"200181":{baseCost:110,groupId:20018,iconId:"10011",order:1540},"200182":{baseCost:90,groupId:20018,iconId:"10011",order:1550},"200183":{baseCost:50,groupId:20018,iconId:"10014",order:1560},"200191":{baseCost:110,groupId:20019,iconId:"10011",order:1570},"200192":{baseCost:90,groupId:20019,iconId:"10011",order:1580},"200193":{baseCost:50,groupId:20019,iconId:"10014",order:1590},"200201":{baseCost:110,groupId:20020,iconId:"10011",order:1600},"200202":{baseCost:90,groupId:20020,iconId:"10011",order:1610},"200203":{baseCost:50,groupId:20020,iconId:"10014",order:1620},"200211":{baseCost:110,groupId:20021,iconId:"10041",order:1630},"200212":{baseCost:90,groupId:20021,iconId:"10041",order:1640},"200221":{baseCost:110,groupId:20022,iconId:"10041",order:1650},"200222":{baseCost:90,groupId:20022,iconId:"10041",order:1660},"200231":{baseCost:110,groupId:20023,iconId:"10041",order:1670},"200232":{baseCost:90,groupId:20023,iconId:"10041",order:1680},"200233":{baseCost:50,groupId:20023,iconId:"10044",order:1690},"200241":{baseCost:110,groupId:20024,iconId:"10041",order:1700},"200242":{baseCost:90,groupId:20024,iconId:"10041",order:1710},"200251":{baseCost:110,groupId:20025,iconId:"10051",order:1720},"200252":{baseCost:90,groupId:20025,iconId:"10051",order:1730},"200253":{baseCost:50,groupId:20025,iconId:"10054",order:1740},"200261":{baseCost:110,groupId:20026,iconId:"10011",order:1750},"200262":{baseCost:90,groupId:20026,iconId:"10011",order:1760},"200263":{baseCost:50,groupId:20026,iconId:"10014",order:1770},"200271":{baseCost:110,groupId:20027,iconId:"10011",order:1780},"200272":{baseCost:90,groupId:20027,iconId:"10011",order:1790},"200281":{baseCost:110,groupId:20028,iconId:"10031",order:1800},"200282":{baseCost:90,groupId:20028,iconId:"10031",order:1810},"200283":{baseCost:50,groupId:20028,iconId:"10034",order:1820},"200291":{baseCost:110,groupId:20029,iconId:"10041",order:1830},"200292":{baseCost:90,groupId:20029,iconId:"10041",order:1840},"200301":{baseCost:110,groupId:20030,iconId:"10011",order:1850},"200302":{baseCost:90,groupId:20030,iconId:"10011",order:1860},"200311":{baseCost:50,groupId:20031,iconId:"10014",order:1870},"200321":{baseCost:50,groupId:20032,iconId:"10024",order:1880},"200331":{baseCost:180,groupId:20033,iconId:"20012",order:1890},"200332":{baseCost:180,groupId:20033,iconId:"20011",order:1900},"200333":{baseCost:100,groupId:20033,iconId:"20014",order:1910},"200341":{baseCost:180,groupId:20034,iconId:"20042",order:1920},"200342":{baseCost:180,groupId:20034,iconId:"20041",order:1930},"200343":{baseCost:100,groupId:20034,iconId:"20044",order:1940},"200351":{baseCost:170,groupId:20035,iconId:"20022",order:1950},"200352":{baseCost:170,groupId:20035,iconId:"20021",order:1960},"200353":{baseCost:100,groupId:20035,iconId:"20024",order:1970},"200361":{baseCost:170,groupId:20036,iconId:"20012",order:1980},"200362":{baseCost:170,groupId:20036,iconId:"20011",order:1990},"200371":{baseCost:170,groupId:20037,iconId:"20042",order:2e3},"200372":{baseCost:170,groupId:20037,iconId:"20041",order:2010},"200381":{baseCost:170,groupId:20038,iconId:"20022",order:2020},"200382":{baseCost:170,groupId:20038,iconId:"20021",order:2030},"200391":{baseCost:100,groupId:20039,iconId:"20024",order:2040},"200401":{baseCost:100,groupId:20040,iconId:"20024",order:2050},"200411":{baseCost:100,groupId:20041,iconId:"20014",order:2060},"200421":{baseCost:100,groupId:20042,iconId:"20014",order:2070},"200431":{baseCost:140,groupId:20043,iconId:"20062",order:2080},"200432":{baseCost:140,groupId:20043,iconId:"20061",order:2090},"200433":{baseCost:70,groupId:20043,iconId:"20064",order:2100},"200441":{baseCost:160,groupId:20044,iconId:"20022",order:2110},"200442":{baseCost:160,groupId:20044,iconId:"20021",order:2120},"200451":{baseCost:120,groupId:20045,iconId:"20052",order:2130},"200452":{baseCost:120,groupId:20045,iconId:"20051",order:2140},"200461":{baseCost:170,groupId:20046,iconId:"20012",order:2150},"200462":{baseCost:170,groupId:20046,iconId:"20011",order:2160},"200471":{baseCost:170,groupId:20047,iconId:"20022",order:2170},"200472":{baseCost:170,groupId:20047,iconId:"20021",order:2180},"200481":{baseCost:170,groupId:20048,iconId:"20022",order:2190},"200482":{baseCost:170,groupId:20048,iconId:"20021",order:2200},"200491":{baseCost:150,groupId:20049,iconId:"20042",order:2210},"200492":{baseCost:150,groupId:20049,iconId:"20041",order:2220},"200501":{baseCost:120,groupId:20050,iconId:"20052",order:2230},"200502":{baseCost:120,groupId:20050,iconId:"20051",order:2240},"200511":{baseCost:170,groupId:20051,iconId:"20012",order:2250},"200512":{baseCost:170,groupId:20051,iconId:"20011",order:2260},"200521":{baseCost:100,groupId:20052,iconId:"20024",order:2270},"200531":{baseCost:120,groupId:20053,iconId:"20042",order:2280},"200532":{baseCost:120,groupId:20053,iconId:"20041",order:2290},"200541":{baseCost:180,groupId:20054,iconId:"20012",order:2300},"200542":{baseCost:180,groupId:20054,iconId:"20011",order:2310},"200551":{baseCost:180,groupId:20055,iconId:"20042",order:2320},"200552":{baseCost:180,groupId:20055,iconId:"20041",order:2330},"200561":{baseCost:180,groupId:20056,iconId:"20022",order:2340},"200562":{baseCost:180,groupId:20056,iconId:"20021",order:2350},"200571":{baseCost:180,groupId:20057,iconId:"20022",order:2360},"200572":{baseCost:180,groupId:20057,iconId:"20021",order:2370},"200581":{baseCost:180,groupId:20058,iconId:"20012",order:2380},"200582":{baseCost:180,groupId:20058,iconId:"20011",order:2390},"200591":{baseCost:180,groupId:20059,iconId:"20012",order:2400},"200592":{baseCost:180,groupId:20059,iconId:"20011",order:2410},"200601":{baseCost:180,groupId:20060,iconId:"20042",order:2420},"200602":{baseCost:180,groupId:20060,iconId:"20041",order:2430},"200611":{baseCost:180,groupId:20061,iconId:"20012",order:2440},"200612":{baseCost:180,groupId:20061,iconId:"20011",order:2450},"200621":{baseCost:180,groupId:20062,iconId:"20022",order:2460},"200622":{baseCost:180,groupId:20062,iconId:"20021",order:2470},"200631":{baseCost:180,groupId:20063,iconId:"20012",order:2480},"200632":{baseCost:180,groupId:20063,iconId:"20011",order:2490},"200641":{baseCost:180,groupId:20064,iconId:"20042",order:2500},"200642":{baseCost:180,groupId:20064,iconId:"20041",order:2510},"200651":{baseCost:160,groupId:20065,iconId:"20042",order:2520},"200652":{baseCost:160,groupId:20065,iconId:"20041",order:2530},"200662":{baseCost:160,groupId:20066,iconId:"20021",order:2550},"200671":{baseCost:160,groupId:20067,iconId:"20012",order:2560},"200672":{baseCost:160,groupId:20067,iconId:"20011",order:2570},"200681":{baseCost:160,groupId:20068,iconId:"20012",order:2580},"200682":{baseCost:160,groupId:20068,iconId:"20011",order:2590},"200691":{baseCost:160,groupId:20069,iconId:"20022",order:2600},"200692":{baseCost:160,groupId:20069,iconId:"20021",order:2610},"200701":{baseCost:160,groupId:20070,iconId:"20042",order:2620},"200702":{baseCost:160,groupId:20070,iconId:"20041",order:2630},"200711":{baseCost:160,groupId:20071,iconId:"20022",order:2640},"200712":{baseCost:160,groupId:20071,iconId:"20021",order:2650},"200721":{baseCost:160,groupId:20072,iconId:"20012",order:2660},"200722":{baseCost:160,groupId:20072,iconId:"20011",order:2670},"200731":{baseCost:160,groupId:20073,iconId:"20012",order:2680},"200732":{baseCost:160,groupId:20073,iconId:"20011",order:2690},"200741":{baseCost:160,groupId:20074,iconId:"20022",order:2700},"200742":{baseCost:160,groupId:20074,iconId:"20021",order:2710},"200751":{baseCost:160,groupId:20075,iconId:"20012",order:2720},"200752":{baseCost:160,groupId:20075,iconId:"20011",order:2730},"200761":{baseCost:160,groupId:20076,iconId:"20022",order:2740},"200762":{baseCost:160,groupId:20076,iconId:"20021",order:2750},"200771":{baseCost:140,groupId:20077,iconId:"30051",order:2760},"200781":{baseCost:140,groupId:20078,iconId:"30051",order:2770},"200791":{baseCost:130,groupId:20079,iconId:"30041",order:2780},"200801":{baseCost:130,groupId:20080,iconId:"30041",order:2790},"200811":{baseCost:130,groupId:20081,iconId:"30041",order:2800},"200821":{baseCost:130,groupId:20082,iconId:"30041",order:2810},"200831":{baseCost:130,groupId:20083,iconId:"30051",order:2820},"200841":{baseCost:130,groupId:20084,iconId:"30051",order:2830},"200851":{baseCost:130,groupId:20085,iconId:"30011",order:2840},"200861":{baseCost:130,groupId:20086,iconId:"30051",order:2850},"200871":{baseCost:130,groupId:20087,iconId:"30051",order:2860},"200881":{baseCost:130,groupId:20088,iconId:"30011",order:2870},"200891":{baseCost:130,groupId:20089,iconId:"30051",order:2880},"200901":{baseCost:130,groupId:20090,iconId:"30051",order:2890},"200911":{baseCost:130,groupId:20091,iconId:"30011",order:2900},"200921":{baseCost:130,groupId:20092,iconId:"30051",order:2910},"200931":{baseCost:130,groupId:20093,iconId:"30051",order:2920},"200941":{baseCost:130,groupId:20094,iconId:"30011",order:2930},"200951":{baseCost:110,groupId:20095,iconId:"10021",order:1360},"200952":{baseCost:90,groupId:20095,iconId:"10021",order:1370},"200953":{baseCost:50,groupId:20095,iconId:"10024",order:1380},"200961":{baseCost:110,groupId:20096,iconId:"20011",order:3e4},"200962":{baseCost:100,groupId:20096,iconId:"20011",order:30001},"200971":{baseCost:110,groupId:20097,iconId:"20011",order:30002},"200972":{baseCost:100,groupId:20097,iconId:"20011",order:30003},"200981":{baseCost:170,groupId:20098,iconId:"20012",order:30004},"200982":{baseCost:170,groupId:20098,iconId:"20011",order:30005},"200991":{baseCost:160,groupId:20099,iconId:"20042",order:30006},"200992":{baseCost:160,groupId:20099,iconId:"20041",order:30007},"201001":{baseCost:140,groupId:20100,iconId:"20052",order:30008},"201002":{baseCost:140,groupId:20100,iconId:"20051",order:30009},"201012":{baseCost:170,groupId:20101,iconId:"30011",order:30011},"201021":{baseCost:170,groupId:20102,iconId:"30052",order:30012},"201022":{baseCost:170,groupId:20102,iconId:"30051",order:30013},"201031":{baseCost:110,groupId:20103,iconId:"20011",order:30014},"201032":{baseCost:100,groupId:20103,iconId:"20011",order:30015},"201041":{baseCost:110,groupId:20104,iconId:"20011",order:30016},"201042":{baseCost:100,groupId:20104,iconId:"20011",order:30017},"201051":{baseCost:160,groupId:20105,iconId:"20012",order:30018},"201052":{baseCost:160,groupId:20105,iconId:"20011",order:30019},"201061":{baseCost:160,groupId:20106,iconId:"20042",order:30020},"201062":{baseCost:160,groupId:20106,iconId:"20041",order:30021},"201071":{baseCost:120,groupId:20107,iconId:"20012",order:30022},"201072":{baseCost:120,groupId:20107,iconId:"20011",order:30023},"201081":{baseCost:160,groupId:20108,iconId:"30012",order:30024},"201082":{baseCost:160,groupId:20108,iconId:"30011",order:30025},"201091":{baseCost:160,groupId:20109,iconId:"30022",order:30026},"201092":{baseCost:160,groupId:20109,iconId:"30021",order:30027},"201101":{baseCost:110,groupId:20110,iconId:"20011",order:30028},"201102":{baseCost:100,groupId:20110,iconId:"20011",order:30029},"201111":{baseCost:110,groupId:20111,iconId:"20011",order:30030},"201112":{baseCost:100,groupId:20111,iconId:"20011",order:30031},"201121":{baseCost:110,groupId:20112,iconId:"20092",order:30032},"201122":{baseCost:110,groupId:20112,iconId:"20091",order:30033},"201131":{baseCost:140,groupId:20113,iconId:"20052",order:30034},"201132":{baseCost:140,groupId:20113,iconId:"20051",order:30035},"201141":{baseCost:160,groupId:20114,iconId:"20022",order:30036},"201142":{baseCost:160,groupId:20114,iconId:"20021",order:30037},"201151":{baseCost:160,groupId:20115,iconId:"30012",order:30038},"201152":{baseCost:160,groupId:20115,iconId:"30011",order:30039},"201161":{baseCost:160,groupId:20116,iconId:"30052",order:30040},"201162":{baseCost:160,groupId:20116,iconId:"30051",order:30041},"201171":{baseCost:110,groupId:20117,iconId:"20011",order:30042},"201172":{baseCost:100,groupId:20117,iconId:"20011",order:30043},"201181":{baseCost:110,groupId:20118,iconId:"20011",order:30044},"201182":{baseCost:100,groupId:20118,iconId:"20011",order:30045},"201191":{baseCost:160,groupId:20119,iconId:"20012",order:30046},"201192":{baseCost:160,groupId:20119,iconId:"20011",order:30047},"201202":{baseCost:160,groupId:20120,iconId:"20021",order:30049},"201211":{baseCost:160,groupId:20121,iconId:"20012",order:30050},"201212":{baseCost:160,groupId:20121,iconId:"20011",order:30051},"201221":{baseCost:160,groupId:20122,iconId:"30052",order:30052},"201222":{baseCost:160,groupId:20122,iconId:"30051",order:30053},"201231":{baseCost:110,groupId:20123,iconId:"30072",order:30054},"201232":{baseCost:110,groupId:20123,iconId:"30071",order:30055},"201241":{baseCost:140,groupId:20124,iconId:"20011",order:30056},"201242":{baseCost:130,groupId:20124,iconId:"20011",order:30057},"201251":{baseCost:140,groupId:20125,iconId:"20011",order:30058},"201252":{baseCost:130,groupId:20125,iconId:"20011",order:30059},"201262":{baseCost:110,groupId:20126,iconId:"20051",order:30061},"201272":{baseCost:180,groupId:20127,iconId:"20011",order:30063},"201281":{baseCost:180,groupId:20128,iconId:"20022",order:30064},"201282":{baseCost:180,groupId:20128,iconId:"20021",order:30065},"201291":{baseCost:180,groupId:20129,iconId:"20042",order:30066},"201292":{baseCost:180,groupId:20129,iconId:"20041",order:30067},"201302":{baseCost:130,groupId:20130,iconId:"30021",order:30069},"201311":{baseCost:140,groupId:20131,iconId:"20011",order:30070},"201312":{baseCost:130,groupId:20131,iconId:"20011",order:30071},"201321":{baseCost:140,groupId:20132,iconId:"20011",order:30072},"201322":{baseCost:130,groupId:20132,iconId:"20011",order:30073},"201331":{baseCost:120,groupId:20133,iconId:"20042",order:30074},"201332":{baseCost:120,groupId:20133,iconId:"20041",order:30075},"201341":{baseCost:120,groupId:20134,iconId:"20042",order:30076},"201342":{baseCost:120,groupId:20134,iconId:"20041",order:30077},"201351":{baseCost:180,groupId:20135,iconId:"20022",order:30078},"201352":{baseCost:180,groupId:20135,iconId:"20021",order:30079},"201361":{baseCost:120,groupId:20136,iconId:"20042",order:30080},"201362":{baseCost:120,groupId:20136,iconId:"20041",order:30081},"201371":{baseCost:110,groupId:20137,iconId:"30072",order:30082},"201372":{baseCost:110,groupId:20137,iconId:"30071",order:30083},"201381":{baseCost:140,groupId:20138,iconId:"20011",order:30084},"201382":{baseCost:130,groupId:20138,iconId:"20011",order:30085},"201391":{baseCost:140,groupId:20139,iconId:"20011",order:30086},"201392":{baseCost:130,groupId:20139,iconId:"20011",order:30087},"201401":{baseCost:120,groupId:20140,iconId:"20042",order:30088},"201402":{baseCost:120,groupId:20140,iconId:"20041",order:30089},"201411":{baseCost:120,groupId:20141,iconId:"20012",order:30090},"201412":{baseCost:120,groupId:20141,iconId:"20011",order:30091},"201421":{baseCost:180,groupId:20142,iconId:"20022",order:30092},"201422":{baseCost:180,groupId:20142,iconId:"20021",order:30093},"201431":{baseCost:120,groupId:20143,iconId:"20092",order:30094},"201432":{baseCost:120,groupId:20143,iconId:"20091",order:30095},"201441":{baseCost:180,groupId:20144,iconId:"30052",order:30096},"201442":{baseCost:180,groupId:20144,iconId:"30051",order:30097},"201451":{baseCost:140,groupId:20145,iconId:"20011",order:30098},"201452":{baseCost:130,groupId:20145,iconId:"20011",order:30099},"201461":{baseCost:140,groupId:20146,iconId:"20011",order:30100},"201462":{baseCost:130,groupId:20146,iconId:"20011",order:30101},"201471":{baseCost:110,groupId:20147,iconId:"20092",order:30102},"201472":{baseCost:110,groupId:20147,iconId:"20091",order:30103},"201481":{baseCost:170,groupId:20148,iconId:"20022",order:30104},"201482":{baseCost:170,groupId:20148,iconId:"20021",order:30105},"201491":{baseCost:180,groupId:20149,iconId:"20022",order:30106},"201492":{baseCost:180,groupId:20149,iconId:"20021",order:30107},"201501":{baseCost:110,groupId:20150,iconId:"20092",order:30108},"201502":{baseCost:110,groupId:20150,iconId:"20091",order:30109},"201511":{baseCost:180,groupId:20151,iconId:"30012",order:30110},"201512":{baseCost:180,groupId:20151,iconId:"30011",order:30111},"201521":{baseCost:130,groupId:20152,iconId:"10051",order:30112},"201522":{baseCost:110,groupId:20152,iconId:"10051",order:30113},"201531":{baseCost:130,groupId:20153,iconId:"10051",order:30114},"201532":{baseCost:110,groupId:20153,iconId:"10051",order:30115},"201541":{baseCost:130,groupId:20154,iconId:"10051",order:30116},"201542":{baseCost:110,groupId:20154,iconId:"10051",order:30117},"201551":{baseCost:130,groupId:20155,iconId:"10051",order:30118},"201552":{baseCost:110,groupId:20155,iconId:"10051",order:30119},"201561":{baseCost:110,groupId:20156,iconId:"10062",order:30120},"201562":{baseCost:110,groupId:20156,iconId:"10061",order:30121},"201571":{baseCost:160,groupId:20157,iconId:"20021",order:30122},"201581":{baseCost:160,groupId:20158,iconId:"20041",order:30123},"201591":{baseCost:160,groupId:20159,iconId:"20011",order:30124},"201601":{baseCost:100,groupId:20160,iconId:"20041",order:30125},"201611":{baseCost:100,groupId:20161,iconId:"20011",order:30126},"201621":{baseCost:100,groupId:20162,iconId:"20021",order:30127},"201631":{baseCost:70,groupId:20163,iconId:"10011",order:30128},"201641":{baseCost:70,groupId:20164,iconId:"10011",order:30129},"201651":{baseCost:160,groupId:20165,iconId:"20011",order:30130},"201661":{baseCost:160,groupId:20166,iconId:"20011",order:30131},"900011":{baseCost:200,groupId:90001,iconId:"20011",order:30},"900021":{baseCost:200,groupId:90002,iconId:"20011",order:30},"900031":{baseCost:200,groupId:90003,iconId:"20011",order:30},"900041":{baseCost:200,groupId:90004,iconId:"20041",order:30},"900061":{baseCost:200,groupId:90006,iconId:"20011",order:30},"900071":{baseCost:200,groupId:90007,iconId:"20011",order:30},"900081":{baseCost:200,groupId:90008,iconId:"20011",order:30},"900091":{baseCost:200,groupId:90009,iconId:"20011",order:30},"900101":{baseCost:200,groupId:90010,iconId:"20041",order:30},"900111":{baseCost:200,groupId:90011,iconId:"20011",order:30},"900131":{baseCost:200,groupId:90013,iconId:"20011",order:30},"900141":{baseCost:200,groupId:90014,iconId:"20011",order:30},"900151":{baseCost:200,groupId:90015,iconId:"20011",order:30},"900171":{baseCost:200,groupId:90017,iconId:"20011",order:30},"900181":{baseCost:200,groupId:90018,iconId:"20011",order:30},"900231":{baseCost:200,groupId:90023,iconId:"20011",order:30},"900241":{baseCost:200,groupId:90024,iconId:"20011",order:30},"900261":{baseCost:200,groupId:90026,iconId:"20011",order:30},"900271":{baseCost:200,groupId:90027,iconId:"20041",order:30},"900301":{baseCost:200,groupId:90030,iconId:"20011",order:30},"900321":{baseCost:200,groupId:90032,iconId:"20021",order:30},"900351":{baseCost:200,groupId:90035,iconId:"20011",order:30},"900411":{baseCost:200,groupId:90041,iconId:"20011",order:30},"900451":{baseCost:200,groupId:90045,iconId:"20021",order:30},"900521":{baseCost:200,groupId:90052,iconId:"20021",order:30},"900561":{baseCost:200,groupId:90056,iconId:"20011",order:30},"900601":{baseCost:200,groupId:90060,iconId:"20011",order:30},"900611":{baseCost:200,groupId:90061,iconId:"20011",order:30}};function vu(e){return yu[e.split("-")[0]]}function Od(e,t){let r=vu(e).order,n=vu(t).order;return+(n<r)-+(r<n)||+(t<e)-+(e<t)}function ga(e){return We(e,Od)}var oi=class extends st({outfitId:"",speed:1200,stamina:1200,power:800,guts:400,wisdom:400,strategy:"Senkou",distanceAptitude:"S",surfaceAptitude:"A",strategyAptitude:"A",skills:ga([])}){};var kd=mn().strict,ai=(o=>(o[o.Nige=1]="Nige",o[o.Senkou=2]="Senkou",o[o.Sasi=3]="Sasi",o[o.Oikomi=4]="Oikomi",o[o.Oonige=5]="Oonige",o))(ai||{});var Dr;(r=>{function e(n){kd(ai.hasOwnProperty(n))}r.assertIsStrategy=e;function t(n,i){return n==i||n==1&&i==5||n==5&&i==1}r.strategyMatches=t})(Dr||={});var Su={"10101":{corners:[{length:275,start:400},{length:275,start:675}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10001,slopes:[],straights:[{end:400,start:0},{end:1200,start:950}],surface:1,turn:1},"10102":{corners:[{length:275,start:150},{length:275,start:700},{length:275,start:975}],course:1,courseSetStatus:[],distance:1500,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:700,start:425},{end:1500,start:1250}],surface:1,turn:1},"10103":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:1e3},{length:275,start:1275}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:175,start:0},{end:1e3,start:725},{end:1800,start:1550}],surface:1,turn:1},"10104":{corners:[{length:275,start:375},{length:275,start:650},{length:275,start:1200},{length:275,start:1475}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10001,slopes:[],straights:[{end:375,start:0},{end:1200,start:925},{end:2e3,start:1750}],surface:1,turn:1},"10105":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:975},{length:275,start:1250},{length:275,start:1800},{length:275,start:2075}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10001,slopes:[],straights:[{end:175,start:0},{end:975,start:725},{end:1800,start:1525},{end:2600,start:2350}],surface:1,turn:1},"10106":{corners:[{length:230,start:280},{length:230,start:510}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10001,slopes:[],straights:[{end:280,start:0},{end:1e3,start:740}],surface:2,turn:1},"10107":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:980},{length:230,start:1210}],course:1,courseSetStatus:[1],distance:1700,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:240,start:0},{end:980,start:700},{end:1700,start:1440}],surface:2,turn:1},"10108":{corners:[{length:230,start:200},{length:230,start:430},{length:230,start:940},{length:230,start:1170},{length:230,start:1680},{length:230,start:1910}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10001,slopes:[],straights:[{end:200,start:0},{end:940,start:660},{end:1680,start:1408},{end:2400,start:2140}],surface:2,turn:1},"10201":{corners:[{length:220,start:310},{length:220,start:530}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[{length:555,slope:1e4,start:0}],straights:[{end:310,start:0},{end:1e3,start:750}],surface:1,turn:1},"10202":{corners:[{length:220,start:510},{length:220,start:730}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10002,slopes:[{length:755,slope:1e4,start:0}],straights:[{end:510,start:0},{end:1200,start:950}],surface:1,turn:1},"10203":{corners:[{length:220,start:320},{length:220,start:540},{length:220,start:1110},{length:220,start:1330}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:220},{length:720,slope:1e4,start:665}],straights:[{end:320,start:0},{end:1110,start:760},{end:1800,start:1550}],surface:1,turn:1},"10204":{corners:[{length:220,start:520},{length:220,start:740},{length:220,start:1310},{length:220,start:1530}],course:1,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:420},{length:720,slope:1e4,start:865}],straights:[{end:520,start:0},{end:1310,start:960},{end:2e3,start:1750}],surface:1,turn:1},"10205":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:1070},{length:230,start:1300},{length:230,start:1890},{length:230,start:2120}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10002,slopes:[{length:495,slope:1e4,start:0},{length:200,slope:-1e4,start:970},{length:720,slope:1e4,start:1425}],straights:[{end:240,start:0},{end:1070,start:700},{end:1890,start:1530},{end:2600,start:2350}],surface:1,turn:1},"10206":{corners:[{length:190,start:370},{length:190,start:560}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[],straights:[{end:370,start:0},{end:1e3,start:750}],surface:2,turn:1},"10207":{corners:[{length:190,start:350},{length:190,start:540},{length:190,start:1070},{length:190,start:1260}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10002,slopes:[{length:340,slope:-1e4,start:275},{length:670,slope:1e4,start:615}],straights:[{end:350,start:0},{end:1070,start:730},{end:1700,start:1450}],surface:2,turn:1},"10208":{corners:[{length:190,start:292},{length:190,start:482},{length:190,start:1040},{length:190,start:1230},{length:190,start:1770},{length:190,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10002,slopes:[],straights:[{end:292,start:0},{end:1040,start:672},{end:1770,start:1420},{end:2400,start:2150}],surface:2,turn:1},"10301":{corners:[],course:1,courseSetStatus:[3],distance:1e3,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:649.9,start:0},{end:1e3,start:650}],surface:1,turn:4},"10302":{corners:[{length:200,start:430},{length:210,start:640}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:430,start:0},{end:1200,start:850}],surface:1,turn:2},"10303":{corners:[{length:200,start:650},{length:200,start:850}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:650,start:0},{end:1400,start:1050}],surface:1,turn:2},"10304":{corners:[{length:200,start:550},{length:200,start:750}],course:3,courseSetStatus:[],distance:1600,distanceType:2,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:250},{length:300,slope:-15e3,start:600}],straights:[{end:550,start:0},{end:1600,start:950}],surface:1,turn:2},"10305":{corners:[{length:200,start:750},{length:200,start:950}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:450},{length:300,slope:-15e3,start:800}],straights:[{end:750,start:0},{end:1800,start:1150}],surface:1,turn:2},"10306":{corners:[{length:200,start:420},{length:200,start:620},{length:200,start:1250},{length:200,start:1450}],course:2,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:420,start:0},{end:1250,start:820},{end:2e3,start:1650}],surface:1,turn:2},"10307":{corners:[{length:200,start:950},{length:200,start:1150}],course:3,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[{length:300,slope:-15e3,start:1e3},{length:350,slope:1e4,start:650}],straights:[{end:950,start:0},{end:2e3,start:1350}],surface:1,turn:2},"10308":{corners:[{length:200,start:650},{length:200,start:850},{length:200,start:1450},{length:200,start:1650}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:650,start:0},{end:1450,start:1050},{end:2200,start:1850}],surface:1,turn:2},"10309":{corners:[{length:200,start:810},{length:200,start:1010},{length:200,start:1650},{length:200,start:1850}],course:2,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:810,start:0},{end:1650,start:1210},{end:2400,start:2050}],surface:1,turn:2},"10310":{corners:[{length:150,start:600},{length:150,start:750}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:600,start:0},{end:1200,start:900}],surface:2,turn:2},"10311":{corners:[{length:160,start:400},{length:160,start:560},{length:160,start:1140},{length:160,start:1300}],course:1,courseSetStatus:[5],distance:1800,distanceType:2,raceTrackId:10003,slopes:[],straights:[{end:400,start:0},{end:1140,start:720},{end:1800,start:1460}],surface:2,turn:2},"10312":{corners:[{length:160,start:380},{length:160,start:540},{length:160,start:1120},{length:160,start:1280},{length:160,start:1850},{length:160,start:2010}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10003,slopes:[],straights:[{end:380,start:0},{end:1120,start:700},{end:1850,start:1440},{end:2500,start:2170}],surface:2,turn:2},"10401":{corners:[{length:300,start:420},{length:200,start:720}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:180}],straights:[{end:420,start:0},{end:1200,start:920}],surface:1,turn:1},"10402":{corners:[{length:200,start:330},{length:200,start:530},{length:300,start:1020},{length:200,start:1320}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:780}],straights:[{end:330,start:0},{end:1020,start:730},{end:1800,start:1520}],surface:1,turn:1},"10403":{corners:[{length:200,start:530},{length:200,start:730},{length:300,start:1220},{length:200,start:1520}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:980}],straights:[{end:530,start:0},{end:1220,start:930},{end:2e3,start:1720}],surface:1,turn:1},"10404":{corners:[{length:300,start:220},{length:200,start:520},{length:200,start:1130},{length:200,start:1330},{length:300,start:1820},{length:200,start:2120}],course:1,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10004,slopes:[{length:80,slope:15e3,start:0},{length:100,slope:15e3,start:1580}],straights:[{end:220,start:0},{end:1130,start:720},{end:1820,start:1530},{end:2600,start:2320}],surface:1,turn:1},"10405":{corners:[{length:210,start:500},{length:160,start:710}],course:1,courseSetStatus:[],distance:1150,distanceType:1,raceTrackId:10004,slopes:[],straights:[{end:500,start:0},{end:1150,start:870}],surface:2,turn:1},"10406":{corners:[{length:170,start:360},{length:170,start:530},{length:210,start:1050},{length:160,start:1260}],course:1,courseSetStatus:[3],distance:1700,distanceType:2,raceTrackId:10004,slopes:[{length:320,slope:-1e4,start:285}],straights:[{end:360,start:0},{end:1050,start:700},{end:1700,start:1420}],surface:2,turn:1},"10407":{corners:[{length:210,start:310},{length:160,start:520},{length:170,start:1060},{length:170,start:1230},{length:210,start:1750},{length:160,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10004,slopes:[],straights:[{end:310,start:0},{end:1060,start:680},{end:1750,start:1400},{end:2400,start:2120}],surface:2,turn:1},"10501":{corners:[{length:350,start:300},{length:250,start:650}],course:3,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{length:200,slope:-15e3,start:0},{length:110,slope:2e4,start:1025}],straights:[{end:1200,start:900}],surface:1,turn:1},"10502":{corners:[{length:450,start:50},{length:350,start:700},{length:250,start:1050}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10005,slopes:[{length:300,slope:-15e3,start:300},{length:110,slope:2e4,start:1425}],straights:[{end:1600,start:1300}],surface:1,turn:1},"10503":{corners:[{length:250,start:175},{length:250,start:425},{length:250,start:1e3},{length:250,start:1250}],course:2,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{length:35,slope:2e4,start:1},{length:200,slope:15e3,start:125},{length:400,slope:-15e3,start:425},{length:110,slope:2e4,start:1625}],straights:[{end:175,start:0},{end:1e3,start:675},{end:1800,start:1500}],surface:1,turn:1},"10504":{corners:[{length:250,start:375},{length:250,start:625},{length:250,start:1200},{length:250,start:1450}],course:2,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10005,slopes:[{length:200,slope:15e3,start:325},{length:110,slope:2e4,start:125},{length:400,slope:-15e3,start:625},{length:110,slope:2e4,start:1825}],straights:[{end:375,start:0},{end:1200,start:875},{end:2e3,start:1700}],surface:1,turn:1},"10505":{corners:[{length:247,start:403},{length:450,start:650},{length:350,start:1300},{length:250,start:1650}],course:3,courseSetStatus:[2,4],distance:2200,distanceType:3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:153},{length:200,slope:15e3,start:353},{length:300,slope:-15e3,start:900},{length:110,slope:2e4,start:2025}],straights:[{end:403,start:0},{end:2200,start:1900}],surface:1,turn:1},"10506":{corners:[{length:146,start:100},{length:250,start:246},{length:250,start:875},{length:250,start:1125},{length:250,start:1700},{length:250,start:1950}],course:2,courseSetStatus:[2,4],distance:2500,distanceType:4,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:621},{length:200,slope:15e3,start:825},{length:400,slope:-15e3,start:1125},{length:110,slope:2e4,start:2325}],straights:[{end:875,start:496},{end:1700,start:1375},{end:2500,start:2200}],surface:1,turn:1},"10507":{corners:[{length:250,start:290},{length:250,start:540},{length:250,start:1115},{length:250,start:1365},{length:250,start:1975},{length:250,start:2225},{length:250,start:2800},{length:250,start:3050}],course:2,courseSetStatus:[2],distance:3600,distanceType:4,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:40},{length:200,slope:15e3,start:240},{length:400,slope:-15e3,start:540},{length:110,slope:2e4,start:1740},{length:200,slope:15e3,start:1925},{length:400,slope:-15e3,start:2225},{length:110,slope:2e4,start:3425}],straights:[{end:290,start:0},{end:1115,start:790},{end:1975,start:1615},{end:2800,start:2475},{end:3600,start:3300}],surface:1,turn:1},"10508":{corners:[{length:200,start:500},{length:200,start:700}],course:1,courseSetStatus:[3],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{length:175,slope:-15e3,start:175},{length:175,slope:15e3,start:1e3}],straights:[{end:500,start:0},{end:1200,start:900}],surface:2,turn:1},"10509":{corners:[{length:200,start:350},{length:200,start:550},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{length:175,slope:15e3,start:100},{length:175,slope:1e4,start:350},{length:175,slope:-15e3,start:775},{length:175,slope:15e3,start:1600}],straights:[{end:350,start:0},{end:1100,start:750},{end:1800,start:1500}],surface:2,turn:1},"10510":{corners:[{length:200,start:200},{length:200,start:400},{length:200,start:950},{length:200,start:1150},{length:200,start:1700},{length:200,start:1900}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10005,slopes:[],straights:[{end:200,start:0},{end:950,start:600},{end:1700,start:1350},{end:2400,start:2100}],surface:2,turn:1},"10511":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1050},{length:200,start:1250},{length:200,start:1800},{length:200,start:2e3}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10005,slopes:[],straights:[{end:300,start:0},{end:1050,start:700},{end:1800,start:1450},{end:2500,start:2200}],surface:2,turn:1},"10601":{corners:[{length:275,start:350},{length:275,start:625}],course:1,courseSetStatus:[2,3],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:125},{length:250,slope:-15e3,start:250},{length:150,slope:15e3,start:950}],straights:[{end:350,start:0},{end:1400,start:900}],surface:1,turn:2},"10602":{corners:[{length:275,start:550},{length:275,start:825}],course:1,courseSetStatus:[2,4],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{length:250,slope:-15e3,start:450},{length:75,slope:2e4,start:325},{length:150,slope:15e3,start:1150}],straights:[{end:550,start:0},{end:1600,start:1100}],surface:1,turn:2},"10603":{corners:[{length:250,start:75},{length:275,start:750},{length:275,start:1025}],course:1,courseSetStatus:[1],distance:1800,distanceType:2,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:525},{length:250,slope:-15e3,start:650},{length:150,slope:15e3,start:1350}],straights:[{end:750,start:325},{end:1800,start:1300}],surface:1,turn:2},"10604":{corners:[{length:200,start:200},{length:275,start:950},{length:275,start:1225}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:725},{length:250,slope:-15e3,start:850},{length:150,slope:15e3,start:1550}],straights:[{end:950,start:400},{end:2e3,start:1500}],surface:1,turn:2},"10605":{corners:[{length:250,start:225},{length:325,start:475},{length:275,start:1250},{length:275,start:1525}],course:1,courseSetStatus:[3],distance:2300,distanceType:3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:1025},{length:250,slope:-15e3,start:1150},{length:150,slope:15e3,start:1850}],straights:[{end:225,start:0},{end:1250,start:800},{end:2300,start:1800}],surface:1,turn:2},"10606":{corners:[{length:250,start:325},{length:325,start:575},{length:275,start:1350},{length:275,start:1625}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10006,slopes:[{length:40,slope:15e3,start:0},{length:75,slope:2e4,start:1125},{length:250,slope:-15e3,start:1250},{length:150,slope:15e3,start:1950}],straights:[{end:325,start:0},{end:1350,start:900},{end:2400,start:1900}],surface:1,turn:2},"10607":{corners:[{length:250,start:425},{length:325,start:675},{length:275,start:1450},{length:275,start:1725}],course:1,courseSetStatus:[2],distance:2500,distanceType:4,raceTrackId:10006,slopes:[{length:140,slope:15e3,start:0},{length:75,slope:2e4,start:1225},{length:250,slope:-15e3,start:1350},{length:150,slope:15e3,start:2050}],straights:[{end:425,start:0},{end:1450,start:1e3},{end:2500,start:2e3}],surface:1,turn:2},"10608":{corners:[{length:275,start:292},{length:275,start:567},{length:250,start:1325},{length:325,start:1575},{length:275,start:2350},{length:275,start:2625}],course:1,courseSetStatus:[],distance:3400,distanceType:4,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:67},{length:250,slope:-15e3,start:192},{length:150,slope:15e3,start:892},{length:75,slope:2e4,start:2125},{length:250,slope:-15e3,start:2250},{length:150,slope:15e3,start:2950}],straights:[{end:292,start:0},{end:1325,start:842},{end:2350,start:1900},{end:3400,start:2900}],surface:1,turn:2},"10609":{corners:[{length:225,start:350},{length:225,start:575}],course:1,courseSetStatus:[1],distance:1300,distanceType:1,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:275},{length:250,slope:15e3,start:800}],straights:[{end:350,start:0},{end:1300,start:800}],surface:2,turn:2},"10610":{corners:[{length:225,start:450},{length:225,start:675}],course:1,courseSetStatus:[2],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:375},{length:250,slope:15e3,start:900}],straights:[{end:450,start:0},{end:1400,start:900}],surface:2,turn:2},"10611":{corners:[{length:225,start:650},{length:225,start:875}],course:1,courseSetStatus:[1,2],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:575},{length:250,slope:15e3,start:1100}],straights:[{end:650,start:0},{end:1600,start:1100}],surface:2,turn:2},"10612":{corners:[{length:250,start:200},{length:250,start:450},{length:225,start:1150},{length:225,start:1375}],course:1,courseSetStatus:[],distance:2100,distanceType:3,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:1075},{length:250,slope:15e3,start:1600}],straights:[{end:200,start:0},{end:1150,start:700},{end:2100,start:1600}],surface:2,turn:2},"10613":{corners:[{length:250,start:500},{length:250,start:750},{length:225,start:1450},{length:225,start:1675},{length:500,start:2348}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10006,slopes:[],straights:[{end:500,start:0},{end:1450,start:1e3},{end:2400,start:1900}],surface:2,turn:2},"10701":{corners:[{length:250,start:300},{length:250,start:550}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:100},{length:100,slope:2e4,start:875}],straights:[{end:300,start:0},{end:1200,start:800}],surface:1,turn:2},"10702":{corners:[{length:250,start:500},{length:250,start:750}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:300},{length:100,slope:2e4,start:1075}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:2},"10703":{corners:[{length:150,start:150},{length:250,start:700},{length:250,start:950}],course:1,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:500},{length:100,slope:2e4,start:1275}],straights:[{end:700,start:300},{end:1600,start:1200}],surface:1,turn:2},"10704":{corners:[{length:200,start:300},{length:200,start:500},{length:250,start:1100},{length:250,start:1350}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10007,slopes:[{length:50,slope:2e4,start:0},{length:775,slope:-1e4,start:900},{length:100,slope:2e4,start:1675}],straights:[{end:300,start:0},{end:1100,start:700},{end:2e3,start:1600}],surface:1,turn:2},"10705":{corners:[{length:200,start:500},{length:200,start:700},{length:250,start:1300},{length:250,start:1550}],course:1,courseSetStatus:[2],distance:2200,distanceType:3,raceTrackId:10007,slopes:[{length:150,slope:-1e4,start:0},{length:100,slope:2e4,start:150},{length:775,slope:-1e4,start:1100},{length:100,slope:2e4,start:1875}],straights:[{end:500,start:0},{end:1300,start:900},{end:2200,start:1800}],surface:1,turn:2},"10706":{corners:[{length:200,start:400},{length:200,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[],straights:[{end:400,start:0},{end:1200,start:800}],surface:2,turn:2},"10707":{corners:[{length:200,start:600},{length:200,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{length:600,slope:-15e3,start:425},{length:150,slope:15e3,start:1025}],straights:[{end:600,start:0},{end:1400,start:1e3}],surface:2,turn:2},"10708":{corners:[{length:165,start:270},{length:165,start:435},{length:200,start:1e3},{length:200,start:1200}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10007,slopes:[{length:50,slope:15e3,start:0},{length:600,slope:-15e3,start:825},{length:150,slope:15e3,start:1425}],straights:[{end:270,start:0},{end:1e3,start:600},{end:1800,start:1400}],surface:2,turn:2},"10709":{corners:[{length:165,start:370},{length:165,start:535},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10007,slopes:[],straights:[{end:370,start:0},{end:1100,start:700},{end:1900,start:1500}],surface:2,turn:2},"10801":{corners:[{length:275,start:320},{length:275,start:595}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:120},{length:150,slope:-15e3,start:420}],straights:[{end:320,start:0},{end:1200,start:870}],surface:1,turn:1},"10802":{corners:[{length:275,start:520},{length:275,start:795}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:320},{length:150,slope:-15e3,start:620}],straights:[{end:520,start:0},{end:1400,start:1070}],surface:1,turn:1},"10803":{corners:[{length:250,start:500},{length:250,start:750}],course:3,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:250},{length:225,slope:1e4,start:350},{length:150,slope:-2e4,start:575}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:1},"10804":{corners:[{length:275,start:720},{length:275,start:995}],course:2,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:520},{length:150,slope:-15e3,start:820}],straights:[{end:720,start:200},{end:1600,start:1270}],surface:1,turn:1},"10805":{corners:[{length:250,start:700},{length:250,start:950}],course:3,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:450},{length:225,slope:1e4,start:550},{length:150,slope:-2e4,start:775}],straights:[{end:700,start:200},{end:1600,start:1200}],surface:1,turn:1},"10806":{corners:[{length:250,start:900},{length:250,start:1150}],course:3,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:650},{length:225,slope:1e4,start:750},{length:150,slope:-2e4,start:975}],straights:[{end:900,start:400},{end:1800,start:1400}],surface:1,turn:1},"10807":{corners:[{length:185,start:400},{length:185,start:585},{length:250,start:1170},{length:250,start:1420}],course:2,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:970},{length:150,slope:-15e3,start:1270}],straights:[{end:400,start:0},{end:1170,start:770},{end:2e3,start:1670}],surface:1,turn:1},"10808":{corners:[{length:200,start:400},{length:200,start:600},{length:250,start:1300},{length:250,start:1550}],course:3,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1050},{length:225,slope:1e4,start:1150},{length:150,slope:-2e4,start:1375}],straights:[{end:400,start:0},{end:1300,start:800},{end:2200,start:1800}],surface:1,turn:1},"10809":{corners:[{length:200,start:600},{length:200,start:800},{length:250,start:1500},{length:250,start:1750}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10008,slopes:[{length:225,slope:1e4,start:1350},{length:100,slope:2e4,start:1250},{length:150,slope:-2e4,start:1575}],straights:[{end:600,start:0},{end:1500,start:1e3},{end:2400,start:2e3}],surface:1,turn:1},"10810":{corners:[{length:250,start:261},{length:250,start:511},{length:200,start:1250},{length:200,start:1450},{length:250,start:2100},{length:250,start:2350}],course:3,courseSetStatus:[3,5],distance:3e3,distanceType:4,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:11},{length:225,slope:1e4,start:111},{length:150,slope:-2e4,start:336},{length:225,slope:1e4,start:1950},{length:100,slope:2e4,start:1850},{length:150,slope:-2e4,start:2175}],straights:[{end:261,start:0},{end:1250,start:761},{end:2100,start:1650},{end:3e3,start:2600}],surface:1,turn:1},"10811":{corners:[{length:250,start:458},{length:250,start:708},{length:200,start:1450},{length:200,start:1650},{length:250,start:2300},{length:250,start:2550}],course:3,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:208},{length:225,slope:1e4,start:308},{length:150,slope:-2e4,start:533},{length:100,slope:2e4,start:2050},{length:150,slope:-2e4,start:2375},{length:225,slope:1e4,start:2150}],straights:[{end:458,start:0},{end:1450,start:958},{end:2300,start:1850},{end:3200,start:2800}],surface:1,turn:1},"10812":{corners:[{length:225,start:400},{length:225,start:625}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:175},{length:200,slope:-15e3,start:475}],straights:[{end:400,start:0},{end:1200,start:850}],surface:2,turn:1},"10813":{corners:[{length:225,start:600},{length:225,start:825}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:375},{length:200,slope:-15e3,start:675}],straights:[{end:600,start:100},{end:1400,start:1050}],surface:2,turn:1},"10814":{corners:[{length:150,start:300},{length:150,start:450},{length:225,start:1e3},{length:225,start:1225}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:775},{length:200,slope:-15e3,start:1075}],straights:[{end:300,start:0},{end:1e3,start:600},{end:1800,start:1450}],surface:2,turn:1},"10815":{corners:[{length:150,start:400},{length:150,start:550},{length:225,start:1100},{length:225,start:1325}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:875},{length:200,slope:-15e3,start:1175}],straights:[{end:400,start:0},{end:1100,start:700},{end:1900,start:1550}],surface:2,turn:1},"10901":{corners:[{length:300,start:250},{length:300,start:550}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:400},{length:125,slope:2e4,start:1e3}],straights:[{end:250,start:0},{end:1200,start:850}],surface:1,turn:1},"10902":{corners:[{length:300,start:450},{length:300,start:750}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:600},{length:125,slope:2e4,start:1200}],straights:[{end:450,start:0},{end:1400,start:1050}],surface:1,turn:1},"10903":{corners:[{length:350,start:450},{length:350,start:800}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:950},{length:120,slope:2e4,start:1405}],straights:[{end:450,start:0},{end:1600,start:1150}],surface:1,turn:1},"10904":{corners:[{length:350,start:650},{length:350,start:1e3}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:1150},{length:120,slope:2e4,start:1605}],straights:[{end:650,start:0},{end:1800,start:1350}],surface:1,turn:1},"10905":{corners:[{length:190,start:370},{length:190,start:560},{length:300,start:1050},{length:300,start:1350}],course:2,courseSetStatus:[4],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{length:140,slope:-1e4,start:0},{length:125,slope:2e4,start:145},{length:595,slope:-1e4,start:1200},{length:125,slope:2e4,start:1800}],straights:[{end:370,start:0},{end:1050,start:750},{end:2e3,start:1650}],surface:1,turn:1},"10906":{corners:[{length:190,start:520},{length:190,start:710},{length:300,start:1250},{length:300,start:1550}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10009,slopes:[{length:290,slope:-1e4,start:0},{length:125,slope:2e4,start:295},{length:595,slope:-1e4,start:1400},{length:125,slope:2e4,start:2e3}],straights:[{end:520,start:0},{end:1250,start:900},{end:2200,start:1850}],surface:1,turn:1},"10907":{corners:[{length:190,start:382},{length:190,start:558},{length:350,start:1250},{length:350,start:1600}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10009,slopes:[{length:132,slope:-1e4,start:0},{length:120,slope:2e4,start:187},{length:400,slope:-1e4,start:1750},{length:120,slope:2e4,start:2205}],straights:[{end:1250,start:750},{end:2400,start:1950}],surface:1,turn:1},"10908":{corners:[{length:190,start:570},{length:190,start:760},{length:350,start:1450},{length:350,start:1800}],course:3,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10009,slopes:[{length:315,slope:-1e4,start:0},{length:120,slope:2e4,start:370},{length:400,slope:-1e4,start:1950},{length:120,slope:2e4,start:2405}],straights:[{end:570,start:0},{end:1450,start:950},{end:2600,start:2150}],surface:1,turn:1},"10909":{corners:[{length:300,start:348},{length:300,start:648},{length:190,start:1320},{length:190,start:1510},{length:300,start:2050},{length:300,start:2350}],course:2,courseSetStatus:[3],distance:3e3,distanceType:4,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:498},{length:125,slope:2e4,start:1095},{length:595,slope:-1e4,start:2200},{length:125,slope:2e4,start:2800}],straights:[{end:348,start:0},{end:1320,start:948},{end:2050,start:1700},{end:3e3,start:2650}],surface:1,turn:1},"10910":{corners:[{length:250,start:350},{length:250,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[],straights:[{end:350,start:0},{end:1200,start:850}],surface:2,turn:1},"10911":{corners:[{length:250,start:550},{length:250,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:1200}],straights:[{end:550,start:0},{end:1400,start:1050}],surface:2,turn:1},"10912":{corners:[{length:150,start:330},{length:150,start:480},{length:250,start:950},{length:250,start:1200}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:105},{length:125,slope:15e3,start:1599}],straights:[{end:330,start:0},{end:950,start:630},{end:1800,start:1449}],surface:2,turn:1},"10913":{corners:[{length:150,start:500},{length:150,start:650},{length:250,start:1150},{length:250,start:1400}],course:1,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:275},{length:125,slope:15e3,start:1800}],straights:[{end:500,start:0},{end:1150,start:800},{end:2e3,start:1650}],surface:2,turn:1},"10914":{corners:[{length:350,start:370},{length:350,start:720},{length:190,start:1520},{length:190,start:1710},{length:300,start:2250},{length:300,start:2550}],course:4,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:870},{length:120,slope:2e4,start:1325},{length:595,slope:-1e4,start:2400},{length:125,slope:2e4,start:3e3}],straights:[{end:370,start:0},{end:1520,start:1070},{end:2250,start:1900},{end:3200,start:2850}],surface:1,turn:1},"11001":{corners:[{length:205,start:500},{length:205,start:705}],course:1,courseSetStatus:[1],distance:1200,distanceType:1,raceTrackId:10010,slopes:[{length:60,slope:-15e3,start:0}],straights:[{end:500,start:0},{end:1200,start:910}],surface:1,turn:1},"11002":{corners:[{length:205,start:290},{length:205,start:495},{length:205,start:1100},{length:205,start:1305}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:280}],straights:[{end:290,start:0},{end:1100,start:700},{end:1800,start:1510}],surface:1,turn:1},"11003":{corners:[{length:205,start:490},{length:205,start:695},{length:205,start:1300},{length:205,start:1505}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:480}],straights:[{end:490,start:0},{end:1300,start:900},{end:2e3,start:1710}],surface:1,turn:1},"11004":{corners:[{length:205,start:309},{length:205,start:514},{length:205,start:1110},{length:205,start:1315},{length:205,start:1900},{length:205,start:2105}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:1100}],straights:[{end:309,start:0},{end:1110,start:719},{end:1900,start:1520},{end:2600,start:2310}],surface:1,turn:1},"11005":{corners:[{length:180,start:360},{length:180,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,raceTrackId:10010,slopes:[],straights:[{end:360,start:0},{end:1e3,start:720}],surface:2,turn:1},"11006":{corners:[{length:180,start:340},{length:180,start:520},{length:180,start:1060},{length:180,start:1240}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10010,slopes:[{length:150,slope:15e3,start:370}],straights:[{end:340,start:0},{end:1060,start:700},{end:1700,start:1420}],surface:2,turn:1},"11007":{corners:[{length:180,start:312},{length:180,start:492},{length:180,start:1040},{length:180,start:1220},{length:180,start:1760},{length:180,start:1940}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10010,slopes:[],straights:[{end:312,start:0},{end:1040,start:672},{end:1760,start:1400},{end:2400,start:2120}],surface:2,turn:1},"11101":{corners:[{length:150,start:500},{length:150,start:650}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1200,start:812}],surface:2,turn:1},"11102":{corners:[{length:150,start:300},{length:150,start:500},{length:150,start:1100},{length:150,start:1250}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10101,slopes:[],straights:[{end:301,start:0},{end:1100.23,start:600},{end:1800,start:1400}],surface:2,turn:1},"11103":{corners:[{length:150,start:500},{length:150,start:650},{length:150,start:1300},{length:150,start:1450}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1300,start:800},{end:2e3,start:1600}],surface:2,turn:1}};var si=mn().strict,Iu=(r=>(r[r.Turf=1]="Turf",r[r.Dirt=2]="Dirt",r))(Iu||{}),wu=(i=>(i[i.Short=1]="Short",i[i.Mile=2]="Mile",i[i.Mid=3]="Mid",i[i.Long=4]="Long",i))(wu||{}),Cu=(i=>(i[i.Clockwise=1]="Clockwise",i[i.Counterclockwise=2]="Counterclockwise",i[i.UnusedOrientation=3]="UnusedOrientation",i[i.NoTurns=4]="NoTurns",i))(Cu||{});var S;(c=>{function e(d){si(d==0||d==1||d==2||d==3)}c.assertIsPhase=e;function t(d){si(Iu.hasOwnProperty(d))}c.assertIsSurface=t;function r(d){si(wu.hasOwnProperty(d))}c.assertIsDistanceType=r;function n(d){si(Cu.hasOwnProperty(d))}c.assertIsOrientation=n;function i(d){let f=[!0,-1];function p(l,h){return[l[0]&&h.start>l[1],h.start]}return d.reduce(p,f)[0]}c.isSortedByStart=i;function o(d,f){switch(f){case 0:return 0;case 1:return d*1/6;case 2:return d*2/3;case 3:return d*5/6}}c.phaseStart=o;function a(d,f){switch(f){case 0:return d*1/6;case 1:return d*2/3;case 2:return d*5/6;case 3:return d}}c.phaseEnd=a;function s(d,f){let p=[0,f.speed,f.stamina,f.power,f.guts,f.wisdom].map(l=>Math.min(l,901));return 1+d.courseSetStatus.map(l=>(1+Math.floor(p[l]/300.01))*.05).reduce((l,h)=>l+h,0)/Math.max(d.courseSetStatus.length,1)}c.courseSpeedModifier=s;function u(d){let f=Su[d];return i(f.slopes)||f.slopes.sort((p,l)=>p.start-l.start),Object.keys(f).forEach(p=>Object.freeze(f[p])),Object.freeze(f)}c.getCourse=u})(S||={});var w=class e{constructor(t,r){this.start=t;this.end=r}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.end,t.end);return n<=r?new e(-1,-1):new e(r,n)}fullyContains(t){return this.start<=t.start&&this.end>=t.end}},k=class e extends Array{rmap(t){let r=new e;return this.forEach(n=>{let i=t(n);Array.isArray(i)?i.forEach(o=>{o.start>-1&&r.push(o)}):i.start>-1&&r.push(i)}),r}union(t){let r=[],n=new e;return r.push.apply(r,this),r.push.apply(r,t),r.length==0||(r.sort((i,o)=>i.start-o.start),n.push(r.reduce((i,o)=>i.fullyContains(o)?i:i.start<=o.start&&o.start<i.end?new w(i.start,o.end):i.start<o.end&&o.end<=i.end?new w(o.start,i.end):(n.push(i),o)))),n}};var Mt=class{constructor(t,r=0){this.int32=this.int32_first;this.hi=r>>>0,this.lo=t>>>0}step(){let t=this.hi>>>31,r=this.hi<<1|this.lo>>>31,n=this.lo<<1|t;t=this.hi<<31;let i=this.hi>>>1|this.lo<<31,o=this.lo>>>1|t;this.hi=i^(this.hi|r),this.lo=o^(this.lo|n)}pair(){let t=0,r=0;for(let n=0;n<16;++n)t=t<<2|(this.hi&65536)>>>15|this.hi&1,r=r<<2|(this.hi&16777216)>>>23|(this.hi&256)>>>8,this.step();return[t,r]}int32_first(){let[t,r]=this.pair();return this.next=r,this.int32=this.int32_second,t}int32_second(){return this.int32=this.int32_first,this.next}random(){let[o,a]=this.pair();return((o&67108863)*134217728+(a&134217727))/9007199254740992}uniform(t){let r=-1>>>Math.clz32(t-1|1),n=0;do n=this.int32()&r;while(n>=t);return n}};var Me=Object.freeze({sample(e,t,r){return e.slice(0,1)},reconcile(e){return e.reconcileImmediate(this)},reconcileImmediate(e){return e},reconcileDistributionRandom(e){return e},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),ya=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=0,i=e.map(a=>n+=a.end-a.start),o=[];for(let a=0;a<t;++a){let s=r.uniform(n),u=e.find((c,d)=>i[d]>s);o.push(u.start+r.uniform(u.end-u.start-10))}return o.map(a=>new w(a,a+10))},reconcile(e){return e.reconcileRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),gn=class{sample(t,r,n){if(t.length==0)return[];let i=t.reduce((u,c)=>u+c.end-c.start,0),o=t.slice().sort((u,c)=>u.start-c.start),a=this.distribution(i,r,n),s=[];for(let u=0;u<r;++u){let c=a[u];for(let d=0;;d++)if(c+=o[d].start,c>o[d].end)c-=o[d].end;else{s.push(new w(c,o[d].end));break}}return s}reconcile(t){return t.reconcileDistributionRandom(this)}reconcileImmediate(t){return this}reconcileDistributionRandom(t){return this}reconcileRandom(t){return t}reconcileStraightRandom(t){return t}reconcileAllCornerRandom(t){return t}},ui=class extends gn{constructor(){super()}distribution(t,r,n){let i=[];for(let o=0;o<r;++o)i.push(n.uniform(t));return i}},ci=class extends gn{constructor(r,n){super();this.mu=r;this.sigma=n}distribution(r,n,i){let o=[],a=1/0,s=0,u=Math.ceil(n/2);for(let d=0;d<u;++d){let f,p,l;do f=i.random()*2-1,p=i.random()*2-1,l=f*f+p*p;while(l==0||l>=1);let h=Math.sqrt(-2*Math.log(l)/l)*this.sigma,_=Math.exp(f*h+this.mu),y=Math.exp(p*h+this.mu);a=Math.min(a,_,y),s=Math.max(s,_,y),o.push(_,y)}let c=s-a;return o.map(d=>Math.floor(r*(d-a)/c))}},di=class extends gn{constructor(r,n){super();this.k=r;this.lambda=n}distribution(r,n,i){let o=[],a=1/0,s=0;for(let c=0;c<n;++c){let d=1;for(let p=0;p<this.k;++p)d*=i.random();let f=-Math.log(d)/this.lambda;a=Math.min(a,f),s=Math.max(s,f),o.push(f)}let u=n==1?18:s-a;return o.map(c=>Math.floor(r*(c-a)/u))}},va=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=[];for(let i=0;i<t;++i){let o=e[r.uniform(e.length)];n.push(o.start+r.uniform(o.end-o.start-10))}return n.map(i=>new w(i,i+10))},reconcile(e){return e.reconcileStraightRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")}}),Du=Object.freeze({placeTriggers(e,t){let r=[],n=e.slice();for(n.sort((i,o)=>i.start-o.start);r.length<4&&n.length>0;){let i=t.uniform(n.length),o=n[i],a=o.start+t.uniform(o.end-o.start-10);a+20<=o.end?n.splice(i,1,new w(a+10,o.end)):n.splice(i,1),n.splice(0,i),r.push(a)}return new w(r[0],r[0]+10)},sample(e,t,r){let n=[];for(let i=0;i<t;++i)n.push(this.placeTriggers(e,r));return n},reconcile(e){return e.reconcileAllCornerRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")},reconcileAllCornerRandom(e){return this}});var R=mn().strict;function pi(e){return!0}function Pr(e){return e instanceof k?[e,pi]:e}var li=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterEq(t,this.argument,r,n,i))}},_i=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterNeq(t,this.argument,r,n,i))}},mi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterLt(t,this.argument,r,n,i))}},gi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterLte(t,this.argument,r,n,i))}},yi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterGt(t,this.argument,r,n,i))}},vi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Pr(this.condition.filterGte(t,this.argument,r,n,i))}},bi=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[o,a]=this.left.apply(t,r,n,i),[s,u]=this.right.apply(o,r,n,i);return a===pi&&u===pi?[s,pi]:[s,c=>a(c)&&u(c)]}},Si=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[o,a]=this.left.apply(t,r,n,i),[s,u]=this.right.apply(t,r,n,i);return[o.union(s),c=>a(c)||u(c)]}};function M(e,t,r,n,i){throw R(!1,"unsupported comparison"),0}function Rr(e,t,r,n,i){return e}var Ii=Object.freeze({filterEq:Rr,filterNeq:Rr,filterLt:Rr,filterLte:Rr,filterGt:Rr,filterGte:Rr}),zt=Object.freeze(Object.assign({samplePolicy:Me},Ii)),Pu=Object.freeze(Object.assign({samplePolicy:ya},Ii)),Ed=Object.freeze({samplePolicy:Me,filterEq:M,filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M});function L(e){return Object.assign({},Ed,e)}var Md=Object.freeze({samplePolicy:ya,filterEq:M,filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M});function Ot(e){return Object.assign({},Md,e)}function Sa(e){let t=Object.create(null);return function(...r){let n=r.pop(),i=r.join(","),o=i in t?t[i]:t[i]=Object.freeze(new e(...r));return Object.assign({samplePolicy:o,filterEq:M,filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M},n)}}var Ef=Sa(ci),hi=Sa(di),Ou=Sa(ui);function St(e,t){return hi(e,t,Ii)}var Mf=Ou(Ii);function It(e){return L({filterEq(t,r,n,i,o){return e(n,i,o)==r?t:new k},filterNeq(t,r,n,i,o){return e(n,i,o)!=r?t:new k},filterLt(t,r,n,i,o){return e(n,i,o)<r?t:new k},filterLte(t,r,n,i,o){return e(n,i,o)<=r?t:new k},filterGt(t,r,n,i,o){return e(n,i,o)>r?t:new k},filterGte(t,r,n,i,o){return e(n,i,o)>=r?t:new k}})}function Ru(e){return L({filterEq(t,r,n,i,o){if(o.orderRange!=null){let a=e(r,o.numUmas);return a>=o.orderRange[0]&&a<=o.orderRange[1]?t:new k}return t},filterNeq(t,r,n,i,o){if(o.orderRange!=null){let a=e(r,o.numUmas);return a<o.orderRange[0]||a>o.orderRange[1]?t:new k}return t},filterLt(t,r,n,i,o){if(o.orderRange!=null){R(1<=o.orderRange[0]&&o.orderRange[0]<=o.orderRange[1]);let a=new w(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,o.numUmas);return o.orderRange[0]<s?t:t.rmap(u=>u.intersect(a))}return t},filterLte(t,r,n,i,o){if(o.orderRange!=null){R(1<=o.orderRange[0]&&o.orderRange[0]<=o.orderRange[1]);let a=new w(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,o.numUmas);return o.orderRange[0]<=s?t:t.rmap(u=>u.intersect(a))}return t},filterGt(t,r,n,i,o){return o.orderRange!=null?(R(o.orderRange[0]<=o.orderRange[1]&&o.orderRange[1]<=o.numUmas),e(r,o.numUmas)<o.orderRange[1]?t:new k):t},filterGte(t,r,n,i,o){return o.orderRange!=null?(R(o.orderRange[0]<=o.orderRange[1]&&o.orderRange[1]<=o.numUmas),e(r,o.numUmas)<=o.orderRange[1]?t:new k):t}})}function ba(e){return L({filterEq(t,r,n,i,o){return R(r==1,"must be order_rate_inXX_continue==1"),o.orderRange!=null?(R(1<=o.orderRange[0]&&o.orderRange[0]<=o.orderRange[1]),o.orderRange[0]<=Math.round(e*o.numUmas)?t:new k):t}})}function fi(e){return L({filterEq(t,r,n,i,o){return R(r==1,"must be order_rate_outXX_continue==1"),o.orderRange!=null?(R(o.orderRange[0]<=o.orderRange[1]&&o.orderRange[1]<=o.numUmas),Math.round(e*o.numUmas)<=o.orderRange[1]?t:new k):t}})}var wi=Object.freeze({accumulatetime:L({filterGte(e,t,r,n,i){return[e,o=>o.accumulatetime.t>=t]}}),activate_count_all:L({filterLte(e,t,r,n,i){return[e,o=>o.activateCount.reduce((a,s)=>a+s)<=t]},filterGte(e,t,r,n,i){return[e,o=>o.activateCount.reduce((a,s)=>a+s)>=t]}}),activate_count_end_after:L({filterGte(e,t,r,n,i){return[e,o=>o.activateCount[2]>=t]}}),activate_count_heal:L({filterGte(e,t,r,n,i){return[e,o=>o.activateCountHeal>=t]}}),activate_count_middle:L({filterGte(e,t,r,n,i){return[e,o=>o.activateCount[1]>=t]}}),activate_count_start:L({filterGte(e,t,r,n,i){return[e,o=>o.activateCount[0]>=t]}}),all_corner_random:{samplePolicy:Du,filterEq(e,t,r,n,i){R(t==1,"must be all_corner_random==1");let o=r.corners.map(a=>new w(a.start,a.start+a.length));return e.rmap(a=>o.map(s=>a.intersect(s)))},filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M},always:zt,base_power:It((e,t,r)=>t.power),base_speed:It((e,t,r)=>t.speed),base_stamina:It((e,t,r)=>t.stamina),base_guts:It((e,t,r)=>t.guts),base_wiz:It((e,t,r)=>t.wisdom),bashin_diff_behind:St(3,2),bashin_diff_infront:St(3,2),behind_near_lane_time:St(3,2),behind_near_lane_time_set1:St(3,2),blocked_all_continuetime:St(3,2),blocked_front:St(3,2),blocked_front_continuetime:St(3,2),blocked_side_continuetime:St(3,2),change_order_onetime:St(3,2),change_order_up_end_after:hi(3,2,{filterGte(e,t,r,n,i){let o=new w(S.phaseStart(r.distance,2),r.distance);return e.rmap(a=>a.intersect(o))}}),change_order_up_finalcorner_after:hi(3,2,{filterGte(e,t,r,n,i){if(R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new k;let o=r.corners[r.corners.length-1].start,a=new w(o,r.distance);return e.rmap(s=>s.intersect(a))}}),change_order_up_middle:hi(3,2,{filterGte(e,t,r,n,i){let o=new w(S.phaseStart(r.distance,1),S.phaseEnd(r.distance,1));return e.rmap(a=>a.intersect(o))}}),compete_fight_count:Ou({filterGt(e,t,r,n,i){R(S.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1];return e.rmap(a=>a.intersect(o))}}),corner:L({filterEq(e,t,r,n,i){if(R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),t==0){let o=0,a=r.corners.map(s=>{let u=new w(o,s.start);return o=s.start+s.length,u});return o!=r.distance&&a.push(new w(o,r.distance)),e.rmap(s=>a.map(u=>s.intersect(u)))}else if(r.corners.length+t>=5){let o=[];for(let a=r.corners.length+t-5;a>=0;a-=4){let s=r.corners[a];o.push(new w(s.start,s.start+s.length))}return o.reverse(),e.rmap(a=>o.map(s=>a.intersect(s)))}else return new k},filterNeq(e,t,r,n,i){R(t==0,"only supports corner!=0");let o=r.corners.map(a=>new w(a.start,a.start+a.length));return e.rmap(a=>o.map(s=>a.intersect(s)))}}),corner_count:It((e,t,r)=>e.corners.length),corner_random:Ot({filterEq(e,t,r,n,i){if(R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length+t>=5){let o=r.corners[r.corners.length+t-5],a=new w(o.start,o.start+o.length);return e.rmap(s=>s.intersect(a))}else return new k}}),course_distance:It((e,t,r)=>e.distance),distance_diff_rate:zt,distance_diff_top:zt,distance_diff_top_float:zt,distance_rate:L({filterLte(e,t,r,n,i){let o=new w(0,r.distance*t/100);return e.rmap(a=>a.intersect(o))},filterGte(e,t,r,n,i){let o=new w(r.distance*t/100,r.distance);return e.rmap(a=>a.intersect(o))}}),distance_rate_after_random:Ot({filterEq(e,t,r,n,i){let o=new w(r.distance*t/100,r.distance);return e.rmap(a=>a.intersect(o))}}),distance_type:L({filterEq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType==t?e:new k},filterNeq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType!=t?e:new k}}),down_slope_random:Ot({filterEq(e,t,r,n,i){R(t==1,"must be down_slope_random==1");let o=r.slopes.filter(a=>a.slope<0).map(a=>new w(a.start,a.start+a.length));return e.rmap(a=>o.map(s=>a.intersect(s)))}}),grade:It((e,t,r)=>r.grade),ground_condition:It((e,t,r)=>r.groundCondition),ground_type:It((e,t,r)=>e.surface),hp_per:L({filterLte(e,t,r,n,i){return t/=100,[e,o=>o.hp.hpRatioRemaining()<=t]},filterGte(e,t,r,n,i){return t/=100,[e,o=>o.hp.hpRatioRemaining()>=t]}}),infront_near_lane_time:St(3,2),is_activate_other_skill_detail:L({filterEq(e,t,r,n,i){return R(t==1,"must be is_activate_other_skill_detail==1"),[e,o=>o.usedSkills.has(i.skillId)]}}),is_basis_distance:L({filterEq(e,t,r,n,i){return R(t==0||t==1,"must be is_basis_distance==0 or is_basis_distance==1"),Math.min(r.distance%400,1)!=t?e:new k}}),is_badstart:L({filterEq(e,t,r,n,i){return R(t==0||t==1,"must be is_badstart==0 or is_badstart==1"),[e,t?a=>a.startDelay>.08:a=>a.startDelay<=.08]}}),is_behind_in:zt,is_dirtgrade:L({filterEq(e,t,r,n,i){return R(t==1,"must be is_dirtgrade==1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)>-1?e:new k},filterNeq(e,t,r,n,i){return R(t==1,"must be is_dirtgrade!=1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)==-1?e:new k}}),is_finalcorner:L({filterEq(e,t,r,n,i){if(R(t==0||t==1,"must be is_finalcorner==0 or is_finalcorner==1"),R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new k;let o=r.corners[r.corners.length-1].start,a=t?new w(o,r.distance):new w(0,o);return e.rmap(s=>s.intersect(a))}}),is_finalcorner_laterhalf:L({filterEq(e,t,r,n,i){if(R(t==1,"must be is_finalcorner_laterhalf==1"),R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new k;let o=r.corners[r.corners.length-1],a=new w((o.start+o.start+o.length)/2,o.start+o.length);return e.rmap(s=>s.intersect(a))}}),is_finalcorner_random:Ot({filterEq(e,t,r,n,i){if(R(t==1,"must be is_finalcorner_random==1"),R(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new k;let o=r.corners[r.corners.length-1],a=new w(o.start,o.start+o.length);return e.rmap(s=>s.intersect(a))}}),is_lastspurt:L({filterEq(e,t,r,n,i){R(t==1,"must be is_lastspurt==1");let o=new w(S.phaseStart(r.distance,2),r.distance);return[e.rmap(a=>a.intersect(o)),a=>a.isLastSpurt]}}),is_last_straight:L({filterEq(e,t,r,n,i){R(t==1,"must be is_last_straight_onetime==1"),R(S.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1];return e.rmap(a=>a.intersect(o))}}),is_last_straight_onetime:L({filterEq(e,t,r,n,i){R(t==1,"must be is_last_straight_onetime==1"),R(S.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1].start,a=new w(o,o+10);return e.rmap(s=>s.intersect(a))}}),is_move_lane:St(5,1),is_overtake:St(1,2),is_surrounded:St(3,2),is_used_skill_id:L({filterEq(e,t,r,n,i){return[e,o=>o.usedSkills.has(""+t)]}}),lane_type:zt,lastspurt:L({filterEq(e,t,r,n,i){let o;switch(t){case 1:o=s=>s.isLastSpurt&&s.lastSpurtTransition!=-1;break;case 2:o=s=>s.isLastSpurt&&s.lastSpurtTransition==-1;break;case 3:o=s=>!s.isLastSpurt;break;default:R(1<=t&&t<=3,"lastspurt case must be 1-3")}let a=new w(S.phaseStart(r.distance,2),r.distance);return[e.rmap(s=>s.intersect(a)),o]}}),motivation:It((e,t,r)=>r.mood+3),near_count:St(3,2),order:Ru((e,t)=>e),order_rate:Ru((e,t)=>Math.round(t*(e/100))),order_rate_in20_continue:ba(.2),order_rate_in40_continue:ba(.4),order_rate_in80_continue:ba(.8),order_rate_out20_continue:fi(.2),order_rate_out40_continue:fi(.4),order_rate_out50_continue:fi(.5),order_rate_out70_continue:fi(.7),overtake_target_no_order_up_time:St(3,2),overtake_target_time:St(3,2),phase:{samplePolicy:Me,filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=["100591","900591","110261","910261","110191","910191","120451","920451","101502121"].indexOf(i.skillId)>-1?10:0,a=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t)+o);return e.rmap(s=>s.intersect(a))},filterNeq:M,filterLt(e,t,r,n,i){S.assertIsPhase(t),R(t>0,"phase == 0");let o=new w(0,S.phaseStart(r.distance,t));return e.rmap(a=>a.intersect(o))},filterLte(e,t,r,n,i){S.assertIsPhase(t);let o=new w(0,S.phaseEnd(r.distance,t));return e.rmap(a=>a.intersect(o))},filterGt(e,t,r,n,i){S.assertIsPhase(t),R(t<3,"phase > 2");let o=new w(S.phaseStart(r.distance,t+1),r.distance);return e.rmap(a=>a.intersect(o))},filterGte(e,t,r,n,i){S.assertIsPhase(t);let o=new w(S.phaseStart(r.distance,t),r.distance);return e.rmap(a=>a.intersect(o))}},phase_corner_random:Ot({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=S.phaseStart(r.distance,t),a=S.phaseEnd(r.distance,t),s=r.corners.filter(u=>u.start>=o&&u.start<a||u.start+u.length>=o&&u.start+u.length<a).map(u=>new w(Math.max(u.start,o),Math.min(u.start+u.length,a)));return e.rmap(u=>s.map(c=>u.intersect(c)))}}),phase_firsthalf_random:Ot({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=S.phaseStart(r.distance,t),a=S.phaseEnd(r.distance,t),s=new w(o,o+(a-o)/2);return e.rmap(u=>u.intersect(s))}}),phase_firstquarter:L({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=S.phaseStart(r.distance,t),a=S.phaseEnd(r.distance,t),s=new w(o,o+(a-o)/4);return e.rmap(u=>u.intersect(s))}}),phase_firstquarter_random:Ot({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=S.phaseStart(r.distance,t),a=S.phaseEnd(r.distance,t),s=new w(o,o+(a-o)/4);return e.rmap(u=>u.intersect(s))}}),phase_laterhalf_random:Ot({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=S.phaseStart(r.distance,t),a=S.phaseEnd(r.distance,t),s=new w((o+a)/2,a);return e.rmap(u=>u.intersect(s))}}),phase_random:Ot({filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(a=>a.intersect(o))}}),phase_straight_random:{samplePolicy:va,filterEq(e,t,r,n,i){S.assertIsPhase(t);let o=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(a=>r.straights.map(s=>a.intersect(s))).rmap(a=>a.intersect(o))},filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M},popularity:zt,post_number:zt,remain_distance:L({filterEq(e,t,r,n,i){let o=new w(r.distance-t,r.distance-t+1);return e.rmap(a=>a.intersect(o))},filterLte(e,t,r,n,i){let o=new w(r.distance-t,r.distance);return e.rmap(a=>a.intersect(o))},filterGte(e,t,r,n,i){let o=new w(0,r.distance-t);return e.rmap(a=>a.intersect(o))}}),rotation:It((e,t,r)=>e.turn),running_style:L({filterEq(e,t,r,n,i){return Dr.assertIsStrategy(t),Dr.strategyMatches(n.strategy,t)?e:new k}}),running_style_count_same:zt,running_style_count_same_rate:zt,running_style_equal_popularity_one:zt,same_skill_horse_count:zt,season:It((e,t,r)=>r.season),slope:L({filterEq(e,t,r,n,i){R(t==0||t==1||t==2,"slopeType"),R(S.isSortedByStart(r.slopes),"course slopes must be sorted by slope start");let o=0,a=r.slopes.filter(u=>t!=2&&u.slope>0||t!=1&&u.slope<0),s=t==0?a.map(u=>{let c=new w(o,u.start);return o=u.start+u.length,c}):a.map(u=>new w(u.start,u.start+u.length));return t==0&&o!=r.distance&&s.push(new w(o,r.distance)),e.rmap(u=>s.map(c=>u.intersect(c)))}}),straight_front_type:L({filterEq(e,t,r,n,i){R(t==1||t==2,"frontType");let o=r.straights.filter(a=>a.frontType==t);return e.rmap(a=>o.map(s=>a.intersect(s)))}}),straight_random:{samplePolicy:va,filterEq(e,t,r,n,i){return R(t==1,"must be straight_random==1"),e.rmap(o=>r.straights.map(a=>o.intersect(a)))},filterNeq:M,filterLt:M,filterLte:M,filterGt:M,filterGte:M},temptation_count:zt,time:It((e,t,r)=>r.time),track_id:It((e,t,r)=>e.raceTrackId),up_slope_random:Ot({filterEq(e,t,r,n,i){R(t==1,"must be up_slope_random==1");let o=r.slopes.filter(a=>a.slope>0).map(a=>new w(a.start,a.start+a.length));return e.rmap(a=>o.map(s=>a.intersect(s)))}}),visiblehorse:zt,weather:It((e,t,r)=>r.weather)});var wt=class extends Error{constructor(t){super(t)}};function ku(e){return 97<=e&&e<=122||48<=e&&e<=57||e==95}var Ia=class{constructor(t){this.lbp=0;this.value=t}led(t,r){throw new wt("unexpected integer literal")}nud(t){return{type:0,value:this.value}}};function wa(e=wi,t={and:bi,or:Si,eq:li,neq:_i,lt:mi,lte:gi,gt:yi,gte:vi}){let r=Object.freeze({lbp:0,led:(m,g)=>{throw new wt("unexpected eof")},nud:m=>{throw new wt("unexpected eof")}});class n{constructor(g){this.lbp=0;this.value=g}led(g,v){throw new wt("unexpected identifier")}nud(g){return{type:1,cond:e[this.value]}}}class i{constructor(g,v){this.lbp=g;this.opclass=v}led(g,v){if(v.type!=1)throw new wt("expected condition on left hand side of comparison");let D=b(g,this.lbp);if(D.type!=0)throw new wt("expected number on right hand side of comparison");return{type:2,op:new this.opclass(v.cond,D.value)}}nud(g){throw new wt("expected expression")}}class o{constructor(g,v){this.lbp=g;this.opclass=v}led(g,v){if(v.type!=2)throw new wt("expected comparison on left hand side of operator");let D=b(g,this.lbp);if(D.type!=2)throw new wt("expected comparison on right hand side of operator");return{type:2,op:new this.opclass(v.op,D.op)}}nud(g){throw new wt("expected expression")}}let a=Object.freeze(new i(30,t.eq)),s=Object.freeze(new i(30,t.neq)),u=Object.freeze(new i(30,t.lt)),c=Object.freeze(new i(30,t.lte)),d=Object.freeze(new i(30,t.gt)),f=Object.freeze(new i(30,t.gte)),p=Object.freeze(new o(20,t.and)),l=Object.freeze(new o(10,t.or));function*h(m){for(var g=0;g<m.length;){var v=m.charCodeAt(g);if(48<=v&&v<=57){for(var D=0;48<=v&&v<=57;)D*=10,D+=v-48,v=m.charCodeAt(++g);yield new Ia(D)}else if(ku(v)){for(var P=g;ku(v);)v=m.charCodeAt(++g);yield new n(m.slice(P,g))}else switch(m[g]){case"=":if(m[++g]!="=")throw new wt("expected =");++g,yield a;break;case"!":if(m[++g]!="=")throw new wt("expected =");++g,yield s;break;case"<":m[++g]=="="?(++g,yield c):yield u;break;case">":m[++g]=="="?(++g,yield f):yield d;break;case"@":yield l,++g;break;case"&":yield p,++g;break;default:throw new wt("invalid character")}}return r}function _(m){let g={current:r,next:m.next().value,tokens:m};return b(g,0)}function y(m){let g=_(m);if(g.type!=2)throw new wt("expected comparison or operator");return g.op}function b(m,g){m.current=m.next,m.next=m.tokens.next().value;for(var v=m.current.nud(m);g<m.next.lbp;)m.current=m.next,m.next=m.tokens.next().value,v=m.current.led(m,v);return v}return{tokenize:h,parse:y,parseAny:_}}var zd=mn().strict,Ri;(r=>(r.StrategyPhaseCoefficient=Object.freeze([[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]].map(n=>Object.freeze(n))),r.DistanceProficiencyModifier=Object.freeze([1.05,1,.9,.8,.6,.4,.2,.1])))(Ri||={});function Or(e){return 20-(e.distance-2e3)/1e3}function Tu(e,t,r){return Or(t)*Ri.StrategyPhaseCoefficient[e.strategy][r]+ +(r==2)*Math.sqrt(500*e.speed)*Ri.DistanceProficiencyModifier[e.distanceAptitude]*.002}function Ad(e,t){return(Tu(e,t,2)+.01*Or(t))*1.05+Math.sqrt(500*e.speed)*Ri.DistanceProficiencyModifier[e.distanceAptitude]*.002}var Di;(n=>(n.StrategyPhaseCoefficient=Object.freeze([[],[1,1,.996],[.985,1,.996],[.975,1,1],[.945,1,.997],[1.17,.94,.956]].map(i=>Object.freeze(i))),n.GroundTypeProficiencyModifier=Object.freeze([1.05,1,.9,.8,.7,.5,.3,.1]),n.DistanceProficiencyModifier=Object.freeze([1,1,1,1,1,.6,.5,.4])))(Di||={});var Ld=6e-4,qd=4e-4;function Nd(e,t,r){return e*Math.sqrt(500*t.power)*Di.StrategyPhaseCoefficient[t.strategy][r]*Di.GroundTypeProficiencyModifier[t.surfaceAptitude]*Di.DistanceProficiencyModifier[t.distanceAptitude]}var xd=[-1.2,-.8,-1],Ca;(o=>{o.BaseMinimumThreshold=Object.freeze([0,0,3,6.5,7.5]),o.BaseMaximumThreshold=Object.freeze([0,0,5,7,8]);function r(a){return 8e-4*(a-1e3)+1}o.courseFactor=r;function n(a,s){return o.BaseMinimumThreshold[a]*(a==2?1:r(s))}o.minThreshold=n;function i(a,s){return o.BaseMaximumThreshold[a]*r(s)}o.maxThreshold=i})(Ca||={});var Da=class{constructor(t){this.t=t}},yn=class{constructor(t,r=0){this.acc=t;this.err=r}add(t){let r=this.acc+t;Math.abs(this.acc)>=Math.abs(t)?this.err+=this.acc-r+t:this.err+=t-r+this.acc,this.acc=r}},Ra=(h=>(h[h.SpeedUp=1]="SpeedUp",h[h.StaminaUp=2]="StaminaUp",h[h.PowerUp=3]="PowerUp",h[h.GutsUp=4]="GutsUp",h[h.WisdomUp=5]="WisdomUp",h[h.Recovery=9]="Recovery",h[h.MultiplyStartDelay=10]="MultiplyStartDelay",h[h.SetStartDelay=14]="SetStartDelay",h[h.CurrentSpeed=21]="CurrentSpeed",h[h.CurrentSpeedWithNaturalDeceleration=22]="CurrentSpeedWithNaturalDeceleration",h[h.TargetSpeed=27]="TargetSpeed",h[h.Accel=31]="Accel",h[h.ActivateRandomGold=37]="ActivateRandomGold",h[h.ExtendEvolvedDuration=42]="ExtendEvolvedDuration",h))(Ra||{});function Ci(e){}var vn=class{constructor(t){this.horse=Object.assign({},t.horse),this.course=t.course,this.hp=t.hp,this.pacer=t.pacer||null,this.rng=t.rng,this.pendingSkills=t.skills.slice(),this.pendingRemoval=new Set,this.usedSkills=new Set,this.gorosiRng=new Mt(this.rng.int32()),this.paceEffectRng=new Mt(this.rng.int32()),this.timers=[],this.accumulatetime=this.getNewTimer(),this.phase=0,this.nextPhaseTransition=S.phaseStart(this.course.distance,1),this.activeTargetSpeedSkills=[],this.activeCurrentSpeedSkills=[],this.activeAccelSkills=[],this.activateCount=[0,0,0],this.activateCountHeal=0,this.onSkillActivate=t.onSkillActivate||Ci,this.onSkillDeactivate=t.onSkillDeactivate||Ci,this.sectionLength=this.course.distance/24,this.isPaceDown=!1,this.posKeepMinThreshold=Ca.minThreshold(this.horse.strategy,this.course.distance),this.posKeepMaxThreshold=Ca.maxThreshold(this.horse.strategy,this.course.distance),this.posKeepCooldown=this.getNewTimer(),this.posKeepEnd=this.sectionLength*5,this.posKeepSpeedCoef=1,Dr.strategyMatches(this.horse.strategy,1)||this.pacer==null?this.updatePositionKeep=Ci:this.updatePositionKeep=this.updatePositionKeepNonNige,this.modifiers={targetSpeed:new yn(0),currentSpeed:new yn(0),accel:new yn(0),oneFrameAccel:0,specialSkillDurationScaling:1},this.initHills(),this.startDelay=.1*this.rng.random(),this.pacer&&(this.pacer.startDelay=0),this.pos=0,this.accel=0,this.currentSpeed=3,this.targetSpeed=.85*Or(this.course),this.processSkillActivations(),this.minSpeed=.85*Or(this.course)+Math.sqrt(200*this.horse.guts)*.001,this.startDash=!0,this.modifiers.accel.add(24),this.baseTargetSpeed=[0,1,2].map(r=>Tu(this.horse,this.course,r)),this.lastSpurtSpeed=Ad(this.horse,this.course),this.lastSpurtTransition=-1,this.hp.init(this.horse),this.baseAccel=[0,1,2,0,1,2].map((r,n)=>Nd(n>2?qd:Ld,this.horse,r))}initHills(){zd(S.isSortedByStart(this.course.slopes),"slopes must be sorted by start location"),this.nHills=this.course.slopes.length,this.hillStart=this.course.slopes.map(t=>t.start).reverse(),this.hillEnd=this.course.slopes.map(t=>t.start+t.length).reverse(),this.hillIdx=-1,this.hillStart.length>0&&this.hillStart[this.hillStart.length-1]==0&&(this.course.slopes[0].slope>0?this.hillIdx=0:this.hillEnd.pop(),this.hillStart.pop())}getNewTimer(t=0){let r=new Da(t);return this.timers.push(r),r}getMaxSpeed(){return this.startDash?Math.min(this.targetSpeed,.85*Or(this.course)):this.currentSpeed+this.modifiers.oneFrameAccel>this.targetSpeed?9999:this.targetSpeed}step(t){if(this.accumulatetime.t<this.startDelay){let i=this.startDelay-this.accumulatetime.t;if(i<t)this.timers.forEach(o=>o.t+=i),t-=i;else{this.timers.forEach(o=>o.t+=t);return}}this.pos<this.posKeepEnd&&this.pacer!=null&&this.pacer.step(t);let r=Math.min(this.currentSpeed+.5*t*this.accel,this.getMaxSpeed()),n=r+this.modifiers.currentSpeed.acc+this.modifiers.currentSpeed.err;this.pos+=n*t,this.hp.tick(this,t),this.timers.forEach(i=>i.t+=t),this.updateHills(),this.updatePhase(),this.processSkillActivations(),this.updatePositionKeep(),this.updateLastSpurtState(),this.updateTargetSpeed(),this.applyForces(),this.currentSpeed=Math.min(r+.5*t*this.accel+this.modifiers.oneFrameAccel,this.getMaxSpeed()),!this.startDash&&this.currentSpeed<this.minSpeed?this.currentSpeed=this.minSpeed:this.startDash&&this.currentSpeed>=.85*Or(this.course)&&(this.startDash=!1,this.modifiers.accel.add(-24)),this.modifiers.oneFrameAccel=0}updatePositionKeepNonNige(){if(this.pos>=this.posKeepEnd)this.isPaceDown=!1,this.posKeepSpeedCoef=1,this.updatePositionKeep=Ci;else if(this.isPaceDown)(this.pacer.pos-this.pos>this.posKeepEffectExitDistance||this.pos-this.posKeepEffectStart>this.sectionLength||this.activeTargetSpeedSkills.length>0||this.activeCurrentSpeedSkills.length>0)&&(this.isPaceDown=!1,this.posKeepCooldown.t=-3,this.posKeepSpeedCoef=1);else if(this.pacer.pos-this.pos<this.posKeepMinThreshold&&this.activeTargetSpeedSkills.length==0&&this.activeCurrentSpeedSkills.length==0&&this.posKeepCooldown.t>=0){this.isPaceDown=!0,this.posKeepEffectStart=this.pos;let t=this.posKeepMinThreshold,r=this.phase==1?t+.5*(this.posKeepMaxThreshold-t):this.posKeepMaxThreshold;this.posKeepEffectExitDistance=t+this.paceEffectRng.random()*(r-t),this.posKeepSpeedCoef=this.phase==1?.945:.915}}updateLastSpurtState(){if(!(this.isLastSpurt||this.phase<2)){if(this.lastSpurtTransition==-1){let t=this.hp.getLastSpurtPair(this,this.lastSpurtSpeed,this.baseTargetSpeed[2]);this.lastSpurtTransition=t[0],this.lastSpurtSpeed=t[1]}this.pos>=this.lastSpurtTransition&&(this.isLastSpurt=!0)}}updateTargetSpeed(){this.hp.hasRemainingHp()?this.isLastSpurt?this.targetSpeed=this.lastSpurtSpeed:this.targetSpeed=this.baseTargetSpeed[this.phase]*this.posKeepSpeedCoef:this.targetSpeed=this.minSpeed,this.targetSpeed+=this.modifiers.targetSpeed.acc+this.modifiers.targetSpeed.err,this.hillIdx!=-1&&(this.targetSpeed-=this.course.slopes[this.hillIdx].slope/1e4*200/this.horse.power,this.targetSpeed=Math.max(this.targetSpeed,this.minSpeed))}applyForces(){if(!this.hp.hasRemainingHp()){this.accel=-1.2;return}if(this.currentSpeed>this.targetSpeed){this.accel=this.isPaceDown?-.5:xd[this.phase];return}this.accel=this.baseAccel[+(this.hillIdx!=-1)*3+this.phase],this.accel+=this.modifiers.accel.acc+this.modifiers.accel.err}updateHills(){this.hillIdx==-1&&this.hillStart.length>0&&this.pos>=this.hillStart[this.hillStart.length-1]?(this.course.slopes[this.nHills-this.hillStart.length].slope>0?this.hillIdx=this.nHills-this.hillStart.length:this.hillEnd.pop(),this.hillStart.pop()):this.hillIdx!=-1&&this.hillEnd.length>0&&this.pos>this.hillEnd[this.hillEnd.length-1]&&(this.hillIdx=-1,this.hillEnd.pop())}updatePhase(){this.pos>=this.nextPhaseTransition&&this.phase<2&&(++this.phase,this.nextPhaseTransition=S.phaseStart(this.course.distance,this.phase+1))}processSkillActivations(){for(let t=this.activeTargetSpeedSkills.length;--t>=0;){let r=this.activeTargetSpeedSkills[t];r.durationTimer.t>=0&&(this.activeTargetSpeedSkills.splice(t,1),this.modifiers.targetSpeed.add(-r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let t=this.activeCurrentSpeedSkills.length;--t>=0;){let r=this.activeCurrentSpeedSkills[t];r.durationTimer.t>=0&&(this.activeCurrentSpeedSkills.splice(t,1),this.modifiers.currentSpeed.add(-r.modifier),r.naturalDeceleration&&(this.modifiers.oneFrameAccel+=r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let t=this.activeAccelSkills.length;--t>=0;){let r=this.activeAccelSkills[t];r.durationTimer.t>=0&&(this.activeAccelSkills.splice(t,1),this.modifiers.accel.add(-r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let t=this.pendingSkills.length;--t>=0;){let r=this.pendingSkills[t];this.pos>=r.trigger.end||this.pendingRemoval.has(r.skillId)?(this.pendingSkills.splice(t,1),this.pendingRemoval.delete(r.skillId)):this.pos>=r.trigger.start&&r.extraCondition(this)&&(this.activateSkill(r),this.pendingSkills.splice(t,1))}}activateSkill(t){t.effects.sort((r,n)=>+(r.type==42)-+(n.type==42)).forEach(r=>{let n=r.baseDuration*(this.course.distance/1e3)*(t.rarity==6?this.modifiers.specialSkillDurationScaling:1);switch(r.type){case 1:this.horse.speed=Math.max(this.horse.speed+r.modifier,1);break;case 2:this.horse.stamina=Math.max(this.horse.stamina+r.modifier,1),this.horse.rawStamina=Math.max(this.horse.rawStamina+r.modifier,1);break;case 3:this.horse.power=Math.max(this.horse.power+r.modifier,1);break;case 4:this.horse.guts=Math.max(this.horse.guts+r.modifier,1);break;case 5:this.horse.wisdom=Math.max(this.horse.wisdom+r.modifier,1);break;case 10:this.startDelay*=r.modifier;break;case 14:this.startDelay=r.modifier;break;case 27:this.modifiers.targetSpeed.add(r.modifier),this.activeTargetSpeedSkills.push({skillId:t.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 31:this.modifiers.accel.add(r.modifier),this.activeAccelSkills.push({skillId:t.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 21:case 22:this.modifiers.currentSpeed.add(r.modifier),this.activeCurrentSpeedSkills.push({skillId:t.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier,naturalDeceleration:r.type==22});break;case 9:++this.activateCountHeal,this.hp.recover(r.modifier);break;case 37:this.doActivateRandomGold(r.modifier);break;case 42:this.modifiers.specialSkillDurationScaling=r.modifier;break}}),++this.activateCount[this.phase],this.usedSkills.add(t.skillId),this.onSkillActivate(this,t.skillId)}doActivateRandomGold(t){let r=this.pendingSkills.reduce((n,i,o)=>((i.rarity==2||i.rarity==6)&&i.effects.every(a=>a.type>5)&&n.push(o),n),[]);for(let n=r.length;--n>=0;){let i=this.gorosiRng.uniform(n+1);[r[n],r[i]]=[r[i],r[n]]}for(let n=0;n<Math.min(t,r.length);++n){let i=this.pendingSkills[r[n]];this.activateSkill(i),this.pendingRemoval.add(i.skillId)}}};var Eu={init(e){},tick(e,t){},hasRemainingHp(){return!0},hpRatioRemaining(){return 1},recover(e){},getLastSpurtPair(e,t,r){return[-1,t]}},Hd=Object.freeze([0,.95,.89,1,.995,.86]),jd=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(e=>Object.freeze(e))),Pi=class{constructor(t,r,n){this.distance=t.distance,this.baseSpeed=20-(t.distance-2e3)/1e3,this.groundModifier=jd[t.surface][r],this.rng=n}init(t){this.maxHp=.8*Hd[t.strategy]*t.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*t.guts),this.subparAcceptChance=Math.round((15+.05*t.wisdom)*1e3)}getStatusModifier(t){let r=1;return t.isPaceDown&&(r*=.6),r}hpPerSecond(t,r){let n=t.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(t)*this.groundModifier*n}tick(t,r){this.hp-=this.hpPerSecond(t,t.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(t){this.hp=Math.min(this.maxHp,this.hp+this.maxHp*t)}getLastSpurtPair(t,r,n){let o=(this.distance-S.phaseStart(this.distance,2)-60)/r,a={phase:2,isPaceDown:!1};if(this.hp>=this.hpPerSecond(a,r)*o)return[-1,r];let s=[],u=this.distance-60-t.pos,c=this.getStatusModifier(a);for(let d=r-.1;d>=n;d-=.1){let p=Math.min(u/d,Math.max(0,(n*this.hp-this.hpPerSecond(a,n)*u)/(n*this.hpPerSecond(a,d)-this.hpPerSecond(a,n)*d)))*d;s.push([this.distance-p,d])}s.sort((d,f)=>(d[0]-t.pos)/n+(this.distance-d[0])/d[1]-((f[0]-t.pos)/n+(this.distance-f[0])/f[1]));for(let d=0;d<s.length;++d)if(this.rng.uniform(1e5)<=this.subparAcceptChance)return s[d];return s[s.length-1]}};var bn={"100011":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100021":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100041":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:5},"100061":{alternatives:[{baseDuration:5e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:2500,type:27}],precondition:""}],rarity:4},"100081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100101":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:5},"100111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100151":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100231":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100261":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:4},"100301":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:4500,type:27}],precondition:""}],rarity:4},"10071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:3},"10081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:3},"10321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:3500,type:27}],precondition:""}],rarity:3},"200011":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200012":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200013":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200021":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200022":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200023":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200031":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200032":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200033":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200041":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200042":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200043":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200051":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200052":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200053":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200061":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200062":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200063":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200071":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200072":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200073":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200081":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200082":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200083":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200091":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200092":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200093":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200101":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200102":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200103":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200111":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200112":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200113":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200121":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200122":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200123":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200131":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200132":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200133":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200141":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200142":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200143":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200151":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200152":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200153":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200161":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200162":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200163":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200171":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200172":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200173":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200181":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200182":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200183":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200191":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200192":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200193":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200201":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200202":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200203":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200211":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200212":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200221":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200222":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200231":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200232":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200233":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:-4e5,type:4}],precondition:""}],rarity:1},"200241":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200242":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200251":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:6e5,type:5}],precondition:""}],rarity:1},"200252":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:4e5,type:5}],precondition:""}],rarity:1},"200253":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:-4e5,type:5}],precondition:""}],rarity:1},"200261":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200262":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200263":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200271":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200272":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200281":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200282":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200283":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200291":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200292":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200301":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200302":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200311":{alternatives:[{baseDuration:-1,condition:"grade==100",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200321":{alternatives:[{baseDuration:-1,condition:"popularity==1",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200331":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200332":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200333":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200341":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200342":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200343":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,type:31}],precondition:""}],rarity:1},"200351":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200352":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200353":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200361":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200362":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200371":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200372":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200381":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200382":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200391":{alternatives:[{baseDuration:0,condition:"slope==1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200401":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&blocked_all_continuetime>=1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200411":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&is_lastspurt==1&straight_random==1&corner==0&distance_diff_rate>=75",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200421":{alternatives:[{baseDuration:3e4,condition:"remain_distance==200&order==1&bashin_diff_behind>=1",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200431":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:4e3,type:10}],precondition:""}],rarity:2},"200432":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:9e3,type:10}],precondition:""}],rarity:1},"200433":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:15e3,type:10}],precondition:""}],rarity:1},"200441":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200442":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200451":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:350,type:28}],precondition:""}],rarity:2},"200452":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"200461":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200462":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200471":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200472":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200481":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200482":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200491":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:4e3,type:31},{modifier:250,type:28}],precondition:""}],rarity:2},"200492":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:2e3,type:31},{modifier:50,type:28}],precondition:""}],rarity:1},"200501":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:350,type:28}],precondition:""}],rarity:2},"200502":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"200511":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200512":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200521":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&order==1&bashin_diff_behind>=1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200531":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200532":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200541":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200542":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200551":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200552":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200561":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200562":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200571":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200572":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200581":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200582":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200591":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200592":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200601":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200602":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200611":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200612":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200621":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200622":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200631":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200632":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200641":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200642":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200651":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200652":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200662":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==1&order_rate>50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200671":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200672":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200681":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200682":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200691":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200692":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200701":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200702":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200711":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200712":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200721":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200722":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200731":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200732":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200741":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200742":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200751":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200752":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200761":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200762":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200771":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200781":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate>50&temptation_count_infront>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200791":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_nige>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200801":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_senko>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200811":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_sashi>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200821":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_oikomi>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200831":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200841":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200851":{alternatives:[{baseDuration:3e4,condition:"running_style_count_nige_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200861":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200871":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200881":{alternatives:[{baseDuration:3e4,condition:"running_style_count_senko_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200891":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200901":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200911":{alternatives:[{baseDuration:3e4,condition:"running_style_count_sashi_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200921":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200931":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200941":{alternatives:[{baseDuration:3e4,condition:"running_style_count_oikomi_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200951":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200952":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200953":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200961":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"200962":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200971":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"200972":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200981":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200982":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200991":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200992":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201001":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:350,type:28},{modifier:3e3,type:31}],precondition:""}],rarity:2},"201002":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:250,type:28},{modifier:2e3,type:31}],precondition:""}],rarity:1},"201012":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order<=3&accumulatetime>=5",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"201021":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201022":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201031":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201032":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201041":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201042":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201051":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201052":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201061":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"201062":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201071":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201072":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201081":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-2e3,type:21},{modifier:2500,type:27}],precondition:""}],rarity:2},"201082":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-1500,type:21},{modifier:1500,type:27}],precondition:""}],rarity:1},"201091":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-3e3,type:31}],precondition:""}],rarity:2},"201092":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,type:31}],precondition:""}],rarity:1},"201101":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201102":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201111":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201112":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201121":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201122":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:1e5,type:8}],precondition:""}],rarity:1},"201131":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:350,type:28},{modifier:3e3,type:31}],precondition:""}],rarity:2},"201132":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:250,type:28},{modifier:2e3,type:31}],precondition:""}],rarity:1},"201141":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201142":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201151":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-2500,type:21}],precondition:""}],rarity:2},"201152":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"201161":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201162":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201171":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201172":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201181":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201182":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201191":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201192":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201202":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201211":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201212":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201221":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-200,type:9},{modifier:550,type:9}],precondition:""}],rarity:2},"201222":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-50,type:9},{modifier:150,type:9}],precondition:""}],rarity:1},"201231":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-1e5,type:8}],precondition:""}],rarity:2},"201232":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-5e4,type:8}],precondition:""}],rarity:1},"201241":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201242":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201251":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201252":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201262":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_all_continuetime>=1",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"201272":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&change_order_onetime>0&accumulatetime>=5",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201281":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201282":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201291":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"201292":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201302":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,type:31}],precondition:""}],rarity:1},"201311":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201312":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201321":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201322":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201331":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201332":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201341":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201342":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201351":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201352":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201361":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201362":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201371":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-5e4,type:8}],precondition:""}],rarity:2},"201372":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-3e4,type:8}],precondition:""}],rarity:1},"201381":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201382":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201391":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201392":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201401":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201402":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201411":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201412":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201421":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201422":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201431":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201432":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201441":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201442":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201451":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201452":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201461":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201462":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201471":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:1e5,type:8}],precondition:""}],rarity:2},"201472":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201481":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201482":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201491":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201492":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201501":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201502":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201511":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-2500,type:21}],precondition:""}],rarity:2},"201512":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"201521":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201522":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201531":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201532":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201541":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201542":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201551":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201552":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201561":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:6e5,type:1},{modifier:6e5,type:2},{modifier:6e5,type:3}],precondition:""}],rarity:2},"201562":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:4e5,type:1},{modifier:4e5,type:2},{modifier:4e5,type:3}],precondition:""}],rarity:1},"201571":{alternatives:[{baseDuration:0,condition:"remain_distance<=778&remain_distance>=776",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201581":{alternatives:[{baseDuration:3e4,condition:"slope==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201591":{alternatives:[{baseDuration:3e4,condition:"near_count==4@near_count==5@near_count==6@near_count==7",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201601":{alternatives:[{baseDuration:3e4,condition:"activate_count_start>=3",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201611":{alternatives:[{baseDuration:3e4,condition:"activate_count_middle>=3",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201621":{alternatives:[{baseDuration:0,condition:"activate_count_end_after>=3",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201631":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count>=5",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"201641":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count==1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"201651":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201661":{alternatives:[{baseDuration:3e4,condition:"behind_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900011":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900021":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900041":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900061":{alternatives:[{baseDuration:3e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900071":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:500,type:27}],precondition:""}],rarity:1},"900081":{alternatives:[{baseDuration:3e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900091":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900101":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900111":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900141":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900151":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900181":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900231":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900261":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900271":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900301":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900351":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900411":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900561":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900601":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900611":{alternatives:[{baseDuration:3e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1}};var Bd=Object.freeze([null,[0,0,0,0,-50],[0,0,0,0,-50]].map(e=>Object.freeze(e))),Gd=Object.freeze([null,[0,0,-50,-50,-50],[0,-100,-50,-100,-100]].map(e=>Object.freeze(e))),Fd=Object.freeze([1.1,1,.85,.75,.6,.4,.2,.1]),Lu;(n=>{n.StrategyDistanceCoefficient=Object.freeze([[],[0,1,.7,.75,.7,1],[0,1,.8,.7,.75,1],[0,1,.9,.875,.86,1],[0,1,.9,1,.9,1]]),n.BaseModifier=.00875;function r(i,o,a){return n.BaseModifier*Math.sqrt(i-1200)*n.StrategyDistanceCoefficient[a][o]}n.calcApproximateModifier=r})(Lu||={});var qu;(r=>{function e(n){return n<2101?0:n<2201?.5:n<2401?1:n<2601?1.2:1.5}r.distanceFactor=e;function t(n,i){return Math.sqrt(n-1200)*.0085*e(i)*1}r.calcApproximateModifier=t})(qu||={});function Kd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NIGE":return 1;case"SENKOU":return 2;case"SASI":case"SASHI":return 3;case"OIKOMI":return 4;case"OONIGE":return 5;default:throw new Error("Invalid running strategy.")}}function Pa(e,t){if(typeof e!="string")return e;switch(e.toUpperCase()){case"S":return 0;case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;case"F":return 6;case"G":return 7;default:throw new Error("Invalid "+t+" aptitude.")}}function Wd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"GOOD":return 1;case"YIELDING":return 2;case"SOFT":return 3;case"HEAVY":return 4;default:throw new Error("Invalid ground condition.")}}function Yd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SUNNY":return 1;case"CLOUDY":return 2;case"RAINY":return 3;case"SNOWY":return 4;default:throw new Error("Invalid weather.")}}function Jd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SPRING":return 1;case"SUMMER":return 2;case"AUTUMN":return 3;case"WINTER":return 4;case"SAKURA":return 5;default:throw new Error("Invalid season.")}}function Xd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NONE":case"NOTIME":return 0;case"MORNING":return 1;case"MIDDAY":return 2;case"EVENING":return 3;case"NIGHT":return 4;default:throw new Error("Invalid race time.")}}function Zd(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"G1":return 100;case"G2":return 200;case"G3":return 300;case"OP":return 400;case"PRE-OP":case"PREOP":return 700;case"MAIDEN":return 800;case"DEBUT":return 900;case"DAILY":return 999;default:throw new Error("Invalid race grade.")}}function Sn(e){return e>1200?1200+Math.floor((e-1200)/2):e}function Mu(e,t){let r=1+.02*t;return Object.freeze({speed:Sn(e.speed)*r,stamina:Sn(e.stamina)*r,power:Sn(e.power)*r,guts:Sn(e.guts)*r,wisdom:Sn(e.wisdom)*r,strategy:Kd(e.strategy),distanceAptitude:Pa(e.distanceAptitude,"distance"),surfaceAptitude:Pa(e.surfaceAptitude,"surface"),strategyAptitude:Pa(e.strategyAptitude,"strategy"),rawStamina:e.stamina*r})}function zu(e,t,r){let n=S.courseSpeedModifier(t,e);return Object.freeze({speed:Math.max(e.speed*n+Bd[t.surface][r],1),stamina:e.stamina,power:Math.max(e.power+Gd[t.surface][r],1),guts:e.guts,wisdom:e.wisdom*Fd[e.strategyAptitude],strategy:e.strategy,distanceAptitude:e.distanceAptitude,surfaceAptitude:e.surfaceAptitude,strategyAptitude:e.strategyAptitude,rawStamina:e.rawStamina})}function Au(e){return e.effects.reduce((t,r)=>(Ra.hasOwnProperty(r.type)&&r.modifier>0&&t.push({type:r.type,baseDuration:e.baseDuration/1e4,modifier:r.modifier/1e4}),t),[])}function Vd(e,t,r,n,i,o,a=!1){if(!(o in bn))throw new Error("bad skill ID "+o);let s=Object.assign({skillId:o},t),u=bn[o].alternatives,c=[];for(let f=0;f<u.length;++f){let p=u[f],l=new k;if(n.forEach(m=>l.push(m)),p.precondition){let g=i.parse(i.tokenize(p.precondition)).apply(n,r,e,s)[0];if(g.length==0)continue;{let v=new w(g[0].start,n[n.length-1].end);l=l.rmap(D=>D.intersect(v))}}let h=i.parse(i.tokenize(p.condition)),[_,y]=h.apply(l,r,e,s);if(_.length==0||c.length>0&&!/is_activate_other_skill_detail|is_used_skill_id/.test(p.condition))continue;let b=Au(p);if(b.length>0||a){let m=bn[o].rarity;c.push({skillId:o,rarity:m>=3&&m<=5?3:m,samplePolicy:h.samplePolicy,regions:_,extraCondition:y,effects:b})}}if(c.length>0)return c;let d=Au(u[0]);if(d.length==0&&!a)return[];{let f=new k;return f.push(new w(9999,9999)),[{skillId:o,rarity:Math.min(bn[o].rarity,3),samplePolicy:Me,regions:f,extraCondition:p=>!1,effects:d}]}}var Qd=Object.freeze(Object.assign({},wi,{activate_count_all:Ot({filterGte(e,t,r,n,i){if(t==7){let a=new k;return e.forEach(s=>a.push(new w(s.start,s.start+11))),a}let o=new w(Math.min(t/23-.2,.6)*r.distance,Math.min(t/23+.2,1)*r.distance);return e.rmap(a=>a.intersect(o))},filterLte(e,t,r,n,i){return new k}}),activate_count_end_after:Ot({filterGte(e,t,r,n,i){let o=new w(S.phaseStart(r.distance,2),S.phaseEnd(r.distance,3));return e.rmap(a=>a.intersect(o))}}),activate_count_heal:Pu,activate_count_later_half:Ot({filterGte(e,t,r,n,i){let o=new w(r.distance/2,r.distance);return e.rmap(a=>a.intersect(o))}}),activate_count_middle:Ot({filterGte(e,t,r,n,i){let o=S.phaseStart(r.distance,1),a=S.phaseEnd(r.distance,1),s=new w(o,o+t/10*(a-o));return e.rmap(u=>u.intersect(s))}}),activate_count_start:L({filterGte(e,t,r,n,i){let o=new w(S.phaseStart(r.distance,0),S.phaseEnd(r.distance,0));return e.rmap(a=>a.intersect(o))}})})),$d=wa(),tf=wa(Qd),Oi=class e{constructor(t){this.nsamples=t;this._course=null,this._raceParams={mood:2,groundCondition:1,weather:1,season:1,time:2,grade:100,popularity:1},this._horse=null,this._pacer=null,this._pacerSkills=[],this._rng=new Mt(Math.floor(Math.random()*(-1>>>0))>>>0),this._parser=$d,this._skills=[],this._extraSkillHooks=[],this._onSkillActivate=null,this._onSkillDeactivate=null}seed(t){return this._rng=new Mt(t),this}course(t){return typeof t=="number"?this._course=S.getCourse(t):this._course=t,this}mood(t){return this._raceParams.mood=t,this}ground(t){return this._raceParams.groundCondition=Wd(t),this}weather(t){return this._raceParams.weather=Yd(t),this}season(t){return this._raceParams.season=Jd(t),this}time(t){return this._raceParams.time=Xd(t),this}grade(t){return this._raceParams.grade=Zd(t),this}popularity(t){return this._raceParams.popularity=t,this}order(t,r){return this._raceParams.orderRange=[t,r],this}numUmas(t){return this._raceParams.numUmas=t,this}horse(t){return this._horse=t,this}pacer(t){return this._pacer=t,this}_isNige(){return typeof this._horse.strategy=="string"?this._horse.strategy.toUpperCase()=="NIGE"||this._horse.strategy.toUpperCase()=="OONIGE":this._horse.strategy==1||this._horse.strategy==5}useDefaultPacer(t=!0){return this._isNige()?this:(this._pacer=Object.assign({},this._horse,{strategy:"Nige"}),t&&(this._pacerSkills=[{skillId:"201601",rarity:1,trigger:new w(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:3,modifier:.2}]},{skillId:"200532",rarity:1,trigger:new w(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:1.2,modifier:.2}]}]),this)}withActivateCountsAsRandom(){return this._parser=tf,this}withAsiwotameru(){let t=this._horse.power*(1+.02*this._raceParams.mood);return this._extraSkillHooks.push((r,n,i)=>{let o=r.reduce((a,s)=>{let u=s.effects.find(c=>c.type==3);return u&&s.regions.length>0&&s.regions[0].start<9999?a+u.modifier:a},t);if(o>1200){let a=new k;a.push(new w(S.phaseStart(i.distance,2),i.distance)),r.push({skillId:"asitame",rarity:1,regions:a,samplePolicy:Me,extraCondition:s=>!0,effects:[{type:31,baseDuration:3/(i.distance/1e3),modifier:Lu.calcApproximateModifier(o,n.strategy,i.distanceType)}]})}}),this}withStaminaSyoubu(){return this._extraSkillHooks.push((t,r,n)=>{let i=t.reduce((o,a)=>{let s=a.effects.find(u=>u.type==2);return s&&a.regions.length>0&&a.regions[0].start<9999?o+s.modifier:o},r.rawStamina);if(i>1200){let o=new k;o.push(new w(S.phaseStart(n.distance,2),n.distance)),t.push({skillId:"staminasyoubu",rarity:1,regions:o,samplePolicy:Me,extraCondition:a=>a.currentSpeed>=a.lastSpurtSpeed,effects:[{type:27,baseDuration:9999,modifier:qu.calcApproximateModifier(i,n.distance)}]})}}),this}addSkill(t){return this._skills.push(t),this}onSkillActivate(t){return this._onSkillActivate=t,this}onSkillDeactivate(t){return this._onSkillDeactivate=t,this}fork(){let t=new e(this.nsamples);return t._course=this._course,t._raceParams=Object.assign({},this._raceParams),t._horse=this._horse,t._pacer=this._pacer,t._pacerSkills=this._pacerSkills.slice(),t._rng=new Mt(this._rng.lo,this._rng.hi),t._parser=this._parser,t._skills=this._skills.slice(),t._onSkillActivate=this._onSkillActivate,t._onSkillDeactivate=this._onSkillDeactivate,t._extraSkillHooks=this._extraSkillHooks.slice(),t}*build(){let t=Mu(this._horse,this._raceParams.mood),r=new Mt(this._rng.int32()),n=new Mt(this._rng.int32()),i=this._pacer?zu(Mu(this._pacer,this._raceParams.mood),this._course,this._raceParams.groundCondition):null,o=new k;o.push(new w(0,this._course.distance)),Object.freeze(o);let a=Vd.bind(null,t,this._raceParams,this._course,o,this._parser),s=this._skills.flatMap(a);this._extraSkillHooks.forEach(c=>c(s,t,this._course));let u=s.map(c=>c.samplePolicy.sample(c.regions,this.nsamples,this._rng));t=zu(t,this._course,this._raceParams.groundCondition);for(let c=0;c<this.nsamples;++c){let d=s.map((_,y)=>({skillId:_.skillId,rarity:_.rarity,trigger:u[y][c%u[y].length],extraCondition:_.extraCondition,effects:_.effects})),f=new Mt(n.lo,n.hi),p=new Mt(r.lo,r.hi),l=i?new vn({horse:i,course:this._course,hp:Eu,skills:this._pacerSkills,rng:n}):null;(yield new vn({horse:t,course:this._course,skills:d,pacer:l,hp:new Pi(this._course,this._raceParams.groundCondition,new Mt(r.int32())),rng:r,onSkillActivate:this._onSkillActivate,onSkillDeactivate:this._onSkillDeactivate}))&&(--c,n=f,r=p)}}};function Nu(e,t,r,n,i,o){let a=new Oi(e).seed(2615953739).course(t).mood(r.mood).ground(r.groundCondition).weather(r.weather).season(r.season).time(r.time);r.orderRange!=null&&a.order(r.orderRange[0],r.orderRange[1]).numUmas(r.numUmas);let s=a.fork();a.horse(n),s.horse(i);let u=n.skills.intersect(i.skills).toArray().sort((Z,z)=>+Z-+z),c=Z=>{let z=u.indexOf(Z);return z>-1?z:u.length},d=(Z,z)=>c(Z)-c(z)||+Z-+z;n.skills.toArray().sort(d).forEach(Z=>a.addSkill(Z)),i.skills.toArray().sort(d).forEach(Z=>s.addSkill(Z)),o.usePosKeep&&(a.useDefaultPacer(),s.useDefaultPacer());let f=new Map,p=new Map;function l(Z){return function(z,rt){rt!="asitame"&&rt!="staminasyoubu"&&(Z.has(rt)||Z.set(rt,[]),Z.get(rt).push([z.pos,0]))}}function h(Z){return function(z,rt){if(rt!="asitame"&&rt!="staminasyoubu"){let $=Z.get(rt);$[$.length-1][1]=z.pos}}}a.onSkillActivate(l(f)),a.onSkillDeactivate(h(f)),s.onSkillActivate(l(p)),s.onSkillDeactivate(h(p));let _=a.build(),y=s.build(),b=1,m=0,g=1,v=[],D=1/0,P=-1/0,O,C,N=1/0,K=1/0,U,ot,X,ye,ve=Math.max(Math.floor(e*.8),e-200),Ye=!1;for(let Z=0;Z<e;++Z){let z=_.next(Ye).value,rt=y.next(Ye).value,$={t:[[],[]],p:[[],[]],v:[[],[]],hp:[[],[]],sk:[null,null],sdly:[0,0]};for(;rt.pos<t.distance;)rt.step(1/15),$.t[b].push(rt.accumulatetime.t),$.p[b].push(rt.pos),$.v[b].push(rt.currentSpeed+(rt.modifiers.currentSpeed.acc+rt.modifiers.currentSpeed.err)),$.hp[b].push(rt.hp.hp);for($.sdly[b]=rt.startDelay,$.sk[1]=new Map(p),p.clear();z.accumulatetime.t<rt.accumulatetime.t;)z.step(1/15),$.t[m].push(z.accumulatetime.t),$.p[m].push(z.pos),$.v[m].push(z.currentSpeed+(z.modifiers.currentSpeed.acc+z.modifiers.currentSpeed.err)),$.hp[m].push(z.hp.hp);let ka=z.pos;for(;z.pos<t.distance;)z.step(1/15),$.t[m].push(z.accumulatetime.t),$.p[m].push(z.pos),$.v[m].push(z.currentSpeed+(z.modifiers.currentSpeed.acc+z.modifiers.currentSpeed.err)),$.hp[m].push(z.hp.hp);if($.sdly[m]=z.startDelay,$.sk[0]=new Map(f),f.clear(),rt.pos<ka)[y,_]=[_,y],[m,b]=[b,m],g*=-1,--Z,Ye=!0;else{Ye=!1;let ze=g*(rt.pos-ka)/2.5;if(v.push(ze),ze<D&&(D=ze,U=$),ze>P&&(P=ze,ot=$),Z==ve){v.sort((Je,ki)=>Je-ki),O=v.reduce((Je,ki)=>Je+ki)/v.length;let Ae=Math.floor(v.length/2);C=Ae>0&&v.length%2==0?(v[Ae-1]+v[Ae])/2:v[Ae]}if(Z>=ve){let Ae=Math.abs(ze-O),Je=Math.abs(ze-C);Ae<N&&(N=Ae,X=$),Je<K&&(K=Je,ye=$)}}}return v.sort((Z,z)=>Z-z),{results:v,runData:{minrun:U,maxrun:ot,meanrun:X,medianrun:ye}}}function ef(e,t){console.assert(e.id==t.id,`mergeResults: ${e.id} != ${t.id}`);let r=e.results.length,n=t.results.length,i=e.results.concat(t.results).sort((u,c)=>u-c),o=(e.mean*r+t.mean*n)/(r+n),a=Math.floor(i.length/2),s=i.length%2==0?(i[a-1]+i[a])/2:i[a];return{id:e.id,results:i,min:Math.min(e.min,t.min),max:Math.max(e.max,t.max),mean:o,median:s,runData:{...n>r?t.runData:e.runData,minrun:e.min<t.min?e.runData.minrun:t.runData.minrun,maxrun:e.max>t.max?e.runData.maxrun:t.runData.maxrun}}}function xu(e,t){t.forEach((r,n)=>{e.set(n,ef(e.get(n),r))})}function Oa(e,t,r,n,i,o){let a=new Map;return t.forEach(s=>{let u=i.set("skills",i.skills.add(s)),{results:c,runData:d}=Nu(e,r,n,i,u,o),f=Math.floor(c.length/2),p=c.length%2==0?(c[f-1]+c[f])/2:c[f],l=c.reduce((h,_)=>h+_,0)/c.length;a.set(s,{id:s,results:c,runData:d,min:c[0],max:c[c.length-1],mean:l,median:p})}),a}self.addEventListener("message",function(e){let{skills:t,course:r,racedef:n,uma:i,options:o}=e.data,a=new oi(i).set("skills",ga(i.skills)),s=Oa(10,t,r,n,a,o);postMessage(s);let u=Oa(50,t.filter(c=>s.get(c).max>.1),r,n,a,o);xu(s,u),postMessage(s),u=Oa(200,t.filter(c=>Math.abs(s.get(c).max-s.get(c).min)>.1),r,n,a,o),xu(s,u),postMessage(s)});})();
/*! Bundled license information:

immutable/dist/immutable.es.js:
  (**
   * @license
   * MIT License
   * 
   * Copyright (c) 2014-present, Lee Byron and other contributors.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
*/

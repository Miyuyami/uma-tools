(()=>{var g_=Object.create;var Wu=Object.defineProperty;var y_=Object.getOwnPropertyDescriptor;var v_=Object.getOwnPropertyNames;var b_=Object.getPrototypeOf,S_=Object.prototype.hasOwnProperty;var Ku=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var w_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of v_(e))!S_.call(t,i)&&i!==r&&Wu(t,i,{get:()=>e[i],enumerable:!(n=y_(e,i))||n.enumerable});return t};var x_=(t,e,r)=>(r=t!=null?g_(b_(t)):{},w_(e||!t||!t.__esModule?Wu(r,"default",{value:t,enumerable:!0}):r,t));var bf=Ku((Bs,js)=>{(function(t,e){typeof Bs=="object"&&typeof js<"u"?js.exports=function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}:typeof define=="function"&&define.amd?define(function(){return function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}}):t.dlv=function(r,n,i,o,a){for(n=n.split?n.split("."):n,o=0;o<n.length;o++)r=r?r[n[o]]:a;return r===a?i:r}})(Bs)});var Ln=Ku((iC,cp)=>{cp.exports={strict:function(){}}});var pi,q,Ju,I_,zr,Yu,Zu,Ms,Qu,dn={},tf=[],k_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,zs=Array.isArray;function Ue(t,e){for(var r in e)t[r]=e[r];return t}function ef(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,r){var n,i,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?pi.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return li(t,a,n,i,null)}function li(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Ju};return i==null&&q.vnode!=null&&q.vnode(o),o}function vt(t){return t.children}function pn(t,e){this.props=t,this.context=e}function di(t,e){if(e==null)return t.__?di(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__d||r.__e;return typeof t.type=="function"?di(t):null}function rf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return rf(t)}}function Es(t){(!t.__d&&(t.__d=!0)&&zr.push(t)&&!Lo.__r++||Yu!==q.debounceRendering)&&((Yu=q.debounceRendering)||Zu)(Lo)}function Lo(){var t,e,r,n,i,o,a,s,c;for(zr.sort(Ms);t=zr.shift();)t.__d&&(e=zr.length,n=void 0,i=void 0,o=void 0,s=(a=(r=t).__v).__e,(c=r.__P)&&(n=[],i=[],(o=Ue({},a)).__v=a.__v+1,Ls(c,a,o,r.__n,c.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??di(a),a.__h,i),sf(n,a,i),a.__e!=s&&rf(a)),zr.length>e&&zr.sort(Ms));Lo.__r=0}function nf(t,e,r,n,i,o,a,s,c,u,f){var l,d,h,_,m,v,b,g,y,S=0,x=n&&n.__k||tf,k=x.length,O=k,C=e.length;for(r.__k=[],l=0;l<C;l++)(_=r.__k[l]=(_=e[l])==null||typeof _=="boolean"||typeof _=="function"?null:typeof _=="string"||typeof _=="number"||typeof _=="bigint"?li(null,_,null,null,_):zs(_)?li(vt,{children:_},null,null,null):_.__b>0?li(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)!=null?(_.__=r,_.__b=r.__b+1,(g=C_(_,x,b=l+S,O))===-1?h=dn:(h=x[g]||dn,x[g]=void 0,O--),Ls(t,_,h,i,o,a,s,c,u,f),m=_.__e,(d=_.ref)&&h.ref!=d&&(h.ref&&Ns(h.ref,null,_),f.push(d,_.__c||m,_)),m!=null&&(v==null&&(v=m),(y=h===dn||h.__v===null)?g==-1&&S--:g!==b&&(g===b+1?S++:g>b?O>C-b?S+=g-b:S--:S=g<b&&g==b-1?g-b:0),b=l+S,typeof _.type!="function"||g===b&&h.__k!==_.__k?typeof _.type=="function"||g===b&&!y?_.__d!==void 0?(c=_.__d,_.__d=void 0):c=m.nextSibling:c=af(t,m,c):c=of(_,c,t),typeof r.type=="function"&&(r.__d=c))):(h=x[l])&&h.key==null&&h.__e&&(h.__e==c&&(h.__=n,c=di(h)),As(h,h,!1),x[l]=null);for(r.__e=v,l=k;l--;)x[l]!=null&&(typeof r.type=="function"&&x[l].__e!=null&&x[l].__e==r.__d&&(r.__d=x[l].__e.nextSibling),As(x[l],x[l]))}function of(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?of(n,e,r):af(r,n.__e,e));return e}function af(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function C_(t,e,r,n){var i=t.key,o=t.type,a=r-1,s=r+1,c=e[r];if(c===null||c&&i==c.key&&o===c.type)return r;if(n>(c!=null?1:0))for(;a>=0||s<e.length;){if(a>=0){if((c=e[a])&&i==c.key&&o===c.type)return a;a--}if(s<e.length){if((c=e[s])&&i==c.key&&o===c.type)return s;s++}}return-1}function D_(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||No(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||No(t,o,e[o],r[o],n)}function Vu(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||k_.test(e)?r:r+"px"}function No(t,e,r,n,i){var o;t:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Vu(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Vu(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,o?Xu:$u,o)):t.removeEventListener(e,o?Xu:$u,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function $u(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(q.event?q.event(t):t)}function Xu(t){return this.l[t.type+!0](q.event?q.event(t):t)}function Ls(t,e,r,n,i,o,a,s,c,u){var f,l,d,h,_,m,v,b,g,y,S,x,k,O,C,P=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,s=e.__e=r.__e,e.__h=null,o=[s]),(f=q.__b)&&f(e);t:if(typeof P=="function")try{if(b=e.props,g=(f=P.contextType)&&n[f.__c],y=f?g?g.props.value:f.__:n,r.__c?v=(l=e.__c=r.__c).__=l.__E:("prototype"in P&&P.prototype.render?e.__c=l=new P(b,y):(e.__c=l=new pn(b,y),l.constructor=P,l.render=T_),g&&g.sub(l),l.props=b,l.state||(l.state={}),l.context=y,l.__n=n,d=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),P.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ue({},l.__s)),Ue(l.__s,P.getDerivedStateFromProps(b,l.__s))),h=l.props,_=l.state,l.__v=e,d)P.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(P.getDerivedStateFromProps==null&&b!==h&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(b,y),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(b,l.__s,y)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(l.props=b,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(E){E&&(E.__=e)}),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[],l.__h.length&&a.push(l);break t}l.componentWillUpdate!=null&&l.componentWillUpdate(b,l.__s,y),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(h,_,m)})}if(l.context=y,l.props=b,l.__P=t,l.__e=!1,x=q.__r,k=0,"prototype"in P&&P.prototype.render){for(l.state=l.__s,l.__d=!1,x&&x(e),f=l.render(l.props,l.state,l.context),O=0;O<l._sb.length;O++)l.__h.push(l._sb[O]);l._sb=[]}else do l.__d=!1,x&&x(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++k<25);l.state=l.__s,l.getChildContext!=null&&(n=Ue(Ue({},n),l.getChildContext())),d||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(h,_)),nf(t,zs(C=f!=null&&f.type===vt&&f.key==null?f.props.children:f)?C:[C],e,r,n,i,o,a,s,c,u),l.base=e.__e,e.__h=null,l.__h.length&&a.push(l),v&&(l.__E=l.__=null)}catch(E){e.__v=null,(c||o!=null)&&(e.__e=s,e.__h=!!c,o[o.indexOf(s)]=null),q.__e(E,e,r)}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=O_(r.__e,e,r,n,i,o,a,c,u);(f=q.diffed)&&f(e)}function sf(t,e,r){for(var n=0;n<r.length;n++)Ns(r[n],r[++n],r[++n]);q.__c&&q.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){q.__e(o,i.__v)}})}function O_(t,e,r,n,i,o,a,s,c){var u,f,l,d=r.props,h=e.props,_=e.type,m=0;if(_==="svg"&&(i=!0),o!=null){for(;m<o.length;m++)if((u=o[m])&&"setAttribute"in u==!!_&&(_?u.localName===_:u.nodeType===3)){t=u,o[m]=null;break}}if(t==null){if(_===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,h.is&&h),o=null,s=!1}if(_===null)d===h||s&&t.data===h||(t.data=h);else{if(o=o&&pi.call(t.childNodes),f=(d=r.props||dn).dangerouslySetInnerHTML,l=h.dangerouslySetInnerHTML,!s){if(o!=null)for(d={},m=0;m<t.attributes.length;m++)d[t.attributes[m].name]=t.attributes[m].value;(l||f)&&(l&&(f&&l.__html==f.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(D_(t,h,d,i,s),l)e.__k=[];else if(nf(t,zs(m=e.props.children)?m:[m],e,r,n,i&&_!=="foreignObject",o,a,o?o[0]:r.__k&&di(r,0),s,c),o!=null)for(m=o.length;m--;)o[m]!=null&&ef(o[m]);s||("value"in h&&(m=h.value)!==void 0&&(m!==t.value||_==="progress"&&!m||_==="option"&&m!==d.value)&&No(t,"value",m,d.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==t.checked&&No(t,"checked",m,d.checked,!1))}return t}function Ns(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){q.__e(n,r)}}function As(t,e,r){var n,i;if(q.unmount&&q.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ns(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){q.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&As(n[i],e,r||typeof t.type!="function");r||t.__e==null||ef(t.__e),t.__=t.__e=t.__d=void 0}function T_(t,e,r){return this.constructor(t,r)}function cf(t,e,r){var n,i,o,a;q.__&&q.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],a=[],Ls(e,t=(!n&&r||e).__k=p(vt,null,[t]),i||dn,dn,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?pi.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n,a),sf(o,t,a)}function hi(t,e,r){var n,i,o,a,s=Ue({},t.props);for(o in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o]===void 0&&a!==void 0?a[o]:e[o];return arguments.length>2&&(s.children=arguments.length>3?pi.call(arguments,2):r),li(t.type,s,n||t.key,i||t.ref,null)}function qo(t,e){var r={__c:e="__cC"+Qu++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(s){s.__e=!0,Es(s)})},this.sub=function(a){i.push(a);var s=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),s&&s.call(a)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}pi=tf.slice,q={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(s){t=s}throw t}},Ju=0,I_=function(t){return t!=null&&t.constructor===void 0},pn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ue({},this.state),typeof t=="function"&&(t=t(Ue({},r),this.props)),t&&Ue(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Es(this))},pn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Es(this))},pn.prototype.render=vt,zr=[],Zu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ms=function(t,e){return t.__v.__b-e.__v.__b},Lo.__r=0,Qu=0;var Lr,ct,qs,uf,_i=0,mf=[],Ho=[],ff=q.__b,lf=q.__r,df=q.diffed,pf=q.__c,hf=q.unmount;function mi(t,e){q.__h&&q.__h(ct,t,_i||e),_i=0;var r=ct.__H||(ct.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ho}),r.__[t]}function bt(t){return _i=1,ur(vf,t)}function ur(t,e,r){var n=mi(Lr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):vf(void 0,e),function(s){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,s);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=ct,!ct.u)){var i=function(s,c,u){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(d){return d.__c});if(f.every(function(d){return!d.__N}))return!o||o.call(this,s,c,u);var l=!1;return f.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(l=!0)}}),!(!l&&n.__c.props===s)&&(!o||o.call(this,s,c,u))};ct.u=!0;var o=ct.shouldComponentUpdate,a=ct.componentWillUpdate;ct.componentWillUpdate=function(s,c,u){if(this.__e){var f=o;o=void 0,i(s,c,u),o=f}a&&a.call(this,s,c,u)},ct.shouldComponentUpdate=i}return n.__N||n.__}function Ge(t,e){var r=mi(Lr++,3);!q.__s&&yf(r.__H,e)&&(r.__=t,r.i=e,ct.__H.__h.push(r))}function fr(t){return _i=5,le(function(){return{current:t}},[])}function le(t,e){var r=mi(Lr++,7);return yf(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Fs(t,e){return _i=8,le(function(){return t},e)}function We(t){var e=ct.context[t.__c],r=mi(Lr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(ct)),e.props.value):t.__}function gf(){var t=mi(Lr++,11);if(!t.__){for(var e=ct.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function P_(){for(var t;t=mf.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Fo),t.__H.__h.forEach(Hs),t.__H.__h=[]}catch(e){t.__H.__h=[],q.__e(e,t.__v)}}q.__b=function(t){ct=null,ff&&ff(t)},q.__r=function(t){lf&&lf(t),Lr=0;var e=(ct=t.__c).__H;e&&(qs===ct?(e.__h=[],ct.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Ho,r.__N=r.i=void 0})):(e.__h.forEach(Fo),e.__h.forEach(Hs),e.__h=[],Lr=0)),qs=ct},q.diffed=function(t){df&&df(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(mf.push(e)!==1&&uf===q.requestAnimationFrame||((uf=q.requestAnimationFrame)||R_)(P_)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Ho&&(r.__=r.__V),r.i=void 0,r.__V=Ho})),qs=ct=null},q.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Fo),r.__h=r.__h.filter(function(n){return!n.__||Hs(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],q.__e(n,r.__v)}}),pf&&pf(t,e)},q.unmount=function(t){hf&&hf(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Fo(n)}catch(i){e=i}}),r.__H=void 0,e&&q.__e(e,r.__v))};var _f=typeof requestAnimationFrame=="function";function R_(t){var e,r=function(){clearTimeout(n),_f&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);_f&&(e=requestAnimationFrame(r))}function Fo(t){var e=ct,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),ct=e}function Hs(t){var e=ct;t.__c=t.__(),ct=e}function yf(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function vf(t,e){return typeof e=="function"?e(t):e}var Us=x_(bf());var Sf,M_={};function te(t,e,r){if(t.nodeType===3){var n="textContent"in t?t.textContent:t.nodeValue||"";if(te.options.trim!==!1){var i=e===0||e===r.length-1;if((!(n=n.match(/^[\s\n]+$/g)&&te.options.trim!=="all"?" ":n.replace(/(^[\s\n]+|[\s\n]+$)/g,te.options.trim==="all"||i?"":" "))||n===" ")&&r.length>1&&i)return null}return n}if(t.nodeType!==1)return null;var o=String(t.nodeName).toLowerCase();if(o==="script"&&!te.options.allowScripts)return null;var a,s,c=te.h(o,function(u){var f=u&&u.length;if(!f)return null;for(var l={},d=0;d<f;d++){var h=u[d],_=h.name,m=h.value;_.substring(0,2)==="on"&&te.options.allowEvents&&(m=new Function(m)),l[_]=m}return l}(t.attributes),(s=(a=t.childNodes)&&Array.prototype.map.call(a,te).filter(E_))&&s.length?s:null);return te.visitor&&te.visitor(c),c}var wf,E_=function(t){return t},A_={};function Bo(t){var e=(t.type||"").toLowerCase(),r=Bo.map;r&&r.hasOwnProperty(e)?(t.type=r[e],t.props=Object.keys(t.props||{}).reduce(function(n,i){var o;return n[o=i,o.replace(/-(.)/g,function(a,s){return s.toUpperCase()})]=t.props[i],n},{})):t.type=e.replace(/[^a-z0-9-]/i,"")}var xf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.setReviver=function(r){wf=r},e.prototype.shouldComponentUpdate=function(r){var n=this.props;return r.wrap!==n.wrap||r.type!==n.type||r.markup!==n.markup},e.prototype.setComponents=function(r){if(this.map={},r){for(var n in r)if(r.hasOwnProperty(n)){var i=n.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[i]=r[n]}}},e.prototype.render=function(r){var n=r.wrap;n===void 0&&(n=!0);var i,o=r.type,a=r.markup,s=r.components,c=r.reviver,u=r.onError,f=r["allow-scripts"],l=r["allow-events"],d=r.trim,h=function(g,y){var S={};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&y.indexOf(x)===-1&&(S[x]=g[x]);return S}(r,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),_=c||this.reviver||this.constructor.prototype.reviver||wf||p;this.setComponents(s);var m={allowScripts:f,allowEvents:l,trim:d};try{i=function(g,y,S,x,k){var O=function(E,w){var I,M,H,st,lt=w==="html"?"text/html":"application/xml";w==="html"?(st="body",H=`<!DOCTYPE html>
<html><body>`+E+"</body></html>"):(st="xml",H=`<?xml version="1.0" encoding="UTF-8"?>
<xml>`+E+"</xml>");try{I=new DOMParser().parseFromString(H,lt)}catch(L){M=L}if(I||w!=="html"||((I=Sf||(Sf=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var L=document.createElement("iframe");return L.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",L.setAttribute("sandbox","allow-forms"),document.body.appendChild(L),L.contentWindow.document}())).open(),I.write(H),I.close()),I){var F=I.getElementsByTagName(st)[0],A=F.firstChild;return E&&!A&&(F.error="Document parse failed."),A&&String(A.nodeName).toLowerCase()==="parsererror"&&(A.removeChild(A.firstChild),A.removeChild(A.lastChild),F.error=A.textContent||A.nodeValue||M||"Unknown error",F.removeChild(A)),F}}(g,y);if(O&&O.error)throw new Error(O.error);var C=O&&O.body||O;Bo.map=x||A_;var P=C&&function(E,w,I,M){return te.visitor=w,te.h=I,te.options=M||M_,te(E)}(C,Bo,S,k);return Bo.map=null,P&&P.props&&P.props.children||null}(a,o,_,this.map,m)}catch(g){u?u({error:g}):typeof console<"u"&&console.error&&console.error("preact-markup: "+g)}if(n===!1)return i||null;var v=h.hasOwnProperty("className")?"className":"class",b=h[v];return b?b.splice?b.splice(0,0,"markup"):typeof b=="string"?h[v]+=" markup":typeof b=="object"&&(b.markup=!0):h[v]="markup",_("div",h,i||null)},e}(pn);var lr=qo({intl:{}});function If(t){return t!=null}function gi(t,e){for(var r in e)t[r]=e[r];return t}function kf(t,e){var r=gi({},t);for(var n in e)e.hasOwnProperty(n)&&(t[n]&&e[n]&&typeof t[n]=="object"&&typeof e[n]=="object"?r[n]=kf(t[n],e[n]):r[n]=t[n]||e[n]);return r}function z_(t){if(t=t||{},typeof t=="string"&&(t=t.split(",")),"join"in t){for(var e={},r=0;r<t.length;r++){var n=t[r].trim();n&&(e[n.split(".").pop()]=n)}return e}return t}function L_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)===-1&&(r[n]=t[n]);return r}var N_=/[?&#]intl=show/;function Re(t){var e=t.scope,r=t.mark,n=t.definition,i=L_(t,["scope","mark","definition"]),o=i,a=We(lr),s=a.intl,c=gi({},s||{});return e&&(c.scope=e),n&&(c.dictionary=kf(c.dictionary||{},n)),(r||typeof location<"u"&&String(location).match(N_))&&(c.mark=!0),p(lr.Provider,{value:{intl:c}},o.children)}function be(t,e){if(arguments.length<2)return e=t,function(n){return be(n,e)};function r(n){return p(Re,e||{},p(t,n))}return r.getWrappedComponent=t&&t.getWrappedComponent||function(){return t},r}var q_={};function Cf(t,e,r,n){return t&&t.replace(/\{\{([\w.-]+)\}\}/g,H_.bind(null,e||q_,r,n))}function H_(t,e,r,n,i){for(var o=i.split("."),a=t,s=0;s<o.length;s++){if(a=a[o[s]],a==null)return"";if(a&&a.type===z)return yi(a.props.id,e,r,a.props.fields,a.props.plural,a.props.fallback)}return typeof a=="string"&&a.match(/\{\{/)&&(a=Cf(a,t)),a}function yi(t,e,r,n,i,o){e&&(t=e+"."+t);var a=r&&(0,Us.default)(r,t);return(i||i===0)&&a&&typeof a=="object"&&(a.splice?a=a[i]||a[0]:i===0&&If(a.none||a.zero)?a=a.none||a.zero:i===1&&If(a.one||a.singular)?a=a.one||a.singular:a=a.some||a.many||a.plural||a.other||a),a&&Cf(a,n,e,r)||o||null}function Df(t){var e=t.value,r=t.id,n=We(lr),i=n.intl;if(i&&i.mark){var o="dictionary"+(i&&i.scope?"."+i.scope:"")+"."+r;return p("mark",{style:{background:e?(0,Us.default)(i,o)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"},title:r},e)}return e}function z(t){var e=t.id,r=t.children,n=t.plural,i=t.fields,o=We(lr),a=o.intl,s=yi(e,a&&a.scope,a&&a.dictionary,i,n,r);return p(Df,{id:e,value:s})}function jo(t,e,r){var n={};e=e||{},t=z_(t);for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];!r&&typeof o=="string"?n[i]=yi(o,e.scope,e.dictionary):o.type===z&&(o=gi({fallback:o.props.children},o.props),n[i]=yi(o.id,e.scope,e.dictionary,o.fields,o.plural,o.fallback))}return n}function Ke(t){var e=t.children,r=We(lr),n=r.intl;return e&&e.length?e.map(function(i){return hi(i,jo(i.props,n,!0))}):e&&hi(e,jo(e.props,n,!0))}function Of(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)===-1&&(r[n]=t[n]);return r}function F_(t){var e=t.id,r=t.fields,n=t.plural,i=t.children,o=Of(t,["id","fields","plural","children"]),a=o;return p(Ke,null,p(B_,Object.assign({},{html:p(z,{id:e,fields:r,plural:n,children:i}),id:e},a)))}function B_(t){var e=t.html,r=t.id,n=Of(t,["html","id"]),i=n;return p(Df,{id:r,value:e&&(typeof e=="string"?p(xf,Object.assign({},{type:"html",trim:!1},i,{markup:e})):p("span",null,e))})}function j_(t){return function(r){function n(i,o){var a=We(lr),s=a.intl,c=typeof t=="function"?t(i,{intl:s}):t,u=jo(c,s);return p(r,gi(gi({},i),u))}return n.getWrappedComponent=r&&r.getWrappedComponent||function(){return r},n}}function U_(t){var e=We(lr),r=e.intl;return jo(typeof t=="function"?t({intl:r}):t,r)}be.intl=be;be.IntlContext=lr;be.IntlProvider=Re;be.Text=z;be.MarkupText=F_;be.Localizer=Ke;be.withText=j_;be.useText=U_;be.translate=yi;var Ri="delete",Z=5,ne=1<<Z,Ut=ne-1,j={};function Xs(){return{value:!1}}function de(t){t&&(t.value=!0)}function o0(){}function hn(t){return t.size===void 0&&(t.size=t.__iterate(Qf)),t.size}function hr(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?hn(t)+e:e}function Qf(){return!0}function Xo(t,e,r){return(t===0&&!el(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Mi(t,e){return tl(t,e,0)}function Jo(t,e){return tl(t,e,e)}function tl(t,e,r){return t===void 0?r:el(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function el(t){return t<0||t===0&&1/t===-1/0}var rl="@@__IMMUTABLE_ITERABLE__@@";function ae(t){return!!(t&&t[rl])}var nl="@@__IMMUTABLE_KEYED__@@";function dt(t){return!!(t&&t[nl])}var il="@@__IMMUTABLE_INDEXED__@@";function oe(t){return!!(t&&t[il])}function a0(t){return dt(t)||oe(t)}var zt=function(e){return ae(e)?e:se(e)},he=function(t){function e(r){return dt(r)?r:mr(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zt),Hr=function(t){function e(r){return oe(r)?r:we(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zt),Sn=function(t){function e(r){return ae(r)&&!a0(r)?r:kn(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zt);zt.Keyed=he;zt.Indexed=Hr;zt.Set=Sn;var ol="@@__IMMUTABLE_SEQ__@@";function s0(t){return!!(t&&t[ol])}var al="@@__IMMUTABLE_RECORD__@@";function wn(t){return!!(t&&t[al])}function ze(t){return ae(t)||wn(t)}var xn="@@__IMMUTABLE_ORDERED__@@";function Ae(t){return!!(t&&t[xn])}var Ei=0,Se=1,pe=2,Js=typeof Symbol=="function"&&Symbol.iterator,sl="@@iterator",Zo=Js||sl,Y=function(e){this.next=e};Y.prototype.toString=function(){return"[Iterator]"};Y.KEYS=Ei;Y.VALUES=Se;Y.ENTRIES=pe;Y.prototype.inspect=Y.prototype.toSource=function(){return this.toString()};Y.prototype[Zo]=function(){return this};function ut(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Xt(){return{value:void 0,done:!0}}function cl(t){return Array.isArray(t)?!0:!!Qo(t)}function Tf(t){return t&&typeof t.next=="function"}function Zs(t){var e=Qo(t);return e&&e.call(t)}function Qo(t){var e=t&&(Js&&t[Js]||t[sl]);if(typeof e=="function")return e}function G_(t){var e=Qo(t);return e&&e===t.entries}function W_(t){var e=Qo(t);return e&&e===t.keys}var In=Object.prototype.hasOwnProperty;function ul(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var se=function(t){function e(r){return r==null?u0():ze(r)?r.toSeq():Y_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var o=this._cache;if(o){for(var a=o.length,s=0;s!==a;){var c=o[i?a-++s:s++];if(n(c[1],c[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var o=this._cache;if(o){var a=o.length,s=0;return new Y(function(){if(s===a)return Xt();var c=o[i?a-++s:s++];return ut(n,c[0],c[1])})}return this.__iteratorUncached(n,i)},e}(zt),mr=function(t){function e(r){return r==null?u0().toKeyedSeq():ae(r)?dt(r)?r.toSeq():r.fromEntrySeq():wn(r)?r.toSeq():f0(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(se),we=function(t){function e(r){return r==null?u0():ae(r)?dt(r)?r.entrySeq():r.toIndexedSeq():wn(r)?r.toSeq().entrySeq():fl(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(se),kn=function(t){function e(r){return(ae(r)&&!a0(r)?r:we(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(se);se.isSeq=s0;se.Keyed=mr;se.Set=kn;se.Indexed=we;se.prototype[ol]=!0;var qr=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[hr(this,n)]:i},e.prototype.__iterate=function(n,i){for(var o=this._array,a=o.length,s=0;s!==a;){var c=i?a-++s:s++;if(n(o[c],c,this)===!1)break}return s},e.prototype.__iterator=function(n,i){var o=this._array,a=o.length,s=0;return new Y(function(){if(s===a)return Xt();var c=i?a-++s:s++;return ut(n,c,o[c])})},e}(we),c0=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return In.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var o=this._object,a=this._keys,s=a.length,c=0;c!==s;){var u=a[i?s-++c:c++];if(n(o[u],u,this)===!1)break}return c},e.prototype.__iterator=function(n,i){var o=this._object,a=this._keys,s=a.length,c=0;return new Y(function(){if(c===s)return Xt();var u=a[i?s-++c:c++];return ut(n,u,o[u])})},e}(mr);c0.prototype[xn]=!0;var K_=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var o=this._collection,a=Zs(o),s=0;if(Tf(a))for(var c;!(c=a.next()).done&&n(c.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=this._collection,a=Zs(o);if(!Tf(a))return new Y(Xt);var s=0;return new Y(function(){var c=a.next();return c.done?c:ut(n,s++,c.value)})},e}(we),Pf;function u0(){return Pf||(Pf=new qr([]))}function f0(t){var e=l0(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new c0(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function fl(t){var e=l0(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Y_(t){var e=l0(t);if(e)return G_(t)?e.fromEntrySeq():W_(t)?e.toSetSeq():e;if(typeof t=="object")return new c0(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function l0(t){return ul(t)?new qr(t):cl(t)?new K_(t):void 0}var ll="@@__IMMUTABLE_MAP__@@";function d0(t){return!!(t&&t[ll])}function dl(t){return d0(t)&&Ae(t)}function Rf(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function ie(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(Rf(t)&&Rf(e)&&t.equals(e))}var vi=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function ta(t){return t>>>1&1073741824|t&3221225471}var V_=Object.prototype.valueOf;function ee(t){if(t==null)return Mf(t);if(typeof t.hashCode=="function")return ta(t.hashCode(t));var e=tm(t);if(e==null)return Mf(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return $_(e);case"string":return e.length>em?X_(e):Qs(e);case"object":case"function":return Z_(e);case"symbol":return J_(e);default:if(typeof e.toString=="function")return Qs(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Mf(t){return t===null?1108378658:1108378659}function $_(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return ta(e)}function X_(t){var e=Ks[t];return e===void 0&&(e=Qs(t),Ws===rm&&(Ws=0,Ks={}),Ws++,Ks[t]=e),e}function Qs(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return ta(e)}function J_(t){var e=zf[t];return e!==void 0||(e=pl(),zf[t]=e),e}function Z_(t){var e;if(t0&&(e=e0.get(t),e!==void 0)||(e=t[Nr],e!==void 0)||!Af&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Nr],e!==void 0||(e=Q_(t),e!==void 0)))return e;if(e=pl(),t0)e0.set(t,e);else{if(Ef!==void 0&&Ef(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Af)Object.defineProperty(t,Nr,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Nr]=e;else if(t.nodeType!==void 0)t[Nr]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Ef=Object.isExtensible,Af=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Q_(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function tm(t){return t.valueOf!==V_&&typeof t.valueOf=="function"?t.valueOf(t):t}function pl(){var t=++Gs;return Gs&1073741824&&(Gs=0),t}var t0=typeof WeakMap=="function",e0;t0&&(e0=new WeakMap);var zf=Object.create(null),Gs=0,Nr="__immutablehash__";typeof Symbol=="function"&&(Nr=Symbol(Nr));var em=16,rm=255,Ws=0,Ks={},ea=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=p0(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var o=this,a=yl(this,n,i);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(n,i)}),a},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a,s){return n(a,s,o)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(mr);ea.prototype[xn]=!0;var hl=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var o=this,a=0;return i&&hn(this),this._iter.__iterate(function(s){return n(s,i?o.size-++a:a++,o)},i)},e.prototype.__iterator=function(n,i){var o=this,a=this._iter.__iterator(Se,i),s=0;return i&&hn(this),new Y(function(){var c=a.next();return c.done?c:ut(n,i?o.size-++s:s++,c.value,c)})},e}(we),_l=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){return n(a,a,o)},i)},e.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Se,i);return new Y(function(){var a=o.next();return a.done?a:ut(n,a.value,a.value,a)})},e}(kn),ml=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){if(a){Nf(a);var s=ae(a);return n(s?a.get(1):a[1],s?a.get(0):a[0],o)}},i)},e.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Se,i);return new Y(function(){for(;;){var a=o.next();if(a.done)return a;var s=a.value;if(s){Nf(s);var c=ae(s);return ut(n,c?s.get(0):s[0],c?s.get(1):s[1],a)}}})},e}(mr);hl.prototype.cacheResult=ea.prototype.cacheResult=_l.prototype.cacheResult=ml.prototype.cacheResult=m0;function gl(t){var e=Le(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=m0,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(o,a){return r(a,o,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===pe){var i=t.__iterator(r,n);return new Y(function(){var o=i.next();if(!o.done){var a=o.value[0];o.value[0]=o.value[1],o.value[1]=a}return o})}return t.__iterator(r===Se?Ei:Se,n)},e}function yl(t,e,r){var n=Le(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,o){var a=t.get(i,j);return a===j?o:e.call(r,a,i,t)},n.__iterateUncached=function(i,o){var a=this;return t.__iterate(function(s,c,u){return i(e.call(r,s,c,u),c,a)!==!1},o)},n.__iteratorUncached=function(i,o){var a=t.__iterator(pe,o);return new Y(function(){var s=a.next();if(s.done)return s;var c=s.value,u=c[0];return ut(i,u,e.call(r,c[1],u,t),s)})},n}function p0(t,e){var r=this,n=Le(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=gl(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,o){return t.get(e?i:-1-i,o)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=m0,n.__iterate=function(i,o){var a=this,s=0;return o&&hn(t),t.__iterate(function(c,u){return i(c,e?u:o?a.size-++s:s++,a)},!o)},n.__iterator=function(i,o){var a=0;o&&hn(t);var s=t.__iterator(pe,!o);return new Y(function(){var c=s.next();if(c.done)return c;var u=c.value;return ut(i,e?u[0]:o?r.size-++a:a++,u[1],c)})},n}function vl(t,e,r,n){var i=Le(t);return n&&(i.has=function(o){var a=t.get(o,j);return a!==j&&!!e.call(r,a,o,t)},i.get=function(o,a){var s=t.get(o,j);return s!==j&&e.call(r,s,o,t)?s:a}),i.__iterateUncached=function(o,a){var s=this,c=0;return t.__iterate(function(u,f,l){if(e.call(r,u,f,l))return c++,o(u,n?f:c-1,s)},a),c},i.__iteratorUncached=function(o,a){var s=t.__iterator(pe,a),c=0;return new Y(function(){for(;;){var u=s.next();if(u.done)return u;var f=u.value,l=f[0],d=f[1];if(e.call(r,d,l,t))return ut(o,n?l:c++,d,u)}})},i}function nm(t,e,r){var n=Dn().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(a){return a+1})}),n.asImmutable()}function im(t,e,r){var n=dt(t),i=(Ae(t)?Ve():Dn()).asMutable();t.__iterate(function(a,s){i.update(e.call(r,a,s,t),function(c){return c=c||[],c.push(n?[s,a]:a),c})});var o=_0(t);return i.map(function(a){return J(t,o(a))}).asImmutable()}function om(t,e,r){var n=dt(t),i=[[],[]];t.__iterate(function(a,s){i[e.call(r,a,s,t)?1:0].push(n?[s,a]:a)});var o=_0(t);return i.map(function(a){return J(t,o(a))})}function h0(t,e,r,n){var i=t.size;if(Xo(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return h0(t.toSeq().cacheResult(),e,r,n);var o=Mi(e,i),a=Jo(r,i),s=a-o,c;s===s&&(c=s<0?0:s);var u=Le(t);return u.size=c===0?c:t.size&&c||void 0,!n&&s0(t)&&c>=0&&(u.get=function(f,l){return f=hr(this,f),f>=0&&f<c?t.get(f+o,l):l}),u.__iterateUncached=function(f,l){var d=this;if(c===0)return 0;if(l)return this.cacheResult().__iterate(f,l);var h=0,_=!0,m=0;return t.__iterate(function(v,b){if(!(_&&(_=h++<o)))return m++,f(v,n?b:m-1,d)!==!1&&m!==c}),m},u.__iteratorUncached=function(f,l){if(c!==0&&l)return this.cacheResult().__iterator(f,l);if(c===0)return new Y(Xt);var d=t.__iterator(f,l),h=0,_=0;return new Y(function(){for(;h++<o;)d.next();if(++_>c)return Xt();var m=d.next();return n||f===Se||m.done?m:f===Ei?ut(f,_-1,void 0,m):ut(f,_-1,m.value[1],m)})},u}function am(t,e,r){var n=Le(t);return n.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=0;return t.__iterate(function(c,u,f){return e.call(r,c,u,f)&&++s&&i(c,u,a)}),s},n.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(pe,o),c=!0;return new Y(function(){if(!c)return Xt();var u=s.next();if(u.done)return u;var f=u.value,l=f[0],d=f[1];return e.call(r,d,l,a)?i===pe?u:ut(i,l,d,u):(c=!1,Xt())})},n}function bl(t,e,r,n){var i=Le(t);return i.__iterateUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterate(o,a);var c=!0,u=0;return t.__iterate(function(f,l,d){if(!(c&&(c=e.call(r,f,l,d))))return u++,o(f,n?l:u-1,s)}),u},i.__iteratorUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterator(o,a);var c=t.__iterator(pe,a),u=!0,f=0;return new Y(function(){var l,d,h;do{if(l=c.next(),l.done)return n||o===Se?l:o===Ei?ut(o,f++,void 0,l):ut(o,f++,l.value[1],l);var _=l.value;d=_[0],h=_[1],u&&(u=e.call(r,h,d,s))}while(u);return o===pe?l:ut(o,d,h,l)})},i}function sm(t,e){var r=dt(t),n=[t].concat(e).map(function(a){return ae(a)?r&&(a=he(a)):a=r?f0(a):fl(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&dt(i)||oe(t)&&oe(i))return i}var o=new qr(n);return r?o=o.toKeyedSeq():oe(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=n.reduce(function(a,s){if(a!==void 0){var c=s.size;if(c!==void 0)return a+c}},0),o}function Sl(t,e,r){var n=Le(t);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;function c(u,f){u.__iterate(function(l,d){return(!e||f<e)&&ae(l)?c(l,f+1):(a++,i(l,r?d:a-1,n)===!1&&(s=!0)),!s},o)}return c(t,0),a},n.__iteratorUncached=function(i,o){if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(i,o),s=[],c=0;return new Y(function(){for(;a;){var u=a.next();if(u.done!==!1){a=s.pop();continue}var f=u.value;if(i===pe&&(f=f[1]),(!e||s.length<e)&&ae(f))s.push(a),a=f.__iterator(i,o);else return r?u:ut(i,c++,f,u)}return Xt()})},n}function cm(t,e,r){var n=_0(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function um(t,e){var r=Le(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var o=this,a=0;return t.__iterate(function(s){return(!a||n(e,a++,o)!==!1)&&n(s,a++,o)!==!1},i),a},r.__iteratorUncached=function(n,i){var o=t.__iterator(Se,i),a=0,s;return new Y(function(){return(!s||a%2)&&(s=o.next(),s.done)?s:a%2?ut(n,a++,e):ut(n,a++,s.value,s)})},r}function _n(t,e,r){e||(e=wl);var n=dt(t),i=0,o=t.toSeq().map(function(a,s){return[s,a,i++,r?r(a,s,t):a]}).valueSeq().toArray();return o.sort(function(a,s){return e(a[3],s[3])||a[2]-s[2]}).forEach(n?function(a,s){o[s].length=2}:function(a,s){o[s]=a[1]}),n?mr(o):oe(t)?we(o):kn(o)}function Uo(t,e,r){if(e||(e=wl),r){var n=t.toSeq().map(function(i,o){return[i,r(i,o,t)]}).reduce(function(i,o){return Lf(e,i[1],o[1])?o:i});return n&&n[0]}return t.reduce(function(i,o){return Lf(e,i,o)?o:i})}function Lf(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function Go(t,e,r,n){var i=Le(t),o=new qr(r).map(function(a){return a.size});return i.size=n?o.max():o.min(),i.__iterate=function(a,s){for(var c=this.__iterator(Se,s),u,f=0;!(u=c.next()).done&&a(u.value,f++,this)!==!1;);return f},i.__iteratorUncached=function(a,s){var c=r.map(function(l){return l=zt(l),Zs(s?l.reverse():l)}),u=0,f=!1;return new Y(function(){var l;return f||(l=c.map(function(d){return d.next()}),f=n?l.every(function(d){return d.done}):l.some(function(d){return d.done})),f?Xt():ut(a,u++,e.apply(null,l.map(function(d){return d.value})))})},i}function J(t,e){return t===e?t:s0(t)?e:t.constructor(e)}function Nf(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function _0(t){return dt(t)?he:oe(t)?Hr:Sn}function Le(t){return Object.create((dt(t)?mr:oe(t)?we:kn).prototype)}function m0(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):se.prototype.cacheResult.call(this)}function wl(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Me(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function xi(t,e){if(!t)throw new Error(e)}function re(t){xi(t!==1/0,"Cannot perform this action with an infinite size.")}function xl(t){if(ul(t)&&typeof t!="string")return t;if(Ae(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var fm=Object.prototype.toString;function lm(t){if(!t||typeof t!="object"||fm.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function _r(t){return typeof t=="object"&&(ze(t)||Array.isArray(t)||lm(t))}function ki(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function dm(t,e){return ze(t)?t.has(e):_r(t)&&In.call(t,e)}function Il(t,e,r){return ze(t)?t.get(e,r):dm(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Vo(t){if(Array.isArray(t))return Me(t);var e={};for(var r in t)In.call(t,r)&&(e[r]=t[r]);return e}function pm(t,e){if(!_r(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ze(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!In.call(t,e))return t;var r=Vo(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function hm(t,e,r){if(!_r(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ze(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(In.call(t,e)&&r===t[e])return t;var n=Vo(t);return n[e]=r,n}function Cn(t,e,r,n){n||(n=r,r=void 0);var i=kl(ze(t),t,xl(e),0,r,n);return i===j?r:i}function kl(t,e,r,n,i,o){var a=e===j;if(n===r.length){var s=a?i:e,c=o(s);return c===s?e:c}if(!a&&!_r(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(ki)+"]: "+e);var u=r[n],f=a?j:Il(e,u,j),l=kl(f===j?t:ze(f),f,r,n+1,i,o);return l===f?e:l===j?pm(e,u):hm(a?t?Ee():{}:e,u,l)}function _m(t,e,r){return Cn(t,e,j,function(){return r})}function g0(t,e){return _m(this,t,e)}function mm(t,e){return Cn(t,e,function(){return j})}function y0(t){return mm(this,t)}function Cl(t,e,r,n){return Cn(t,[e],r,n)}function v0(t,e,r){return arguments.length===1?t(this):Cl(this,t,e,r)}function b0(t,e,r){return Cn(this,t,e,r)}function Dl(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Tl(this,t)}function Ol(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Tl(this,e,t)}function Tl(t,e,r){for(var n=[],i=0;i<e.length;i++){var o=he(e[i]);o.size!==0&&n.push(o)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(a){for(var s=r?function(u,f){Cl(a,f,j,function(l){return l===j?u:r(l,u,f)})}:function(u,f){a.set(f,u)},c=0;c<n.length;c++)n[c].forEach(s)})}function S0(t,e,r){return w0(t,e,gm(r))}function w0(t,e,r){if(!_r(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(ze(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,o=n?Hr:he,a=n?function(c){i===t&&(i=Vo(i)),i.push(c)}:function(c,u){var f=In.call(i,u),l=f&&r?r(i[u],c,u):c;(!f||l!==i[u])&&(i===t&&(i=Vo(i)),i[u]=l)},s=0;s<e.length;s++)o(e[s]).forEach(a);return i}function gm(t){function e(r,n,i){return _r(r)&&_r(n)&&ym(r,n)?w0(r,[n],e):t?t(r,n,i):n}return e}function ym(t,e){var r=se(t),n=se(e);return oe(r)===oe(n)&&dt(r)===dt(n)}function Pl(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return S0(this,t)}function Rl(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return S0(this,e,t)}function x0(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Cn(this,t,Ee(),function(n){return w0(n,e)})}function I0(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Cn(this,t,Ee(),function(n){return S0(n,e)})}function Ai(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function zi(){return this.__ownerID?this:this.__ensureOwner(new o0)}function Li(){return this.__ensureOwner()}function k0(){return this.__altered}var Dn=function(t){function e(r){return r==null?Ee():d0(r)&&!Ae(r)?r:Ee().withMutations(function(n){var i=t(r);re(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return Ff(this,n,i)},e.prototype.remove=function(n){return Ff(this,n,j)},e.prototype.deleteAll=function(n){var i=zt(n);return i.size===0?this:this.withMutations(function(o){i.forEach(function(a){return o.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ee()},e.prototype.sort=function(n){return Ve(_n(this,n))},e.prototype.sortBy=function(n,i){return Ve(_n(this,i,n))},e.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){a.forEach(function(s,c){a.set(c,n.call(i,s,c,o))})})},e.prototype.__iterator=function(n,i){return new vm(this,n,i)},e.prototype.__iterate=function(n,i){var o=this,a=0;return this._root&&this._root.iterate(function(s){return a++,n(s[1],s[0],o)},i),a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?C0(this.size,this._root,n,this.__hash):this.size===0?Ee():(this.__ownerID=n,this.__altered=!1,this)},e}(he);Dn.isMap=d0;var it=Dn.prototype;it[ll]=!0;it[Ri]=it.remove;it.removeAll=it.deleteAll;it.setIn=g0;it.removeIn=it.deleteIn=y0;it.update=v0;it.updateIn=b0;it.merge=it.concat=Dl;it.mergeWith=Ol;it.mergeDeep=Pl;it.mergeDeepWith=Rl;it.mergeIn=x0;it.mergeDeepIn=I0;it.withMutations=Ai;it.wasAltered=k0;it.asImmutable=Li;it["@@transducer/init"]=it.asMutable=zi;it["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};it["@@transducer/result"]=function(t){return t.asImmutable()};var Ci=function(e,r){this.ownerID=e,this.entries=r};Ci.prototype.get=function(e,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ie(n,o[a][0]))return o[a][1];return i};Ci.prototype.update=function(e,r,n,i,o,a,s){for(var c=o===j,u=this.entries,f=0,l=u.length;f<l&&!ie(i,u[f][0]);f++);var d=f<l;if(d?u[f][1]===o:c)return this;if(de(s),(c||!d)&&de(a),!(c&&u.length===1)){if(!d&&!c&&u.length>=km)return bm(e,u,i,o);var h=e&&e===this.ownerID,_=h?u:Me(u);return d?c?f===l-1?_.pop():_[f]=_.pop():_[f]=[i,o]:_.push([i,o]),h?(this.entries=_,this):new Ci(e,_)}};var mn=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};mn.prototype.get=function(e,r,n,i){r===void 0&&(r=ee(n));var o=1<<((e===0?r:r>>>e)&Ut),a=this.bitmap;return a&o?this.nodes[Ml(a&o-1)].get(e+Z,r,n,i):i};mn.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ee(i));var c=(r===0?n:n>>>r)&Ut,u=1<<c,f=this.bitmap,l=(f&u)!==0;if(!l&&o===j)return this;var d=Ml(f&u-1),h=this.nodes,_=l?h[d]:void 0,m=D0(_,e,r+Z,n,i,o,a,s);if(m===_)return this;if(!l&&m&&h.length>=Cm)return wm(e,h,f,c,m);if(l&&!m&&h.length===2&&Bf(h[d^1]))return h[d^1];if(l&&m&&h.length===1&&Bf(m))return m;var v=e&&e===this.ownerID,b=l?m?f:f^u:f|u,g=l?m?El(h,d,m,v):Im(h,d,v):xm(h,d,m,v);return v?(this.bitmap=b,this.nodes=g,this):new mn(e,b,g)};var Di=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Di.prototype.get=function(e,r,n,i){r===void 0&&(r=ee(n));var o=(e===0?r:r>>>e)&Ut,a=this.nodes[o];return a?a.get(e+Z,r,n,i):i};Di.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ee(i));var c=(r===0?n:n>>>r)&Ut,u=o===j,f=this.nodes,l=f[c];if(u&&!l)return this;var d=D0(l,e,r+Z,n,i,o,a,s);if(d===l)return this;var h=this.count;if(!l)h++;else if(!d&&(h--,h<Dm))return Sm(e,f,h,c);var _=e&&e===this.ownerID,m=El(f,c,d,_);return _?(this.count=h,this.nodes=m,this):new Di(e,h,m)};var gn=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};gn.prototype.get=function(e,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ie(n,o[a][0]))return o[a][1];return i};gn.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ee(i));var c=o===j;if(n!==this.keyHash)return c?this:(de(s),de(a),O0(this,e,r,n,[i,o]));for(var u=this.entries,f=0,l=u.length;f<l&&!ie(i,u[f][0]);f++);var d=f<l;if(d?u[f][1]===o:c)return this;if(de(s),(c||!d)&&de(a),c&&l===2)return new Ye(e,this.keyHash,u[f^1]);var h=e&&e===this.ownerID,_=h?u:Me(u);return d?c?f===l-1?_.pop():_[f]=_.pop():_[f]=[i,o]:_.push([i,o]),h?(this.entries=_,this):new gn(e,this.keyHash,_)};var Ye=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Ye.prototype.get=function(e,r,n,i){return ie(n,this.entry[0])?this.entry[1]:i};Ye.prototype.update=function(e,r,n,i,o,a,s){var c=o===j,u=ie(i,this.entry[0]);if(u?o===this.entry[1]:c)return this;if(de(s),c){de(a);return}return u?e&&e===this.ownerID?(this.entry[1]=o,this):new Ye(e,this.keyHash,[i,o]):(de(a),O0(this,e,r,ee(i),[i,o]))};Ci.prototype.iterate=gn.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};mn.prototype.iterate=Di.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}};Ye.prototype.iterate=function(t,e){return t(this.entry)};var vm=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&qf(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var o=i.node,a=i.index++,s=void 0;if(o.entry){if(a===0)return Ys(n,o.entry)}else if(o.entries){if(s=o.entries.length-1,a<=s)return Ys(n,o.entries[this._reverse?s-a:a])}else if(s=o.nodes.length-1,a<=s){var c=o.nodes[this._reverse?s-a:a];if(c){if(c.entry)return Ys(n,c.entry);i=this._stack=qf(c,i)}continue}i=this._stack=this._stack.__prev}return Xt()},e}(Y);function Ys(t,e){return ut(t,e[0],e[1])}function qf(t,e){return{node:t,index:0,__prev:e}}function C0(t,e,r,n){var i=Object.create(it);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Hf;function Ee(){return Hf||(Hf=C0(0))}function Ff(t,e,r){var n,i;if(t._root){var o=Xs(),a=Xs();if(n=D0(t._root,t.__ownerID,0,void 0,e,r,o,a),!a.value)return t;i=t.size+(o.value?r===j?-1:1:0)}else{if(r===j)return t;i=1,n=new Ci(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?C0(i,n):Ee()}function D0(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===j?t:(de(s),de(a),new Ye(e,n,[i,o]))}function Bf(t){return t.constructor===Ye||t.constructor===gn}function O0(t,e,r,n,i){if(t.keyHash===n)return new gn(e,n,[t.entry,i]);var o=(r===0?t.keyHash:t.keyHash>>>r)&Ut,a=(r===0?n:n>>>r)&Ut,s,c=o===a?[O0(t,e,r+Z,n,i)]:(s=new Ye(e,n,i),o<a?[t,s]:[s,t]);return new mn(e,1<<o|1<<a,c)}function bm(t,e,r,n){t||(t=new o0);for(var i=new Ye(t,ee(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Sm(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,c=1,u=e.length;s<u;s++,c<<=1){var f=e[s];f!==void 0&&s!==n&&(i|=c,a[o++]=f)}return new mn(t,i,a)}function wm(t,e,r,n,i){for(var o=0,a=new Array(ne),s=0;r!==0;s++,r>>>=1)a[s]=r&1?e[o++]:void 0;return a[n]=i,new Di(t,o+1,a)}function Ml(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function El(t,e,r,n){var i=n?t:Me(t);return i[e]=r,i}function xm(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}function Im(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}var km=ne/4,Cm=ne/2,Dm=ne/4,Al="@@__IMMUTABLE_LIST__@@";function zl(t){return!!(t&&t[Al])}var ra=function(t){function e(r){var n=Yo();if(r==null)return n;if(zl(r))return r;var i=t(r),o=i.size;return o===0?n:(re(o),o>0&&o<ne?Oi(0,o,Z,null,new pr(i.toArray())):n.withMutations(function(a){a.setSize(o),i.forEach(function(s,c){return a.set(c,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=hr(this,n),n>=0&&n<this.size){n+=this._origin;var o=Ll(this,n);return o&&o.array[n&Ut]}return i},e.prototype.set=function(n,i){return Om(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Z,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Yo()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(o){dr(o,0,i+n.length);for(var a=0;a<n.length;a++)o.set(i+a,n[a])})},e.prototype.pop=function(){return dr(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){dr(i,-n.length);for(var o=0;o<n.length;o++)i.set(o,n[o])})},e.prototype.shift=function(){return dr(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++){var a=n[o],s=t(typeof a!="string"&&cl(a)?a:[a]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(c){i.forEach(function(u){return u.forEach(function(f){return c.push(f)})})})},e.prototype.setSize=function(n){return dr(this,0,n)},e.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){for(var s=0;s<o.size;s++)a.set(s,n.call(i,a.get(s),s,o))})},e.prototype.slice=function(n,i){var o=this.size;return Xo(n,i,o)?this:dr(this,Mi(n,o),Jo(i,o))},e.prototype.__iterator=function(n,i){var o=i?this.size:0,a=jf(this,i);return new Y(function(){var s=a();return s===Ii?Xt():ut(n,i?--o:o++,s)})},e.prototype.__iterate=function(n,i){for(var o=i?this.size:0,a=jf(this,i),s;(s=a())!==Ii&&n(s,i?--o:o++,this)!==!1;);return o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Oi(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Yo():(this.__ownerID=n,this.__altered=!1,this)},e}(Hr);ra.isList=zl;var St=ra.prototype;St[Al]=!0;St[Ri]=St.remove;St.merge=St.concat;St.setIn=g0;St.deleteIn=St.removeIn=y0;St.update=v0;St.updateIn=b0;St.mergeIn=x0;St.mergeDeepIn=I0;St.withMutations=Ai;St.wasAltered=k0;St.asImmutable=Li;St["@@transducer/init"]=St.asMutable=zi;St["@@transducer/step"]=function(t,e){return t.push(e)};St["@@transducer/result"]=function(t){return t.asImmutable()};var pr=function(e,r){this.array=e,this.ownerID=r};pr.prototype.removeBefore=function(e,r,n){if(!(n&(1<<r+Z)-1)||this.array.length===0)return this;var i=n>>>r&Ut;if(i>=this.array.length)return new pr([],e);var o=i===0,a;if(r>0){var s=this.array[i];if(a=s&&s.removeBefore(e,r-Z,n),a===s&&o)return this}if(o&&!a)return this;var c=yn(this,e);if(!o)for(var u=0;u<i;u++)c.array[u]=void 0;return a&&(c.array[i]=a),c};pr.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r+Z:ne)||this.array.length===0)return this;var i=n-1>>>r&Ut;if(i>=this.array.length)return this;var o;if(r>0){var a=this.array[i];if(o=a&&a.removeAfter(e,r-Z,n),o===a&&i===this.array.length-1)return this}var s=yn(this,e);return s.array.splice(i+1),o&&(s.array[i]=o),s};var Ii={};function jf(t,e){var r=t._origin,n=t._capacity,i=Ti(n),o=t._tail;return a(t._root,t._level,0);function a(u,f,l){return f===0?s(u,l):c(u,f,l)}function s(u,f){var l=f===i?o&&o.array:u&&u.array,d=f>r?0:r-f,h=n-f;return h>ne&&(h=ne),function(){if(d===h)return Ii;var _=e?--h:d++;return l&&l[_]}}function c(u,f,l){var d,h=u&&u.array,_=l>r?0:r-l>>f,m=(n-l>>f)+1;return m>ne&&(m=ne),function(){for(;;){if(d){var v=d();if(v!==Ii)return v;d=null}if(_===m)return Ii;var b=e?--m:_++;d=a(h&&h[b],f-Z,l+(b<<f))}}}}function Oi(t,e,r,n,i,o,a){var s=Object.create(St);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Yo(){return Oi(0,0,Z)}function Om(t,e,r){if(e=hr(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?dr(a,e).set(0,r):dr(a,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=Xs();return e>=Ti(t._capacity)?n=r0(n,t.__ownerID,0,e,r,o):i=r0(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Oi(t._origin,t._capacity,t._level,i,n):t}function r0(t,e,r,n,i,o){var a=n>>>r&Ut,s=t&&a<t.array.length;if(!s&&i===void 0)return t;var c;if(r>0){var u=t&&t.array[a],f=r0(u,e,r-Z,n,i,o);return f===u?t:(c=yn(t,e),c.array[a]=f,c)}return s&&t.array[a]===i?t:(o&&de(o),c=yn(t,e),i===void 0&&a===c.array.length-1?c.array.pop():c.array[a]=i,c)}function yn(t,e){return e&&t&&e===t.ownerID?t:new pr(t?t.array.slice():[],e)}function Ll(t,e){if(e>=Ti(t._capacity))return t._tail;if(e<1<<t._level+Z){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Ut],n-=Z;return r}}function dr(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new o0,i=t._origin,o=t._capacity,a=i+e,s=r===void 0?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,f=0;a+f<0;)u=new pr(u&&u.array.length?[void 0,u]:[],n),c+=Z,f+=1<<c;f&&(a+=f,i+=f,s+=f,o+=f);for(var l=Ti(o),d=Ti(s);d>=1<<c+Z;)u=new pr(u&&u.array.length?[u]:[],n),c+=Z;var h=t._tail,_=d<l?Ll(t,s-1):d>l?new pr([],n):h;if(h&&d>l&&a<o&&h.array.length){u=yn(u,n);for(var m=u,v=c;v>Z;v-=Z){var b=l>>>v&Ut;m=m.array[b]=yn(m.array[b],n)}m.array[l>>>Z&Ut]=h}if(s<o&&(_=_&&_.removeAfter(n,0,s)),a>=d)a-=d,s-=d,c=Z,u=null,_=_&&_.removeBefore(n,0,a);else if(a>i||d<l){for(f=0;u;){var g=a>>>c&Ut;if(g!==d>>>c&Ut)break;g&&(f+=(1<<c)*g),c-=Z,u=u.array[g]}u&&a>i&&(u=u.removeBefore(n,c,a-f)),u&&d<l&&(u=u.removeAfter(n,c,d-f)),f&&(a-=f,s-=f)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Oi(a,s,c,u,_)}function Ti(t){return t<ne?0:t-1>>>Z<<Z}var Ve=function(t){function e(r){return r==null?bi():dl(r)?r:bi().withMutations(function(n){var i=he(r);re(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var o=this._map.get(n);return o!==void 0?this._list.get(o)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):bi()},e.prototype.set=function(n,i){return Gf(this,n,i)},e.prototype.remove=function(n){return Gf(this,n,j)},e.prototype.__iterate=function(n,i){var o=this;return this._list.__iterate(function(a){return a&&n(a[1],a[0],o)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),o=this._list.__ensureOwner(n);return n?T0(i,o,n,this.__hash):this.size===0?bi():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=o,this)},e}(Dn);Ve.isOrderedMap=dl;Ve.prototype[xn]=!0;Ve.prototype[Ri]=Ve.prototype.remove;function T0(t,e,r,n){var i=Object.create(Ve.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Uf;function bi(){return Uf||(Uf=T0(Ee(),Yo()))}function Gf(t,e,r){var n=t._map,i=t._list,o=n.get(e),a=o!==void 0,s,c;if(r===j){if(!a)return t;i.size>=ne&&i.size>=n.size*2?(c=i.filter(function(u,f){return u!==void 0&&o!==f}),s=c.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=c.__ownerID=t.__ownerID)):(s=n.remove(e),c=o===i.size-1?i.pop():i.set(o,void 0))}else if(a){if(r===i.get(o)[1])return t;s=n,c=i.set(o,[e,r])}else s=n.set(e,i.size),c=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=c,t.__hash=void 0,t.__altered=!0,t):T0(s,c)}var Nl="@@__IMMUTABLE_STACK__@@";function n0(t){return!!(t&&t[Nl])}var P0=function(t){function e(r){return r==null?Wo():n0(r)?r:Wo().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var o=this._head;for(n=hr(this,n);o&&n--;)o=o.next;return o?o.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,o=this._head,a=arguments.length-1;a>=0;a--)o={value:n[a],next:o};return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Si(i,o)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&n0(n))return n;re(n.size);var i=this.size,o=this._head;return n.__iterate(function(a){i++,o={value:a,next:o}},!0),this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Si(i,o)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Wo()},e.prototype.slice=function(n,i){if(Xo(n,i,this.size))return this;var o=Mi(n,this.size),a=Jo(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-o,c=this._head;o--;)c=c.next;return this.__ownerID?(this.size=s,this._head=c,this.__hash=void 0,this.__altered=!0,this):Si(s,c)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Si(this.size,this._head,n,this.__hash):this.size===0?Wo():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var o=this;if(i)return new qr(this.toArray()).__iterate(function(c,u){return n(c,u,o)},i);for(var a=0,s=this._head;s&&n(s.value,a++,this)!==!1;)s=s.next;return a},e.prototype.__iterator=function(n,i){if(i)return new qr(this.toArray()).__iterator(n,i);var o=0,a=this._head;return new Y(function(){if(a){var s=a.value;return a=a.next,ut(n,o++,s)}return Xt()})},e}(Hr);P0.isStack=n0;var Gt=P0.prototype;Gt[Nl]=!0;Gt.shift=Gt.pop;Gt.unshift=Gt.push;Gt.unshiftAll=Gt.pushAll;Gt.withMutations=Ai;Gt.wasAltered=k0;Gt.asImmutable=Li;Gt["@@transducer/init"]=Gt.asMutable=zi;Gt["@@transducer/step"]=function(t,e){return t.unshift(e)};Gt["@@transducer/result"]=function(t){return t.asImmutable()};function Si(t,e,r,n){var i=Object.create(Gt);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Wf;function Wo(){return Wf||(Wf=Si(0))}var ql="@@__IMMUTABLE_SET__@@";function R0(t){return!!(t&&t[ql])}function Hl(t){return R0(t)&&Ae(t)}function Fl(t,e){if(t===e)return!0;if(!ae(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||dt(t)!==dt(e)||oe(t)!==oe(e)||Ae(t)!==Ae(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!a0(t);if(Ae(t)){var n=t.entries();return e.every(function(c,u){var f=n.next().value;return f&&ie(f[1],c)&&(r||ie(f[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,s=e.__iterate(function(c,u){if(r?!t.has(c):i?!ie(c,t.get(u,j)):!ie(t.get(u,j),c))return a=!1,!1});return a&&t.size===s}function Fr(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function $o(t){if(!t||typeof t!="object")return t;if(!ae(t)){if(!_r(t))return t;t=se(t)}if(dt(t)){var e={};return t.__iterate(function(n,i){e[i]=$o(n)}),e}var r=[];return t.__iterate(function(n){r.push($o(n))}),r}var On=function(t){function e(r){return r==null?wi():R0(r)&&!Ae(r)?r:wi().withMutations(function(n){var i=t(r);re(i.size),i.forEach(function(o){return n.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(he(n).keySeq())},e.intersect=function(n){return n=zt(n).toArray(),n.length?Pt.intersect.apply(e(n.pop()),n):wi()},e.union=function(n){return n=zt(n).toArray(),n.length?Pt.union.apply(e(n.pop()),n):wi()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Ko(this,this._map.set(n,n))},e.prototype.remove=function(n){return Ko(this,this._map.remove(n))},e.prototype.clear=function(){return Ko(this,this._map.clear())},e.prototype.map=function(n,i){var o=this,a=!1,s=Ko(this,this._map.mapEntries(function(c){var u=c[1],f=n.call(i,u,u,o);return f!==u&&(a=!0),[f,f]},i));return a?s:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(o){return o.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){for(var a=0;a<n.length;a++)typeof n[a]=="string"?o.add(n[a]):t(n[a]).forEach(function(s){return o.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return t(a)});var o=[];return this.forEach(function(a){n.every(function(s){return s.includes(a)})||o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return t(a)});var o=[];return this.forEach(function(a){n.some(function(s){return s.includes(a)})&&o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.sort=function(n){return Pi(_n(this,n))},e.prototype.sortBy=function(n,i){return Pi(_n(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var o=this;return this._map.__iterate(function(a){return n(a,a,o)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Sn);On.isSet=R0;var Pt=On.prototype;Pt[ql]=!0;Pt[Ri]=Pt.remove;Pt.merge=Pt.concat=Pt.union;Pt.withMutations=Ai;Pt.asImmutable=Li;Pt["@@transducer/init"]=Pt.asMutable=zi;Pt["@@transducer/step"]=function(t,e){return t.add(e)};Pt["@@transducer/result"]=function(t){return t.asImmutable()};Pt.__empty=wi;Pt.__make=Bl;function Ko(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Bl(t,e){var r=Object.create(Pt);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var Kf;function wi(){return Kf||(Kf=Bl(Ee()))}var Tm=function(t){function e(r,n,i){if(i===void 0&&(i=1),!(this instanceof e))return new e(r,n,i);if(xi(i!==0,"Cannot step a Range by 0"),xi(r!==void 0,"You must define a start value when using Range"),xi(n!==void 0,"You must define an end value when using Range"),i=Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(Vs)return Vs;Vs=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+hr(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Xo(n,i,this.size)?this:(n=Mi(n,this.size),i=Jo(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var o=i/this._step;if(o>=0&&o<this.size)return o}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,c=0;c!==o&&n(s,i?o-++c:c++,this)!==!1;)s+=i?-a:a;return c},e.prototype.__iterator=function(n,i){var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,c=0;return new Y(function(){if(c===o)return Xt();var u=s;return s+=i?-a:a,ut(n,i?o-++c:c++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Fl(this,n)},e}(we),Vs;function jl(t,e,r){for(var n=xl(e),i=0;i!==n.length;)if(t=Il(t,n[i++],j),t===j)return r;return t}function Ul(t,e){return jl(this,t,e)}function Pm(t,e){return jl(t,e,j)!==j}function Rm(t){return Pm(this,t)}function Gl(){re(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}zt.Iterator=Y;Fr(zt,{toArray:function(){re(this.size);var e=new Array(this.size||0),r=dt(this),n=0;return this.__iterate(function(i,o){e[n++]=r?[o,i]:i}),e},toIndexedSeq:function(){return new hl(this)},toJS:function(){return $o(this)},toKeyedSeq:function(){return new ea(this,!0)},toMap:function(){return Dn(this.toKeyedSeq())},toObject:Gl,toOrderedMap:function(){return Ve(this.toKeyedSeq())},toOrderedSet:function(){return Pi(dt(this)?this.valueSeq():this)},toSet:function(){return On(dt(this)?this.valueSeq():this)},toSetSeq:function(){return new _l(this)},toSeq:function(){return oe(this)?this.toIndexedSeq():dt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return P0(dt(this)?this.valueSeq():this)},toList:function(){return ra(dt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return J(this,sm(this,e))},includes:function(e){return this.some(function(r){return ie(r,e)})},entries:function(){return this.__iterator(pe)},every:function(e,r){re(this.size);var n=!0;return this.__iterate(function(i,o,a){if(!e.call(r,i,o,a))return n=!1,!1}),n},filter:function(e,r){return J(this,vl(this,e,r,!0))},partition:function(e,r){return om(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return re(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){re(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Ei)},map:function(e,r){return J(this,yl(this,e,r))},reduce:function(e,r,n){return Yf(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return Yf(this,e,r,n,arguments.length<2,!0)},reverse:function(){return J(this,p0(this,!0))},slice:function(e,r){return J(this,h0(this,e,r,!0))},some:function(e,r){re(this.size);var n=!1;return this.__iterate(function(i,o,a){if(e.call(r,i,o,a))return n=!0,!1}),n},sort:function(e){return J(this,_n(this,e))},values:function(){return this.__iterator(Se)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return hn(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return nm(this,e,r)},equals:function(e){return Fl(this,e)},entrySeq:function(){var e=this;if(e._cache)return new qr(e._cache);var r=e.toSeq().map(Em).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter($s(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(o,a,s){if(e.call(r,o,a,s))return i=[a,o],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(Qf,null,e)},flatMap:function(e,r){return J(this,cm(this,e,r))},flatten:function(e){return J(this,Sl(this,e,!0))},fromEntrySeq:function(){return new ml(this)},get:function(e,r){return this.find(function(n,i){return ie(i,e)},void 0,r)},getIn:Ul,groupBy:function(e,r){return im(this,e,r)},has:function(e){return this.get(e,j)!==j},hasIn:Rm,isSubset:function(e){return e=typeof e.includes=="function"?e:zt(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:zt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return ie(r,e)})},keySeq:function(){return this.toSeq().map(Mm).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Uo(this,e)},maxBy:function(e,r){return Uo(this,r,e)},min:function(e){return Uo(this,e?Vf(e):Xf)},minBy:function(e,r){return Uo(this,r?Vf(r):Xf,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return J(this,bl(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile($s(e),r)},sortBy:function(e,r){return J(this,_n(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return J(this,am(this,e,r))},takeUntil:function(e,r){return this.takeWhile($s(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Am(this))}});var Lt=zt.prototype;Lt[rl]=!0;Lt[Zo]=Lt.values;Lt.toJSON=Lt.toArray;Lt.__toStringMapper=ki;Lt.inspect=Lt.toSource=function(){return this.toString()};Lt.chain=Lt.flatMap;Lt.contains=Lt.includes;Fr(he,{flip:function(){return J(this,gl(this))},mapEntries:function(e,r){var n=this,i=0;return J(this,this.toSeq().map(function(o,a){return e.call(r,[a,o],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return J(this,this.toSeq().flip().map(function(i,o){return e.call(r,i,o,n)}).flip())}});var Ni=he.prototype;Ni[nl]=!0;Ni[Zo]=Lt.entries;Ni.toJSON=Gl;Ni.__toStringMapper=function(t,e){return ki(e)+": "+ki(t)};Fr(Hr,{toKeyedSeq:function(){return new ea(this,!1)},filter:function(e,r){return J(this,vl(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return J(this,p0(this,!1))},slice:function(e,r){return J(this,h0(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Mi(e,e<0?this.count():this.size);var i=this.slice(0,e);return J(this,n===1?i:i.concat(Me(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return J(this,Sl(this,e,!1))},get:function(e,r){return e=hr(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=hr(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return J(this,um(this,e))},interleave:function(){var e=[this].concat(Me(arguments)),r=Go(this.toSeq(),we.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),J(this,n)},keySeq:function(){return Tm(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return J(this,bl(this,e,r,!1))},zip:function(){var e=[this].concat(Me(arguments));return J(this,Go(this,$f,e))},zipAll:function(){var e=[this].concat(Me(arguments));return J(this,Go(this,$f,e,!0))},zipWith:function(e){var r=Me(arguments);return r[0]=this,J(this,Go(this,e,r))}});var Tn=Hr.prototype;Tn[il]=!0;Tn[xn]=!0;Fr(Sn,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var vn=Sn.prototype;vn.has=Lt.includes;vn.contains=vn.includes;vn.keys=vn.values;Fr(mr,Ni);Fr(we,Tn);Fr(kn,vn);function Yf(t,e,r,n,i,o){return re(t.size),t.__iterate(function(a,s,c){i?(i=!1,r=a):r=e.call(n,r,a,s,c)},o),r}function Mm(t,e){return e}function Em(t,e){return[e,t]}function $s(t){return function(){return!t.apply(this,arguments)}}function Vf(t){return function(){return-t.apply(this,arguments)}}function $f(){return Me(arguments)}function Xf(t,e){return t<e?1:t>e?-1:0}function Am(t){if(t.size===1/0)return 0;var e=Ae(t),r=dt(t),n=e?1:0;return t.__iterate(r?e?function(i,o){n=31*n+Jf(ee(i),ee(o))|0}:function(i,o){n=n+Jf(ee(i),ee(o))|0}:e?function(i){n=31*n+ee(i)|0}:function(i){n=n+ee(i)|0}),zm(t.size,n)}function zm(t,e){return e=vi(e,3432918353),e=vi(e<<15|e>>>-15,461845907),e=vi(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=vi(e^e>>>16,2246822507),e=vi(e^e>>>13,3266489909),e=ta(e^e>>>16),e}function Jf(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Pi=function(t){function e(r){return r==null?i0():Hl(r)?r:i0().withMutations(function(n){var i=Sn(r);re(i.size),i.forEach(function(o){return n.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(he(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(On);Pi.isOrderedSet=Hl;var Br=Pi.prototype;Br[xn]=!0;Br.zip=Tn.zip;Br.zipWith=Tn.zipWith;Br.zipAll=Tn.zipAll;Br.__empty=i0;Br.__make=Wl;function Wl(t,e){var r=Object.create(Br);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var Zf;function i0(){return Zf||(Zf=Wl(bi()))}function Lm(t){if(wn(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ze(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var _t=function(e,r){var n;Lm(e);var i=function(s){var c=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),f=o._indices={};o._name=r,o._keys=u,o._defaultValues=e;for(var l=0;l<u.length;l++){var d=u[l];f[d]=l,o[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+E0(this)+' with property "'+d+'" since that property name is part of the Record API.'):Nm(o,d)}}return this.__ownerID=void 0,this._values=ra().withMutations(function(h){h.setSize(c._keys.length),he(s).forEach(function(_,m){h.set(c._indices[m],_===c._defaultValues[m]?void 0:_)})}),this},o=i.prototype=Object.create(tt);return o.constructor=i,r&&(i.displayName=r),i};_t.prototype.toString=function(){for(var e=E0(this)+" { ",r=this._keys,n,i=0,o=r.length;i!==o;i++)n=r[i],e+=(i?", ":"")+n+": "+ki(this.get(n));return e+" }"};_t.prototype.equals=function(e){return this===e||wn(e)&&bn(this).equals(bn(e))};_t.prototype.hashCode=function(){return bn(this).hashCode()};_t.prototype.has=function(e){return this._indices.hasOwnProperty(e)};_t.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};_t.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return M0(this,n)}return this};_t.prototype.remove=function(e){return this.set(e)};_t.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:M0(this,e)};_t.prototype.wasAltered=function(){return this._values.wasAltered()};_t.prototype.toSeq=function(){return bn(this)};_t.prototype.toJS=function(){return $o(this)};_t.prototype.entries=function(){return this.__iterator(pe)};_t.prototype.__iterator=function(e,r){return bn(this).__iterator(e,r)};_t.prototype.__iterate=function(e,r){return bn(this).__iterate(e,r)};_t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?M0(this,r,e):(this.__ownerID=e,this._values=r,this)};_t.isRecord=wn;_t.getDescriptiveName=E0;var tt=_t.prototype;tt[al]=!0;tt[Ri]=tt.remove;tt.deleteIn=tt.removeIn=y0;tt.getIn=Ul;tt.hasIn=Lt.hasIn;tt.merge=Dl;tt.mergeWith=Ol;tt.mergeIn=x0;tt.mergeDeep=Pl;tt.mergeDeepWith=Rl;tt.mergeDeepIn=I0;tt.setIn=g0;tt.update=v0;tt.updateIn=b0;tt.withMutations=Ai;tt.asMutable=zi;tt.asImmutable=Li;tt[Zo]=tt.entries;tt.toJSON=tt.toObject=Lt.toObject;tt.inspect=tt.toSource=function(){return this.toString()};function M0(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function E0(t){return t.constructor.displayName||t.constructor.name||"Record"}function bn(t){return f0(t._keys.map(function(e){return[e,t.get(e)]}))}function Nm(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){xi(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}function jr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A0(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function na(t){let e,r,n;t.length!==2?(e=jr,r=(s,c)=>jr(t(s),c),n=(s,c)=>t(s)-c):(e=t===jr||t===A0?t:qm,r=t,n=t);function i(s,c,u=0,f=s.length){if(u<f){if(e(c,c)!==0)return f;do{let l=u+f>>>1;r(s[l],c)<0?u=l+1:f=l}while(u<f)}return u}function o(s,c,u=0,f=s.length){if(u<f){if(e(c,c)!==0)return f;do{let l=u+f>>>1;r(s[l],c)<=0?u=l+1:f=l}while(u<f)}return u}function a(s,c,u=0,f=s.length){let l=i(s,c,u,f-1);return l>u&&n(s[l-1],c)>-n(s[l],c)?l-1:l}return{left:i,center:a,right:o}}function qm(){return 0}function z0(t){return t===null?NaN:+t}var Kl=na(jr),Yl=Kl.right,Hm=Kl.left,Fm=na(z0).center,qi=Yl;function L0(t,e){let r=0;if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&++r}return r}function Hi(t,e){let r,n;if(e===void 0)for(let i of t)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}function N0(t){return t}var Vl=Array.prototype,$l=Vl.slice,Fb=Vl.map;function Fi(t){return()=>t}var Bm=Math.sqrt(50),jm=Math.sqrt(10),Um=Math.sqrt(2);function ia(t,e,r){let n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=Bm?10:o>=jm?5:o>=Um?2:1,s,c,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),c=Math.round(e*u),s/u<t&&++s,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),c=Math.round(e/u),s*u<t&&++s,c*u>e&&--c),c<s&&.5<=r&&r<2?ia(t,e,r*2):[s,c,u]}function Pn(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let n=e<t,[i,o,a]=n?ia(e,t,r):ia(t,e,r);if(!(o>=i))return[];let s=o-i+1,c=new Array(s);if(n)if(a<0)for(let u=0;u<s;++u)c[u]=(o-u)/-a;else for(let u=0;u<s;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)c[u]=(i+u)/-a;else for(let u=0;u<s;++u)c[u]=(i+u)*a;return c}function Ne(t,e,r){return e=+e,t=+t,r=+r,ia(t,e,r)[2]}function q0(t,e,r){e=+e,t=+t,r=+r;let n=e<t,i=n?Ne(e,t,r):Ne(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function H0(t,e,r){let n;for(;;){let i=Ne(t,e,r);if(i===n||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),n=i}}function F0(t){return Math.max(1,Math.ceil(Math.log(L0(t))/Math.LN2)+1)}function Bi(){var t=N0,e=Hi,r=F0;function n(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,c,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var f=e(u),l=f[0],d=f[1],h=r(u,l,d);if(!Array.isArray(h)){let y=d,S=+h;if(e===Hi&&([l,d]=H0(l,d,S)),h=Pn(l,d,S),h[0]<=l&&(c=Ne(l,d,S)),h[h.length-1]>=d)if(y>=d&&e===Hi){let x=Ne(l,d,S);isFinite(x)&&(x>0?d=(Math.floor(d/x)+1)*x:x<0&&(d=(Math.ceil(d*-x)+1)/-x))}else h.pop()}for(var _=h.length,m=0,v=_;h[m]<=l;)++m;for(;h[v-1]>d;)--v;(m||v<_)&&(h=h.slice(m,v),_=v-m);var b=new Array(_+1),g;for(o=0;o<=_;++o)g=b[o]=[],g.x0=o>0?h[o-1]:l,g.x1=o<_?h[o]:d;if(isFinite(c)){if(c>0)for(o=0;o<a;++o)(s=u[o])!=null&&l<=s&&s<=d&&b[Math.min(_,Math.floor((s-l)/c))].push(i[o]);else if(c<0){for(o=0;o<a;++o)if((s=u[o])!=null&&l<=s&&s<=d){let y=Math.floor((l-s)*c);b[Math.min(_,y+(h[y]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&l<=s&&s<=d&&b[qi(h,s,0,_)].push(i[o]);return b}return n.value=function(i){return arguments.length?(t=typeof i=="function"?i:Fi(i),n):t},n.domain=function(i){return arguments.length?(e=typeof i=="function"?i:Fi([i[0],i[1]]),n):e},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Fi(Array.isArray(i)?$l.call(i):i),n):r},n}function gr(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Xl(t){return t}var B0=1,j0=2,U0=3,ji=4,Jl=1e-6;function Gm(t){return"translate("+t+",0)"}function Wm(t){return"translate(0,"+t+")"}function Km(t){return e=>+t(e)}function Ym(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function Vm(){return!this.__axis}function Zl(t,e){var r=[],n=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===B0||t===ji?-1:1,f=t===ji||t===j0?"x":"y",l=t===B0||t===U0?Gm:Wm;function d(h){var _=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,r):Xl),v=Math.max(o,0)+s,b=e.range(),g=+b[0]+c,y=+b[b.length-1]+c,S=(e.bandwidth?Ym:Km)(e.copy(),c),x=h.selection?h.selection():h,k=x.selectAll(".domain").data([null]),O=x.selectAll(".tick").data(_,e).order(),C=O.exit(),P=O.enter().append("g").attr("class","tick"),E=O.select("line"),w=O.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(P),E=E.merge(P.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),w=w.merge(P.append("text").attr("fill","currentColor").attr(f,u*v).attr("dy",t===B0?"0em":t===U0?"0.71em":"0.32em")),h!==x&&(k=k.transition(h),O=O.transition(h),E=E.transition(h),w=w.transition(h),C=C.transition(h).attr("opacity",Jl).attr("transform",function(I){return isFinite(I=S(I))?l(I+c):this.getAttribute("transform")}),P.attr("opacity",Jl).attr("transform",function(I){var M=this.parentNode.__axis;return l((M&&isFinite(M=M(I))?M:S(I))+c)})),C.remove(),k.attr("d",t===ji||t===j0?a?"M"+u*a+","+g+"H"+c+"V"+y+"H"+u*a:"M"+c+","+g+"V"+y:a?"M"+g+","+u*a+"V"+c+"H"+y+"V"+u*a:"M"+g+","+c+"H"+y),O.attr("opacity",1).attr("transform",function(I){return l(S(I)+c)}),E.attr(f+"2",u*o),w.attr(f,u*v).text(m),x.filter(Vm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===j0?"start":t===ji?"end":"middle"),x.each(function(){this.__axis=S})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(r=h==null?[]:Array.from(h),d):r.slice()},d.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),d):n&&n.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function oa(t){return Zl(U0,t)}function aa(t){return Zl(ji,t)}var $m={value:()=>{}};function td(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sa(r)}function sa(t){this._=t}function Xm(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sa.prototype=td.prototype={constructor:sa,on:function(t,e){var r=this._,n=Xm(t+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(t=n[o]).type)&&(i=Jm(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=n[o]).type)r[i]=Ql(r[i],t.name,e);else if(e==null)for(i in r)r[i]=Ql(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new sa(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],n=0,i=o.length;n<i;++n)o[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};function Jm(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function Ql(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=$m,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var G0=td;var ca="http://www.w3.org/1999/xhtml",W0={svg:"http://www.w3.org/2000/svg",xhtml:ca,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $e(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),W0.hasOwnProperty(e)?{space:W0[e],local:t}:t}function Zm(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ca&&e.documentElement.namespaceURI===ca?e.createElement(t):e.createElementNS(r,t)}}function Qm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ua(t){var e=$e(t);return(e.local?Qm:Zm)(e)}function t2(){}function Ur(t){return t==null?t2:function(){return this.querySelector(t)}}function ed(t){typeof t!="function"&&(t=Ur(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=new Array(a),c,u,f=0;f<a;++f)(c=o[f])&&(u=t.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),s[f]=u);return new mt(n,this._parents)}function K0(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function e2(){return[]}function Ui(t){return t==null?e2:function(){return this.querySelectorAll(t)}}function r2(t){return function(){return K0(t.apply(this,arguments))}}function rd(t){typeof t=="function"?t=r2(t):t=Ui(t);for(var e=this._groups,r=e.length,n=[],i=[],o=0;o<r;++o)for(var a=e[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(n.push(t.call(c,c.__data__,u,a)),i.push(c));return new mt(n,i)}function Gi(t){return function(){return this.matches(t)}}function fa(t){return function(e){return e.matches(t)}}var n2=Array.prototype.find;function i2(t){return function(){return n2.call(this.children,t)}}function o2(){return this.firstElementChild}function nd(t){return this.select(t==null?o2:i2(typeof t=="function"?t:fa(t)))}var a2=Array.prototype.filter;function s2(){return Array.from(this.children)}function c2(t){return function(){return a2.call(this.children,t)}}function id(t){return this.selectAll(t==null?s2:c2(typeof t=="function"?t:fa(t)))}function od(t){typeof t!="function"&&(t=Gi(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new mt(n,this._parents)}function la(t){return new Array(t.length)}function ad(){return new mt(this._enter||this._groups.map(la),this._parents)}function Wi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wi.prototype={constructor:Wi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sd(t){return function(){return t}}function u2(t,e,r,n,i,o){for(var a=0,s,c=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],n[a]=s):r[a]=new Wi(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function f2(t,e,r,n,i,o,a){var s,c,u=new Map,f=e.length,l=o.length,d=new Array(f),h;for(s=0;s<f;++s)(c=e[s])&&(d[s]=h=a.call(c,c.__data__,s,e)+"",u.has(h)?i[s]=c:u.set(h,c));for(s=0;s<l;++s)h=a.call(t,o[s],s,o)+"",(c=u.get(h))?(n[s]=c,c.__data__=o[s],u.delete(h)):r[s]=new Wi(t,o[s]);for(s=0;s<f;++s)(c=e[s])&&u.get(d[s])===c&&(i[s]=c)}function l2(t){return t.__data__}function cd(t,e){if(!arguments.length)return Array.from(this,l2);var r=e?f2:u2,n=this._parents,i=this._groups;typeof t!="function"&&(t=sd(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var f=n[u],l=i[u],d=l.length,h=d2(t.call(f,f&&f.__data__,u,n)),_=h.length,m=s[u]=new Array(_),v=a[u]=new Array(_),b=c[u]=new Array(d);r(f,l,m,v,b,h,e);for(var g=0,y=0,S,x;g<_;++g)if(S=m[g]){for(g>=y&&(y=g+1);!(x=v[y])&&++y<_;);S._next=x||null}}return a=new mt(a,n),a._enter=s,a._exit=c,a}function d2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ud(){return new mt(this._exit||this._groups.map(la),this._parents)}function fd(t,e,r){var n=this.enter(),i=this,o=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function ld(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=r[c],f=n[c],l=u.length,d=s[c]=new Array(l),h,_=0;_<l;++_)(h=u[_]||f[_])&&(d[_]=h);for(;c<i;++c)s[c]=r[c];return new mt(s,this._parents)}function dd(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function pd(t){t||(t=p2);function e(l,d){return l&&d?t(l.__data__,d.__data__):!l-!d}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,c=i[o]=new Array(s),u,f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(e)}return new mt(i,this._parents).order()}function p2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _d(){return Array.from(this)}function md(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function gd(){let t=0;for(let e of this)++t;return t}function yd(){return!this.node()}function vd(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function h2(t){return function(){this.removeAttribute(t)}}function _2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m2(t,e){return function(){this.setAttribute(t,e)}}function g2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function y2(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function v2(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function bd(t,e){var r=$e(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?_2:h2:typeof e=="function"?r.local?v2:y2:r.local?g2:m2)(r,e))}function da(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function b2(t){return function(){this.style.removeProperty(t)}}function S2(t,e,r){return function(){this.style.setProperty(t,e,r)}}function w2(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Sd(t,e,r){return arguments.length>1?this.each((e==null?b2:typeof e=="function"?w2:S2)(t,e,r??"")):yr(this.node(),t)}function yr(t,e){return t.style.getPropertyValue(e)||da(t).getComputedStyle(t,null).getPropertyValue(e)}function x2(t){return function(){delete this[t]}}function I2(t,e){return function(){this[t]=e}}function k2(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function wd(t,e){return arguments.length>1?this.each((e==null?x2:typeof e=="function"?k2:I2)(t,e)):this.node()[t]}function xd(t){return t.trim().split(/^|\s+/)}function Y0(t){return t.classList||new Id(t)}function Id(t){this._node=t,this._names=xd(t.getAttribute("class")||"")}Id.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function kd(t,e){for(var r=Y0(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function Cd(t,e){for(var r=Y0(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function C2(t){return function(){kd(this,t)}}function D2(t){return function(){Cd(this,t)}}function O2(t,e){return function(){(e.apply(this,arguments)?kd:Cd)(this,t)}}function Dd(t,e){var r=xd(t+"");if(arguments.length<2){for(var n=Y0(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?O2:e?C2:D2)(r,e))}function T2(){this.textContent=""}function P2(t){return function(){this.textContent=t}}function R2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Od(t){return arguments.length?this.each(t==null?T2:(typeof t=="function"?R2:P2)(t)):this.node().textContent}function M2(){this.innerHTML=""}function E2(t){return function(){this.innerHTML=t}}function A2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Td(t){return arguments.length?this.each(t==null?M2:(typeof t=="function"?A2:E2)(t)):this.node().innerHTML}function z2(){this.nextSibling&&this.parentNode.appendChild(this)}function Pd(){return this.each(z2)}function L2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rd(){return this.each(L2)}function Md(t){var e=typeof t=="function"?t:ua(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function N2(){return null}function Ed(t,e){var r=typeof t=="function"?t:ua(t),n=e==null?N2:typeof e=="function"?e:Ur(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function q2(){var t=this.parentNode;t&&t.removeChild(this)}function Ad(){return this.each(q2)}function H2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function F2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zd(t){return this.select(t?F2:H2)}function Ld(t){return arguments.length?this.property("__data__",t):this.node().__data__}function B2(t){return function(e){t.call(this,e,this.__data__)}}function j2(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function U2(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,o;r<i;++r)o=e[r],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function G2(t,e,r){return function(){var n=this.__on,i,o=B2(e);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=e;return}}this.addEventListener(t.type,o,r),i={type:t.type,name:t.name,value:e,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Nd(t,e,r){var n=j2(t+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,f;c<u;++c)for(i=0,f=s[c];i<o;++i)if((a=n[i]).type===f.type&&a.name===f.name)return f.value}return}for(s=e?G2:U2,i=0;i<o;++i)this.each(s(n[i],e,r));return this}function qd(t,e,r){var n=da(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function W2(t,e){return function(){return qd(this,t,e)}}function K2(t,e){return function(){return qd(this,t,e.apply(this,arguments))}}function Hd(t,e){return this.each((typeof e=="function"?K2:W2)(t,e))}function*Fd(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var V0=[null];function mt(t,e){this._groups=t,this._parents=e}function Bd(){return new mt([[document.documentElement]],V0)}function Y2(){return this}mt.prototype=Bd.prototype={constructor:mt,select:ed,selectAll:rd,selectChild:nd,selectChildren:id,filter:od,data:cd,enter:ad,exit:ud,join:fd,merge:ld,selection:Y2,order:dd,sort:pd,call:hd,nodes:_d,node:md,size:gd,empty:yd,each:vd,attr:bd,style:Sd,property:wd,classed:Dd,text:Od,html:Td,raise:Pd,lower:Rd,append:Md,insert:Ed,remove:Ad,clone:zd,datum:Ld,on:Nd,dispatch:Hd,[Symbol.iterator]:Fd};var Xe=Bd;function pa(t){return typeof t=="string"?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],V0)}function ha(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $0(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Vi(){}var Ki=.7,ga=1/Ki,Rn="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",V2=/^#([0-9a-f]{3,8})$/,$2=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),X2=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),J2=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${Yi}\\)$`),Z2=new RegExp(`^rgba\\(${qe},${qe},${qe},${Yi}\\)$`),Q2=new RegExp(`^hsl\\(${Yi},${qe},${qe}\\)$`),tg=new RegExp(`^hsla\\(${Yi},${qe},${qe},${Yi}\\)$`),jd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ha(Vi,Ie,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ud,formatHex:Ud,formatHex8:eg,formatHsl:rg,formatRgb:Gd,toString:Gd});function Ud(){return this.rgb().formatHex()}function eg(){return this.rgb().formatHex8()}function rg(){return Xd(this).formatHsl()}function Gd(){return this.rgb().formatRgb()}function Ie(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=V2.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Wd(e):r===3?new Jt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?_a(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?_a(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$2.exec(t))?new Jt(e[1],e[2],e[3],1):(e=X2.exec(t))?new Jt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J2.exec(t))?_a(e[1],e[2],e[3],e[4]):(e=Z2.exec(t))?_a(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q2.exec(t))?Vd(e[1],e[2]/100,e[3]/100,1):(e=tg.exec(t))?Vd(e[1],e[2]/100,e[3]/100,e[4]):jd.hasOwnProperty(t)?Wd(jd[t]):t==="transparent"?new Jt(NaN,NaN,NaN,0):null}function Wd(t){return new Jt(t>>16&255,t>>8&255,t&255,1)}function _a(t,e,r,n){return n<=0&&(t=e=r=NaN),new Jt(t,e,r,n)}function ng(t){return t instanceof Vi||(t=Ie(t)),t?(t=t.rgb(),new Jt(t.r,t.g,t.b,t.opacity)):new Jt}function Mn(t,e,r,n){return arguments.length===1?ng(t):new Jt(t,e,r,n??1)}function Jt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}ha(Jt,Mn,$0(Vi,{brighter(t){return t=t==null?ga:Math.pow(ga,t),new Jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ki:Math.pow(Ki,t),new Jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jt(Wr(this.r),Wr(this.g),Wr(this.b),ya(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kd,formatHex:Kd,formatHex8:ig,formatRgb:Yd,toString:Yd}));function Kd(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}`}function ig(){return`#${Gr(this.r)}${Gr(this.g)}${Gr(this.b)}${Gr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yd(){let t=ya(this.opacity);return`${t===1?"rgb(":"rgba("}${Wr(this.r)}, ${Wr(this.g)}, ${Wr(this.b)}${t===1?")":`, ${t})`}`}function ya(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gr(t){return t=Wr(t),(t<16?"0":"")+t.toString(16)}function Vd(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xe(t,e,r,n)}function Xd(t){if(t instanceof xe)return new xe(t.h,t.s,t.l,t.opacity);if(t instanceof Vi||(t=Ie(t)),!t)return new xe;if(t instanceof xe)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-e)/s+2:a=(e-r)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new xe(a,s,c,t.opacity)}function Jd(t,e,r,n){return arguments.length===1?Xd(t):new xe(t,e,r,n??1)}function xe(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}ha(xe,Jd,$0(Vi,{brighter(t){return t=t==null?ga:Math.pow(ga,t),new xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ki:Math.pow(Ki,t),new xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Jt(X0(t>=240?t-240:t+120,i,n),X0(t,i,n),X0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xe($d(this.h),ma(this.s),ma(this.l),ya(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ya(this.opacity);return`${t===1?"hsl(":"hsla("}${$d(this.h)}, ${ma(this.s)*100}%, ${ma(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $d(t){return t=(t||0)%360,t<0?t+360:t}function ma(t){return Math.max(0,Math.min(1,t||0))}function X0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function J0(t,e,r,n,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*r+(1+3*t+3*o-3*a)*n+a*i)/6}function Zd(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],o=t[n+1],a=n>0?t[n-1]:2*i-o,s=n<e-1?t[n+2]:2*o-i;return J0((r-n/e)*e,a,i,o,s)}}function Qd(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],o=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return J0((r-n/e)*e,i,o,a,s)}}var $i=t=>()=>t;function og(t,e){return function(r){return t+r*e}}function ag(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function t1(t){return(t=+t)==1?va:function(e,r){return r-e?ag(e,r,t):$i(isNaN(e)?r:e)}}function va(t,e){var r=e-t;return r?og(t,r):$i(isNaN(t)?e:t)}var Kr=function t(e){var r=t1(e);function n(i,o){var a=r((i=Mn(i)).r,(o=Mn(o)).r),s=r(i.g,o.g),c=r(i.b,o.b),u=va(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=t,n}(1);function e1(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),o=new Array(r),a,s;for(a=0;a<r;++a)s=Mn(e[a]),n[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return n=t(n),i=t(i),o=t(o),s.opacity=1,function(c){return s.r=n(c),s.g=i(c),s.b=o(c),s+""}}}var sg=e1(Zd),cg=e1(Qd);function r1(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function n1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i1(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=Yr(t[a],e[a]);for(;a<r;++a)o[a]=e[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function o1(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Rt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function a1(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yr(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Q0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z0=new RegExp(Q0.source,"g");function ug(t){return function(){return t}}function fg(t){return function(e){return t(e)+""}}function Xi(t,e){var r=Q0.lastIndex=Z0.lastIndex=0,n,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(n=Q0.exec(t))&&(i=Z0.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:Rt(n,i)})),r=Z0.lastIndex;return r<e.length&&(o=e.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?fg(c[0].x):ug(e):(e=c.length,function(u){for(var f=0,l;f<e;++f)s[(l=c[f]).i]=l.x(u);return s.join("")})}function Yr(t,e){var r=typeof e,n;return e==null||r==="boolean"?$i(e):(r==="number"?Rt:r==="string"?(n=Ie(e))?(e=n,Kr):Xi:e instanceof Ie?Kr:e instanceof Date?o1:n1(e)?r1:Array.isArray(e)?i1:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?a1:Rt)(t,e)}function tc(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var s1=180/Math.PI,ba={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ec(t,e,r,n,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*r+e*n)&&(r-=t*c,n-=e*c),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,c/=s),t*n<e*r&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*s1,skewX:Math.atan(c)*s1,scaleX:a,scaleY:s}}var Sa;function c1(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ba:ec(e.a,e.b,e.c,e.d,e.e,e.f)}function u1(t){return t==null?ba:(Sa||(Sa=document.createElementNS("http://www.w3.org/2000/svg","g")),Sa.setAttribute("transform",t),(t=Sa.transform.baseVal.consolidate())?(t=t.matrix,ec(t.a,t.b,t.c,t.d,t.e,t.f)):ba)}function f1(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function o(u,f,l,d,h,_){if(u!==l||f!==d){var m=h.push("translate(",null,e,null,r);_.push({i:m-4,x:Rt(u,l)},{i:m-2,x:Rt(f,d)})}else(l||d)&&h.push("translate("+l+e+d+r)}function a(u,f,l,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:l.push(i(l)+"rotate(",null,n)-2,x:Rt(u,f)})):f&&l.push(i(l)+"rotate("+f+n)}function s(u,f,l,d){u!==f?d.push({i:l.push(i(l)+"skewX(",null,n)-2,x:Rt(u,f)}):f&&l.push(i(l)+"skewX("+f+n)}function c(u,f,l,d,h,_){if(u!==l||f!==d){var m=h.push(i(h)+"scale(",null,",",null,")");_.push({i:m-4,x:Rt(u,l)},{i:m-2,x:Rt(f,d)})}else(l!==1||d!==1)&&h.push(i(h)+"scale("+l+","+d+")")}return function(u,f){var l=[],d=[];return u=t(u),f=t(f),o(u.translateX,u.translateY,f.translateX,f.translateY,l,d),a(u.rotate,f.rotate,l,d),s(u.skewX,f.skewX,l,d),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,l,d),u=f=null,function(h){for(var _=-1,m=d.length,v;++_<m;)l[(v=d[_]).i]=v.x(h);return l.join("")}}}var rc=f1(c1,"px, ","px)","deg)"),nc=f1(u1,", ",")",")");var En=0,Zi=0,Ji=0,d1=1e3,wa,Qi,xa=0,Vr=0,Ia=0,to=typeof performance=="object"&&performance.now?performance:Date,p1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ro(){return Vr||(p1(lg),Vr=to.now()+Ia)}function lg(){Vr=0}function eo(){this._call=this._time=this._next=null}eo.prototype=ka.prototype={constructor:eo,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?ro():+r)+(e==null?0:+e),!this._next&&Qi!==this&&(Qi?Qi._next=this:wa=this,Qi=this),this._call=t,this._time=r,ic()},stop:function(){this._call&&(this._call=null,this._time=1/0,ic())}};function ka(t,e,r){var n=new eo;return n.restart(t,e,r),n}function h1(){ro(),++En;for(var t=wa,e;t;)(e=Vr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--En}function l1(){Vr=(xa=to.now())+Ia,En=Zi=0;try{h1()}finally{En=0,pg(),Vr=0}}function dg(){var t=to.now(),e=t-xa;e>d1&&(Ia-=e,xa=t)}function pg(){for(var t,e=wa,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:wa=r);Qi=t,ic(n)}function ic(t){if(!En){Zi&&(Zi=clearTimeout(Zi));var e=t-Vr;e>24?(t<1/0&&(Zi=setTimeout(l1,t-to.now()-Ia)),Ji&&(Ji=clearInterval(Ji))):(Ji||(xa=to.now(),Ji=setInterval(dg,d1)),En=1,p1(l1))}}function Ca(t,e,r){var n=new eo;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var hg=G0("start","end","cancel","interrupt"),_g=[],g1=0,_1=1,Oa=2,Da=3,m1=4,Ta=5,no=6;function vr(t,e,r,n,i,o){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;mg(t,r,{name:e,index:n,group:i,on:hg,tween:_g,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:g1})}function io(t,e){var r=kt(t,e);if(r.state>g1)throw new Error("too late; already scheduled");return r}function Mt(t,e){var r=kt(t,e);if(r.state>Da)throw new Error("too late; already running");return r}function kt(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function mg(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=ka(o,0,r.time);function o(u){r.state=_1,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var f,l,d,h;if(r.state!==_1)return c();for(f in n)if(h=n[f],h.name===r.name){if(h.state===Da)return Ca(a);h.state===m1?(h.state=no,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[f]):+f<e&&(h.state=no,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[f])}if(Ca(function(){r.state===Da&&(r.state=m1,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=Oa,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Oa){for(r.state=Da,i=new Array(d=r.tween.length),f=0,l=-1;f<d;++f)(h=r.tween[f].value.call(t,t.__data__,r.index,r.group))&&(i[++l]=h);i.length=l+1}}function s(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Ta,1),l=-1,d=i.length;++l<d;)i[l].call(t,f);r.state===Ta&&(r.on.call("end",t,t.__data__,r.index,r.group),c())}function c(){r.state=no,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function Pa(t,e){var r=t.__transition,n,i,o=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){o=!1;continue}i=n.state>Oa&&n.state<Ta,n.state=no,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}o&&delete t.__transition}}function y1(t){return this.each(function(){Pa(this,t)})}function gg(t,e){var r,n;return function(){var i=Mt(this,t),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function yg(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Mt(this,t),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:e,value:r},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function v1(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=kt(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===t)return a.value;return null}return this.each((e==null?gg:yg)(r,t,e))}function An(t,e,r){var n=t._id;return t.each(function(){var i=Mt(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return kt(i,n).value[e]}}function Ra(t,e){var r;return(typeof e=="number"?Rt:e instanceof Ie?Kr:(r=Ie(e))?(e=r,Kr):Xi)(t,e)}function vg(t){return function(){this.removeAttribute(t)}}function bg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sg(t,e,r){var n,i=r+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===n?o:o=e(n=a,r)}}function wg(t,e,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===n?o:o=e(n=a,r)}}function xg(t,e,r){var n,i,o;return function(){var a,s=r(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===n&&c===i?o:(i=c,o=e(n=a,s)))}}function Ig(t,e,r){var n,i,o;return function(){var a,s=r(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===n&&c===i?o:(i=c,o=e(n=a,s)))}}function b1(t,e){var r=$e(t),n=r==="transform"?nc:Ra;return this.attrTween(t,typeof e=="function"?(r.local?Ig:xg)(r,n,An(this,"attr."+t,e)):e==null?(r.local?bg:vg)(r):(r.local?wg:Sg)(r,n,e))}function kg(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Cg(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Dg(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&Cg(t,o)),r}return i._value=e,i}function Og(t,e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&kg(t,o)),r}return i._value=e,i}function S1(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=$e(t);return this.tween(r,(n.local?Dg:Og)(n,e))}function Tg(t,e){return function(){io(this,t).delay=+e.apply(this,arguments)}}function Pg(t,e){return e=+e,function(){io(this,t).delay=e}}function w1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tg:Pg)(e,t)):kt(this.node(),e).delay}function Rg(t,e){return function(){Mt(this,t).duration=+e.apply(this,arguments)}}function Mg(t,e){return e=+e,function(){Mt(this,t).duration=e}}function x1(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Rg:Mg)(e,t)):kt(this.node(),e).duration}function Eg(t,e){if(typeof e!="function")throw new Error;return function(){Mt(this,t).ease=e}}function I1(t){var e=this._id;return arguments.length?this.each(Eg(e,t)):kt(this.node(),e).ease}function Ag(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Mt(this,t).ease=r}}function k1(t){if(typeof t!="function")throw new Error;return this.each(Ag(this._id,t))}function C1(t){typeof t!="function"&&(t=Gi(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o=e[i],a=o.length,s=n[i]=[],c,u=0;u<a;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&s.push(c);return new Wt(n,this._parents,this._name,this._id)}function D1(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var c=e[s],u=r[s],f=c.length,l=a[s]=new Array(f),d,h=0;h<f;++h)(d=c[h]||u[h])&&(l[h]=d);for(;s<n;++s)a[s]=e[s];return new Wt(a,this._parents,this._name,this._id)}function zg(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Lg(t,e,r){var n,i,o=zg(e)?io:Mt;return function(){var a=o(this,t),s=a.on;s!==n&&(i=(n=s).copy()).on(e,r),a.on=i}}function O1(t,e){var r=this._id;return arguments.length<2?kt(this.node(),r).on.on(t):this.each(Lg(r,t,e))}function Ng(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function T1(){return this.on("end.remove",Ng(this._id))}function P1(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Ur(t));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],c=s.length,u=o[a]=new Array(c),f,l,d=0;d<c;++d)(f=s[d])&&(l=t.call(f,f.__data__,d,s))&&("__data__"in f&&(l.__data__=f.__data__),u[d]=l,vr(u[d],e,r,d,u,kt(f,r)));return new Wt(o,this._parents,e,r)}function R1(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Ui(t));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var c=n[s],u=c.length,f,l=0;l<u;++l)if(f=c[l]){for(var d=t.call(f,f.__data__,l,c),h,_=kt(f,r),m=0,v=d.length;m<v;++m)(h=d[m])&&vr(h,e,r,m,d,_);o.push(d),a.push(f)}return new Wt(o,a,e,r)}var qg=Xe.prototype.constructor;function M1(){return new qg(this._groups,this._parents)}function Hg(t,e){var r,n,i;return function(){var o=yr(this,t),a=(this.style.removeProperty(t),yr(this,t));return o===a?null:o===r&&a===n?i:i=e(r=o,n=a)}}function E1(t){return function(){this.style.removeProperty(t)}}function Fg(t,e,r){var n,i=r+"",o;return function(){var a=yr(this,t);return a===i?null:a===n?o:o=e(n=a,r)}}function Bg(t,e,r){var n,i,o;return function(){var a=yr(this,t),s=r(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),yr(this,t))),a===c?null:a===n&&c===i?o:(i=c,o=e(n=a,s))}}function jg(t,e){var r,n,i,o="style."+e,a="end."+o,s;return function(){var c=Mt(this,t),u=c.on,f=c.value[o]==null?s||(s=E1(e)):void 0;(u!==r||i!==f)&&(n=(r=u).copy()).on(a,i=f),c.on=n}}function A1(t,e,r){var n=(t+="")=="transform"?rc:Ra;return e==null?this.styleTween(t,Hg(t,n)).on("end.style."+t,E1(t)):typeof e=="function"?this.styleTween(t,Bg(t,n,An(this,"style."+t,e))).each(jg(this._id,t)):this.styleTween(t,Fg(t,n,e),r).on("end.style."+t,null)}function Ug(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Gg(t,e,r){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&Ug(t,a,r)),n}return o._value=e,o}function z1(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Gg(t,e,r??""))}function Wg(t){return function(){this.textContent=t}}function Kg(t){return function(){var e=t(this);this.textContent=e??""}}function L1(t){return this.tween("text",typeof t=="function"?Kg(An(this,"text",t)):Wg(t==null?"":t+""))}function Yg(t){return function(e){this.textContent=t.call(this,e)}}function Vg(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&Yg(i)),e}return n._value=t,n}function N1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Vg(t))}function q1(){for(var t=this._name,e=this._id,r=Ma(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var f=kt(c,e);vr(c,t,r,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Wt(n,this._parents,t,r)}function H1(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};r.each(function(){var u=Mt(this,n),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),u.on=e}),i===0&&o()})}var $g=0;function Wt(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function F1(t){return Xe().transition(t)}function Ma(){return++$g}var Je=Xe.prototype;Wt.prototype=F1.prototype={constructor:Wt,select:P1,selectAll:R1,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:C1,merge:D1,selection:M1,transition:q1,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:O1,attr:b1,attrTween:S1,style:A1,styleTween:z1,text:L1,textTween:N1,remove:T1,tween:v1,delay:w1,duration:x1,ease:I1,easeVarying:k1,end:H1,[Symbol.iterator]:Je[Symbol.iterator]};function Ea(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Xg={time:null,delay:0,duration:250,ease:Ea};function Jg(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function B1(t){var e,r;t instanceof Wt?(e=t._id,t=t._name):(e=Ma(),(r=Xg).time=ro(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&vr(c,t,e,u,a,r||Jg(c,e));return new Wt(n,this._parents,t,e)}Xe.prototype.interrupt=y1;Xe.prototype.transition=B1;var{abs:OI,max:TI,min:PI}=Math;function j1(t){return[+t[0],+t[1]]}function Zg(t){return[j1(t[0]),j1(t[1])]}var RI={name:"x",handles:["w","e"].map(oc),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},MI={name:"y",handles:["n","s"].map(oc),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},EI={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(oc),input:function(t){return t==null?null:Zg(t)},output:function(t){return t}};function oc(t){return{type:t}}var ac=Math.PI,sc=2*ac,$r=1e-6,Qg=sc-$r;function U1(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ty(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U1;let r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var Xr=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U1:ty(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=n-e,u=i-r,f=a-e,l=s-r,d=f*f+l*l;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>$r)if(!(Math.abs(l*c-u*f)>$r)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-a,_=i-s,m=c*c+u*u,v=h*h+_*_,b=Math.sqrt(m),g=Math.sqrt(d),y=o*Math.tan((ac-Math.acos((m+d-v)/(2*b*g)))/2),S=y/g,x=y/b;Math.abs(S-1)>$r&&this._append`L${e+S*f},${r+S*l}`,this._append`A${o},${o},0,0,${+(l*h>f*_)},${this._x1=e+x*c},${this._y1=r+x*u}`}}arc(e,r,n,i,o,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=e+s,f=r+c,l=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>$r||Math.abs(this._y1-f)>$r)&&this._append`L${u},${f}`,n&&(d<0&&(d=d%sc+sc),d>Qg?this._append`A${n},${n},0,1,${l},${e-s},${r-c}A${n},${n},0,1,${l},${this._x1=u},${this._y1=f}`:d>$r&&this._append`A${n},${n},0,${+(d>=ac)},${l},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function G1(){return new Xr}G1.prototype=Xr.prototype;function W1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jr(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function He(t){return t=Jr(Math.abs(t)),t?t[1]:NaN}function K1(t,e){return function(r,n){for(var i=r.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Y1(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ey=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function br(t){if(!(e=ey.exec(t)))throw new Error("invalid format: "+t);var e;return new Aa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}br.prototype=Aa.prototype;function Aa(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Aa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V1(t){t:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var cc;function $1(t,e){var r=Jr(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(cc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Jr(t,Math.max(0,e+o-1))[0]}function uc(t,e){var r=Jr(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var fc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:W1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uc(t*100,e),r:uc,s:$1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lc(t){return t}var X1=Array.prototype.map,J1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Z1(t){var e=t.grouping===void 0||t.thousands===void 0?lc:K1(X1.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?lc:Y1(X1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(l){l=br(l);var d=l.fill,h=l.align,_=l.sign,m=l.symbol,v=l.zero,b=l.width,g=l.comma,y=l.precision,S=l.trim,x=l.type;x==="n"?(g=!0,x="g"):fc[x]||(y===void 0&&(y=12),S=!0,x="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var k=m==="$"?r:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",O=m==="$"?n:/[%p]/.test(x)?a:"",C=fc[x],P=/[defgprs%]/.test(x);y=y===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(w){var I=k,M=O,H,st,lt;if(x==="c")M=C(w)+M,w="";else{w=+w;var F=w<0||1/w<0;if(w=isNaN(w)?c:C(Math.abs(w),y),S&&(w=V1(w)),F&&+w==0&&_!=="+"&&(F=!1),I=(F?_==="("?_:s:_==="-"||_==="("?"":_)+I,M=(x==="s"?J1[8+cc/3]:"")+M+(F&&_==="("?")":""),P){for(H=-1,st=w.length;++H<st;)if(lt=w.charCodeAt(H),48>lt||lt>57){M=(lt===46?i+w.slice(H+1):w.slice(H))+M,w=w.slice(0,H);break}}}g&&!v&&(w=e(w,1/0));var A=I.length+w.length+M.length,L=A<b?new Array(b-A+1).join(d):"";switch(g&&v&&(w=e(L+w,L.length?b-M.length:1/0),L=""),h){case"<":w=I+w+M+L;break;case"=":w=I+L+w+M;break;case"^":w=L.slice(0,A=L.length>>1)+I+w+M+L.slice(A);break;default:w=L+I+w+M;break}return o(w)}return E.toString=function(){return l+""},E}function f(l,d){var h=u((l=br(l),l.type="f",l)),_=Math.max(-8,Math.min(8,Math.floor(He(d)/3)))*3,m=Math.pow(10,-_),v=J1[8+_/3];return function(b){return h(m*b)+v}}return{format:u,formatPrefix:f}}var za,La,Na;dc({thousands:",",grouping:[3],currency:["$",""]});function dc(t){return za=Z1(t),La=za.format,Na=za.formatPrefix,za}function pc(t){return Math.max(0,-He(Math.abs(t)))}function hc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(He(e)/3)))*3-He(Math.abs(t)))}function _c(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,He(e)-He(t))+1}function Q1(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mc(t){return function(){return t}}function gc(t){return+t}var tp=[0,1];function zn(t){return t}function yc(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mc(isNaN(e)?NaN:.5)}function ry(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ny(t,e,r){var n=t[0],i=t[1],o=e[0],a=e[1];return i<n?(n=yc(i,n),o=r(a,o)):(n=yc(n,i),o=r(o,a)),function(s){return o(n(s))}}function iy(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=yc(t[a],t[a+1]),o[a]=r(e[a],e[a+1]);return function(s){var c=qi(t,s,1,n)-1;return o[c](i[c](s))}}function ep(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oy(){var t=tp,e=tp,r=Yr,n,i,o,a=zn,s,c,u;function f(){var d=Math.min(t.length,e.length);return a!==zn&&(a=ry(t[0],t[d-1])),s=d>2?iy:ny,c=u=null,l}function l(d){return d==null||isNaN(d=+d)?o:(c||(c=s(t.map(n),e,r)))(n(a(d)))}return l.invert=function(d){return a(i((u||(u=s(e,t.map(n),Rt)))(d)))},l.domain=function(d){return arguments.length?(t=Array.from(d,gc),f()):t.slice()},l.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},l.rangeRound=function(d){return e=Array.from(d),r=tc,f()},l.clamp=function(d){return arguments.length?(a=d?!0:zn,f()):a!==zn},l.interpolate=function(d){return arguments.length?(r=d,f()):r},l.unknown=function(d){return arguments.length?(o=d,l):o},function(d,h){return n=d,i=h,f()}}function vc(){return oy()(zn,zn)}function bc(t,e,r,n){var i=q0(t,e,r),o;switch(n=br(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=hc(i,a))&&(n.precision=o),Na(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=_c(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=pc(i))&&(n.precision=o-(n.type==="%")*2);break}}return La(n)}function ay(t){var e=t.domain;return t.ticks=function(r){var n=e();return Pn(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return bc(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,a=n[i],s=n[o],c,u,f=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=Ne(a,s,r),u===c)return n[i]=a,n[o]=s,e(n);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;c=u}return t},t}function Ze(){var t=vc();return t.copy=function(){return ep(t,Ze())},Q1.apply(t,arguments),ay(t)}function Zr(t){return function(){return t}}function rp(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Xr(e)}var J4=Array.prototype.slice;function np(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ip(t){this._context=t}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function op(t){return new ip(t)}function ap(t){return t[0]}function sp(t){return t[1]}function qa(t,e){var r=Zr(!0),n=null,i=op,o=null,a=rp(s);t=typeof t=="function"?t:t===void 0?ap:Zr(t),e=typeof e=="function"?e:e===void 0?sp:Zr(e);function s(c){var u,f=(c=np(c)).length,l,d=!1,h;for(n==null&&(o=i(h=a())),u=0;u<=f;++u)!(u<f&&r(l=c[u],u,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(l,u,c),+e(l,u,c));if(h)return o=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:Zr(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:Zr(+c),s):e},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zr(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),s):n},s}function Sr(t,e,r){this.k=t,this.x=e,this.y=r}Sr.prototype={constructor:Sr,scale:function(t){return t===1?this:new Sr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Sr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sc=new Sr(1,0,0);wc.prototype=Sr.prototype;function wc(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Sc;return t.__zoom}var _e={"10101":{corners:[{length:275,start:400},{length:275,start:675}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10001,slopes:[],straights:[{end:400,start:0},{end:1200,start:950}],surface:1,turn:1},"10102":{corners:[{length:275,start:150},{length:275,start:700},{length:275,start:975}],course:1,courseSetStatus:[],distance:1500,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:700,start:425},{end:1500,start:1250}],surface:1,turn:1},"10103":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:1e3},{length:275,start:1275}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:175,start:0},{end:1e3,start:725},{end:1800,start:1550}],surface:1,turn:1},"10104":{corners:[{length:275,start:375},{length:275,start:650},{length:275,start:1200},{length:275,start:1475}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10001,slopes:[],straights:[{end:375,start:0},{end:1200,start:925},{end:2e3,start:1750}],surface:1,turn:1},"10105":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:975},{length:275,start:1250},{length:275,start:1800},{length:275,start:2075}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10001,slopes:[],straights:[{end:175,start:0},{end:975,start:725},{end:1800,start:1525},{end:2600,start:2350}],surface:1,turn:1},"10106":{corners:[{length:230,start:280},{length:230,start:510}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10001,slopes:[],straights:[{end:280,start:0},{end:1e3,start:740}],surface:2,turn:1},"10107":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:980},{length:230,start:1210}],course:1,courseSetStatus:[1],distance:1700,distanceType:2,raceTrackId:10001,slopes:[],straights:[{end:240,start:0},{end:980,start:700},{end:1700,start:1440}],surface:2,turn:1},"10108":{corners:[{length:230,start:200},{length:230,start:430},{length:230,start:940},{length:230,start:1170},{length:230,start:1680},{length:230,start:1910}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10001,slopes:[],straights:[{end:200,start:0},{end:940,start:660},{end:1680,start:1408},{end:2400,start:2140}],surface:2,turn:1},"10201":{corners:[{length:220,start:310},{length:220,start:530}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[{length:555,slope:1e4,start:0}],straights:[{end:310,start:0},{end:1e3,start:750}],surface:1,turn:1},"10202":{corners:[{length:220,start:510},{length:220,start:730}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10002,slopes:[{length:755,slope:1e4,start:0}],straights:[{end:510,start:0},{end:1200,start:950}],surface:1,turn:1},"10203":{corners:[{length:220,start:320},{length:220,start:540},{length:220,start:1110},{length:220,start:1330}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:220},{length:720,slope:1e4,start:665}],straights:[{end:320,start:0},{end:1110,start:760},{end:1800,start:1550}],surface:1,turn:1},"10204":{corners:[{length:220,start:520},{length:220,start:740},{length:220,start:1310},{length:220,start:1530}],course:1,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:420},{length:720,slope:1e4,start:865}],straights:[{end:520,start:0},{end:1310,start:960},{end:2e3,start:1750}],surface:1,turn:1},"10205":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:1070},{length:230,start:1300},{length:230,start:1890},{length:230,start:2120}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10002,slopes:[{length:495,slope:1e4,start:0},{length:200,slope:-1e4,start:970},{length:720,slope:1e4,start:1425}],straights:[{end:240,start:0},{end:1070,start:700},{end:1890,start:1530},{end:2600,start:2350}],surface:1,turn:1},"10206":{corners:[{length:190,start:370},{length:190,start:560}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[],straights:[{end:370,start:0},{end:1e3,start:750}],surface:2,turn:1},"10207":{corners:[{length:190,start:350},{length:190,start:540},{length:190,start:1070},{length:190,start:1260}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10002,slopes:[{length:340,slope:-1e4,start:275},{length:670,slope:1e4,start:615}],straights:[{end:350,start:0},{end:1070,start:730},{end:1700,start:1450}],surface:2,turn:1},"10208":{corners:[{length:190,start:292},{length:190,start:482},{length:190,start:1040},{length:190,start:1230},{length:190,start:1770},{length:190,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10002,slopes:[],straights:[{end:292,start:0},{end:1040,start:672},{end:1770,start:1420},{end:2400,start:2150}],surface:2,turn:1},"10301":{corners:[],course:1,courseSetStatus:[3],distance:1e3,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:649.9,start:0},{end:1e3,start:650}],surface:1,turn:4},"10302":{corners:[{length:200,start:430},{length:210,start:640}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:430,start:0},{end:1200,start:850}],surface:1,turn:2},"10303":{corners:[{length:200,start:650},{length:200,start:850}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:650,start:0},{end:1400,start:1050}],surface:1,turn:2},"10304":{corners:[{length:200,start:550},{length:200,start:750}],course:3,courseSetStatus:[],distance:1600,distanceType:2,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:250},{length:300,slope:-15e3,start:600}],straights:[{end:550,start:0},{end:1600,start:950}],surface:1,turn:2},"10305":{corners:[{length:200,start:750},{length:200,start:950}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:450},{length:300,slope:-15e3,start:800}],straights:[{end:750,start:0},{end:1800,start:1150}],surface:1,turn:2},"10306":{corners:[{length:200,start:420},{length:200,start:620},{length:200,start:1250},{length:200,start:1450}],course:2,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:420,start:0},{end:1250,start:820},{end:2e3,start:1650}],surface:1,turn:2},"10307":{corners:[{length:200,start:950},{length:200,start:1150}],course:3,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[{length:300,slope:-15e3,start:1e3},{length:350,slope:1e4,start:650}],straights:[{end:950,start:0},{end:2e3,start:1350}],surface:1,turn:2},"10308":{corners:[{length:200,start:650},{length:200,start:850},{length:200,start:1450},{length:200,start:1650}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:650,start:0},{end:1450,start:1050},{end:2200,start:1850}],surface:1,turn:2},"10309":{corners:[{length:200,start:810},{length:200,start:1010},{length:200,start:1650},{length:200,start:1850}],course:2,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:810,start:0},{end:1650,start:1210},{end:2400,start:2050}],surface:1,turn:2},"10310":{corners:[{length:150,start:600},{length:150,start:750}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:600,start:0},{end:1200,start:900}],surface:2,turn:2},"10311":{corners:[{length:160,start:400},{length:160,start:560},{length:160,start:1140},{length:160,start:1300}],course:1,courseSetStatus:[5],distance:1800,distanceType:2,raceTrackId:10003,slopes:[],straights:[{end:400,start:0},{end:1140,start:720},{end:1800,start:1460}],surface:2,turn:2},"10312":{corners:[{length:160,start:380},{length:160,start:540},{length:160,start:1120},{length:160,start:1280},{length:160,start:1850},{length:160,start:2010}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10003,slopes:[],straights:[{end:380,start:0},{end:1120,start:700},{end:1850,start:1440},{end:2500,start:2170}],surface:2,turn:2},"10401":{corners:[{length:300,start:420},{length:200,start:720}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:180}],straights:[{end:420,start:0},{end:1200,start:920}],surface:1,turn:1},"10402":{corners:[{length:200,start:330},{length:200,start:530},{length:300,start:1020},{length:200,start:1320}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:780}],straights:[{end:330,start:0},{end:1020,start:730},{end:1800,start:1520}],surface:1,turn:1},"10403":{corners:[{length:200,start:530},{length:200,start:730},{length:300,start:1220},{length:200,start:1520}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:980}],straights:[{end:530,start:0},{end:1220,start:930},{end:2e3,start:1720}],surface:1,turn:1},"10404":{corners:[{length:300,start:220},{length:200,start:520},{length:200,start:1130},{length:200,start:1330},{length:300,start:1820},{length:200,start:2120}],course:1,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10004,slopes:[{length:80,slope:15e3,start:0},{length:100,slope:15e3,start:1580}],straights:[{end:220,start:0},{end:1130,start:720},{end:1820,start:1530},{end:2600,start:2320}],surface:1,turn:1},"10405":{corners:[{length:210,start:500},{length:160,start:710}],course:1,courseSetStatus:[],distance:1150,distanceType:1,raceTrackId:10004,slopes:[],straights:[{end:500,start:0},{end:1150,start:870}],surface:2,turn:1},"10406":{corners:[{length:170,start:360},{length:170,start:530},{length:210,start:1050},{length:160,start:1260}],course:1,courseSetStatus:[3],distance:1700,distanceType:2,raceTrackId:10004,slopes:[{length:320,slope:-1e4,start:285}],straights:[{end:360,start:0},{end:1050,start:700},{end:1700,start:1420}],surface:2,turn:1},"10407":{corners:[{length:210,start:310},{length:160,start:520},{length:170,start:1060},{length:170,start:1230},{length:210,start:1750},{length:160,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10004,slopes:[],straights:[{end:310,start:0},{end:1060,start:680},{end:1750,start:1400},{end:2400,start:2120}],surface:2,turn:1},"10501":{corners:[{length:350,start:300},{length:250,start:650}],course:3,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{length:200,slope:-15e3,start:0},{length:110,slope:2e4,start:1025}],straights:[{end:1200,start:900}],surface:1,turn:1},"10502":{corners:[{length:450,start:50},{length:350,start:700},{length:250,start:1050}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10005,slopes:[{length:300,slope:-15e3,start:300},{length:110,slope:2e4,start:1425}],straights:[{end:1600,start:1300}],surface:1,turn:1},"10503":{corners:[{length:250,start:175},{length:250,start:425},{length:250,start:1e3},{length:250,start:1250}],course:2,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{length:35,slope:2e4,start:1},{length:200,slope:15e3,start:125},{length:400,slope:-15e3,start:425},{length:110,slope:2e4,start:1625}],straights:[{end:175,start:0},{end:1e3,start:675},{end:1800,start:1500}],surface:1,turn:1},"10504":{corners:[{length:250,start:375},{length:250,start:625},{length:250,start:1200},{length:250,start:1450}],course:2,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10005,slopes:[{length:200,slope:15e3,start:325},{length:110,slope:2e4,start:125},{length:400,slope:-15e3,start:625},{length:110,slope:2e4,start:1825}],straights:[{end:375,start:0},{end:1200,start:875},{end:2e3,start:1700}],surface:1,turn:1},"10505":{corners:[{length:247,start:403},{length:450,start:650},{length:350,start:1300},{length:250,start:1650}],course:3,courseSetStatus:[2,4],distance:2200,distanceType:3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:153},{length:200,slope:15e3,start:353},{length:300,slope:-15e3,start:900},{length:110,slope:2e4,start:2025}],straights:[{end:403,start:0},{end:2200,start:1900}],surface:1,turn:1},"10506":{corners:[{length:146,start:100},{length:250,start:246},{length:250,start:875},{length:250,start:1125},{length:250,start:1700},{length:250,start:1950}],course:2,courseSetStatus:[2,4],distance:2500,distanceType:4,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:621},{length:200,slope:15e3,start:825},{length:400,slope:-15e3,start:1125},{length:110,slope:2e4,start:2325}],straights:[{end:875,start:496},{end:1700,start:1375},{end:2500,start:2200}],surface:1,turn:1},"10507":{corners:[{length:250,start:290},{length:250,start:540},{length:250,start:1115},{length:250,start:1365},{length:250,start:1975},{length:250,start:2225},{length:250,start:2800},{length:250,start:3050}],course:2,courseSetStatus:[2],distance:3600,distanceType:4,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:40},{length:200,slope:15e3,start:240},{length:400,slope:-15e3,start:540},{length:110,slope:2e4,start:1740},{length:200,slope:15e3,start:1925},{length:400,slope:-15e3,start:2225},{length:110,slope:2e4,start:3425}],straights:[{end:290,start:0},{end:1115,start:790},{end:1975,start:1615},{end:2800,start:2475},{end:3600,start:3300}],surface:1,turn:1},"10508":{corners:[{length:200,start:500},{length:200,start:700}],course:1,courseSetStatus:[3],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{length:175,slope:-15e3,start:175},{length:175,slope:15e3,start:1e3}],straights:[{end:500,start:0},{end:1200,start:900}],surface:2,turn:1},"10509":{corners:[{length:200,start:350},{length:200,start:550},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{length:175,slope:15e3,start:100},{length:175,slope:1e4,start:350},{length:175,slope:-15e3,start:775},{length:175,slope:15e3,start:1600}],straights:[{end:350,start:0},{end:1100,start:750},{end:1800,start:1500}],surface:2,turn:1},"10510":{corners:[{length:200,start:200},{length:200,start:400},{length:200,start:950},{length:200,start:1150},{length:200,start:1700},{length:200,start:1900}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10005,slopes:[],straights:[{end:200,start:0},{end:950,start:600},{end:1700,start:1350},{end:2400,start:2100}],surface:2,turn:1},"10511":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1050},{length:200,start:1250},{length:200,start:1800},{length:200,start:2e3}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10005,slopes:[],straights:[{end:300,start:0},{end:1050,start:700},{end:1800,start:1450},{end:2500,start:2200}],surface:2,turn:1},"10601":{corners:[{length:275,start:350},{length:275,start:625}],course:1,courseSetStatus:[2,3],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:125},{length:250,slope:-15e3,start:250},{length:150,slope:15e3,start:950}],straights:[{end:350,start:0},{end:1400,start:900}],surface:1,turn:2},"10602":{corners:[{length:275,start:550},{length:275,start:825}],course:1,courseSetStatus:[2,4],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{length:250,slope:-15e3,start:450},{length:75,slope:2e4,start:325},{length:150,slope:15e3,start:1150}],straights:[{end:550,start:0},{end:1600,start:1100}],surface:1,turn:2},"10603":{corners:[{length:250,start:75},{length:275,start:750},{length:275,start:1025}],course:1,courseSetStatus:[1],distance:1800,distanceType:2,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:525},{length:250,slope:-15e3,start:650},{length:150,slope:15e3,start:1350}],straights:[{end:750,start:325},{end:1800,start:1300}],surface:1,turn:2},"10604":{corners:[{length:200,start:200},{length:275,start:950},{length:275,start:1225}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:725},{length:250,slope:-15e3,start:850},{length:150,slope:15e3,start:1550}],straights:[{end:950,start:400},{end:2e3,start:1500}],surface:1,turn:2},"10605":{corners:[{length:250,start:225},{length:325,start:475},{length:275,start:1250},{length:275,start:1525}],course:1,courseSetStatus:[3],distance:2300,distanceType:3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:1025},{length:250,slope:-15e3,start:1150},{length:150,slope:15e3,start:1850}],straights:[{end:225,start:0},{end:1250,start:800},{end:2300,start:1800}],surface:1,turn:2},"10606":{corners:[{length:250,start:325},{length:325,start:575},{length:275,start:1350},{length:275,start:1625}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10006,slopes:[{length:40,slope:15e3,start:0},{length:75,slope:2e4,start:1125},{length:250,slope:-15e3,start:1250},{length:150,slope:15e3,start:1950}],straights:[{end:325,start:0},{end:1350,start:900},{end:2400,start:1900}],surface:1,turn:2},"10607":{corners:[{length:250,start:425},{length:325,start:675},{length:275,start:1450},{length:275,start:1725}],course:1,courseSetStatus:[2],distance:2500,distanceType:4,raceTrackId:10006,slopes:[{length:140,slope:15e3,start:0},{length:75,slope:2e4,start:1225},{length:250,slope:-15e3,start:1350},{length:150,slope:15e3,start:2050}],straights:[{end:425,start:0},{end:1450,start:1e3},{end:2500,start:2e3}],surface:1,turn:2},"10608":{corners:[{length:275,start:292},{length:275,start:567},{length:250,start:1325},{length:325,start:1575},{length:275,start:2350},{length:275,start:2625}],course:1,courseSetStatus:[],distance:3400,distanceType:4,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:67},{length:250,slope:-15e3,start:192},{length:150,slope:15e3,start:892},{length:75,slope:2e4,start:2125},{length:250,slope:-15e3,start:2250},{length:150,slope:15e3,start:2950}],straights:[{end:292,start:0},{end:1325,start:842},{end:2350,start:1900},{end:3400,start:2900}],surface:1,turn:2},"10609":{corners:[{length:225,start:350},{length:225,start:575}],course:1,courseSetStatus:[1],distance:1300,distanceType:1,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:275},{length:250,slope:15e3,start:800}],straights:[{end:350,start:0},{end:1300,start:800}],surface:2,turn:2},"10610":{corners:[{length:225,start:450},{length:225,start:675}],course:1,courseSetStatus:[2],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:375},{length:250,slope:15e3,start:900}],straights:[{end:450,start:0},{end:1400,start:900}],surface:2,turn:2},"10611":{corners:[{length:225,start:650},{length:225,start:875}],course:1,courseSetStatus:[1,2],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:575},{length:250,slope:15e3,start:1100}],straights:[{end:650,start:0},{end:1600,start:1100}],surface:2,turn:2},"10612":{corners:[{length:250,start:200},{length:250,start:450},{length:225,start:1150},{length:225,start:1375}],course:1,courseSetStatus:[],distance:2100,distanceType:3,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:1075},{length:250,slope:15e3,start:1600}],straights:[{end:200,start:0},{end:1150,start:700},{end:2100,start:1600}],surface:2,turn:2},"10613":{corners:[{length:250,start:500},{length:250,start:750},{length:225,start:1450},{length:225,start:1675},{length:500,start:2348}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10006,slopes:[],straights:[{end:500,start:0},{end:1450,start:1e3},{end:2400,start:1900}],surface:2,turn:2},"10701":{corners:[{length:250,start:300},{length:250,start:550}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:100},{length:100,slope:2e4,start:875}],straights:[{end:300,start:0},{end:1200,start:800}],surface:1,turn:2},"10702":{corners:[{length:250,start:500},{length:250,start:750}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:300},{length:100,slope:2e4,start:1075}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:2},"10703":{corners:[{length:150,start:150},{length:250,start:700},{length:250,start:950}],course:1,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:500},{length:100,slope:2e4,start:1275}],straights:[{end:700,start:300},{end:1600,start:1200}],surface:1,turn:2},"10704":{corners:[{length:200,start:300},{length:200,start:500},{length:250,start:1100},{length:250,start:1350}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10007,slopes:[{length:50,slope:2e4,start:0},{length:775,slope:-1e4,start:900},{length:100,slope:2e4,start:1675}],straights:[{end:300,start:0},{end:1100,start:700},{end:2e3,start:1600}],surface:1,turn:2},"10705":{corners:[{length:200,start:500},{length:200,start:700},{length:250,start:1300},{length:250,start:1550}],course:1,courseSetStatus:[2],distance:2200,distanceType:3,raceTrackId:10007,slopes:[{length:150,slope:-1e4,start:0},{length:100,slope:2e4,start:150},{length:775,slope:-1e4,start:1100},{length:100,slope:2e4,start:1875}],straights:[{end:500,start:0},{end:1300,start:900},{end:2200,start:1800}],surface:1,turn:2},"10706":{corners:[{length:200,start:400},{length:200,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[],straights:[{end:400,start:0},{end:1200,start:800}],surface:2,turn:2},"10707":{corners:[{length:200,start:600},{length:200,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{length:600,slope:-15e3,start:425},{length:150,slope:15e3,start:1025}],straights:[{end:600,start:0},{end:1400,start:1e3}],surface:2,turn:2},"10708":{corners:[{length:165,start:270},{length:165,start:435},{length:200,start:1e3},{length:200,start:1200}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10007,slopes:[{length:50,slope:15e3,start:0},{length:600,slope:-15e3,start:825},{length:150,slope:15e3,start:1425}],straights:[{end:270,start:0},{end:1e3,start:600},{end:1800,start:1400}],surface:2,turn:2},"10709":{corners:[{length:165,start:370},{length:165,start:535},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10007,slopes:[],straights:[{end:370,start:0},{end:1100,start:700},{end:1900,start:1500}],surface:2,turn:2},"10801":{corners:[{length:275,start:320},{length:275,start:595}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:120},{length:150,slope:-15e3,start:420}],straights:[{end:320,start:0},{end:1200,start:870}],surface:1,turn:1},"10802":{corners:[{length:275,start:520},{length:275,start:795}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:320},{length:150,slope:-15e3,start:620}],straights:[{end:520,start:0},{end:1400,start:1070}],surface:1,turn:1},"10803":{corners:[{length:250,start:500},{length:250,start:750}],course:3,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:250},{length:225,slope:1e4,start:350},{length:150,slope:-2e4,start:575}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:1},"10804":{corners:[{length:275,start:720},{length:275,start:995}],course:2,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:520},{length:150,slope:-15e3,start:820}],straights:[{end:720,start:200},{end:1600,start:1270}],surface:1,turn:1},"10805":{corners:[{length:250,start:700},{length:250,start:950}],course:3,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:450},{length:225,slope:1e4,start:550},{length:150,slope:-2e4,start:775}],straights:[{end:700,start:200},{end:1600,start:1200}],surface:1,turn:1},"10806":{corners:[{length:250,start:900},{length:250,start:1150}],course:3,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:650},{length:225,slope:1e4,start:750},{length:150,slope:-2e4,start:975}],straights:[{end:900,start:400},{end:1800,start:1400}],surface:1,turn:1},"10807":{corners:[{length:185,start:400},{length:185,start:585},{length:250,start:1170},{length:250,start:1420}],course:2,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:970},{length:150,slope:-15e3,start:1270}],straights:[{end:400,start:0},{end:1170,start:770},{end:2e3,start:1670}],surface:1,turn:1},"10808":{corners:[{length:200,start:400},{length:200,start:600},{length:250,start:1300},{length:250,start:1550}],course:3,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1050},{length:225,slope:1e4,start:1150},{length:150,slope:-2e4,start:1375}],straights:[{end:400,start:0},{end:1300,start:800},{end:2200,start:1800}],surface:1,turn:1},"10809":{corners:[{length:200,start:600},{length:200,start:800},{length:250,start:1500},{length:250,start:1750}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10008,slopes:[{length:225,slope:1e4,start:1350},{length:100,slope:2e4,start:1250},{length:150,slope:-2e4,start:1575}],straights:[{end:600,start:0},{end:1500,start:1e3},{end:2400,start:2e3}],surface:1,turn:1},"10810":{corners:[{length:250,start:261},{length:250,start:511},{length:200,start:1250},{length:200,start:1450},{length:250,start:2100},{length:250,start:2350}],course:3,courseSetStatus:[3,5],distance:3e3,distanceType:4,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:11},{length:225,slope:1e4,start:111},{length:150,slope:-2e4,start:336},{length:225,slope:1e4,start:1950},{length:100,slope:2e4,start:1850},{length:150,slope:-2e4,start:2175}],straights:[{end:261,start:0},{end:1250,start:761},{end:2100,start:1650},{end:3e3,start:2600}],surface:1,turn:1},"10811":{corners:[{length:250,start:458},{length:250,start:708},{length:200,start:1450},{length:200,start:1650},{length:250,start:2300},{length:250,start:2550}],course:3,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:208},{length:225,slope:1e4,start:308},{length:150,slope:-2e4,start:533},{length:100,slope:2e4,start:2050},{length:150,slope:-2e4,start:2375},{length:225,slope:1e4,start:2150}],straights:[{end:458,start:0},{end:1450,start:958},{end:2300,start:1850},{end:3200,start:2800}],surface:1,turn:1},"10812":{corners:[{length:225,start:400},{length:225,start:625}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:175},{length:200,slope:-15e3,start:475}],straights:[{end:400,start:0},{end:1200,start:850}],surface:2,turn:1},"10813":{corners:[{length:225,start:600},{length:225,start:825}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:375},{length:200,slope:-15e3,start:675}],straights:[{end:600,start:100},{end:1400,start:1050}],surface:2,turn:1},"10814":{corners:[{length:150,start:300},{length:150,start:450},{length:225,start:1e3},{length:225,start:1225}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:775},{length:200,slope:-15e3,start:1075}],straights:[{end:300,start:0},{end:1e3,start:600},{end:1800,start:1450}],surface:2,turn:1},"10815":{corners:[{length:150,start:400},{length:150,start:550},{length:225,start:1100},{length:225,start:1325}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:875},{length:200,slope:-15e3,start:1175}],straights:[{end:400,start:0},{end:1100,start:700},{end:1900,start:1550}],surface:2,turn:1},"10901":{corners:[{length:300,start:250},{length:300,start:550}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:400},{length:125,slope:2e4,start:1e3}],straights:[{end:250,start:0},{end:1200,start:850}],surface:1,turn:1},"10902":{corners:[{length:300,start:450},{length:300,start:750}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:600},{length:125,slope:2e4,start:1200}],straights:[{end:450,start:0},{end:1400,start:1050}],surface:1,turn:1},"10903":{corners:[{length:350,start:450},{length:350,start:800}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:950},{length:120,slope:2e4,start:1405}],straights:[{end:450,start:0},{end:1600,start:1150}],surface:1,turn:1},"10904":{corners:[{length:350,start:650},{length:350,start:1e3}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:1150},{length:120,slope:2e4,start:1605}],straights:[{end:650,start:0},{end:1800,start:1350}],surface:1,turn:1},"10905":{corners:[{length:190,start:370},{length:190,start:560},{length:300,start:1050},{length:300,start:1350}],course:2,courseSetStatus:[4],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{length:140,slope:-1e4,start:0},{length:125,slope:2e4,start:145},{length:595,slope:-1e4,start:1200},{length:125,slope:2e4,start:1800}],straights:[{end:370,start:0},{end:1050,start:750},{end:2e3,start:1650}],surface:1,turn:1},"10906":{corners:[{length:190,start:520},{length:190,start:710},{length:300,start:1250},{length:300,start:1550}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10009,slopes:[{length:290,slope:-1e4,start:0},{length:125,slope:2e4,start:295},{length:595,slope:-1e4,start:1400},{length:125,slope:2e4,start:2e3}],straights:[{end:520,start:0},{end:1250,start:900},{end:2200,start:1850}],surface:1,turn:1},"10907":{corners:[{length:190,start:382},{length:190,start:558},{length:350,start:1250},{length:350,start:1600}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10009,slopes:[{length:132,slope:-1e4,start:0},{length:120,slope:2e4,start:187},{length:400,slope:-1e4,start:1750},{length:120,slope:2e4,start:2205}],straights:[{end:1250,start:750},{end:2400,start:1950}],surface:1,turn:1},"10908":{corners:[{length:190,start:570},{length:190,start:760},{length:350,start:1450},{length:350,start:1800}],course:3,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10009,slopes:[{length:315,slope:-1e4,start:0},{length:120,slope:2e4,start:370},{length:400,slope:-1e4,start:1950},{length:120,slope:2e4,start:2405}],straights:[{end:570,start:0},{end:1450,start:950},{end:2600,start:2150}],surface:1,turn:1},"10909":{corners:[{length:300,start:348},{length:300,start:648},{length:190,start:1320},{length:190,start:1510},{length:300,start:2050},{length:300,start:2350}],course:2,courseSetStatus:[3],distance:3e3,distanceType:4,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:498},{length:125,slope:2e4,start:1095},{length:595,slope:-1e4,start:2200},{length:125,slope:2e4,start:2800}],straights:[{end:348,start:0},{end:1320,start:948},{end:2050,start:1700},{end:3e3,start:2650}],surface:1,turn:1},"10910":{corners:[{length:250,start:350},{length:250,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[],straights:[{end:350,start:0},{end:1200,start:850}],surface:2,turn:1},"10911":{corners:[{length:250,start:550},{length:250,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:1200}],straights:[{end:550,start:0},{end:1400,start:1050}],surface:2,turn:1},"10912":{corners:[{length:150,start:330},{length:150,start:480},{length:250,start:950},{length:250,start:1200}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:105},{length:125,slope:15e3,start:1599}],straights:[{end:330,start:0},{end:950,start:630},{end:1800,start:1449}],surface:2,turn:1},"10913":{corners:[{length:150,start:500},{length:150,start:650},{length:250,start:1150},{length:250,start:1400}],course:1,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:275},{length:125,slope:15e3,start:1800}],straights:[{end:500,start:0},{end:1150,start:800},{end:2e3,start:1650}],surface:2,turn:1},"10914":{corners:[{length:350,start:370},{length:350,start:720},{length:190,start:1520},{length:190,start:1710},{length:300,start:2250},{length:300,start:2550}],course:4,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:870},{length:120,slope:2e4,start:1325},{length:595,slope:-1e4,start:2400},{length:125,slope:2e4,start:3e3}],straights:[{end:370,start:0},{end:1520,start:1070},{end:2250,start:1900},{end:3200,start:2850}],surface:1,turn:1},"11001":{corners:[{length:205,start:500},{length:205,start:705}],course:1,courseSetStatus:[1],distance:1200,distanceType:1,raceTrackId:10010,slopes:[{length:60,slope:-15e3,start:0}],straights:[{end:500,start:0},{end:1200,start:910}],surface:1,turn:1},"11002":{corners:[{length:205,start:290},{length:205,start:495},{length:205,start:1100},{length:205,start:1305}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:280}],straights:[{end:290,start:0},{end:1100,start:700},{end:1800,start:1510}],surface:1,turn:1},"11003":{corners:[{length:205,start:490},{length:205,start:695},{length:205,start:1300},{length:205,start:1505}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:480}],straights:[{end:490,start:0},{end:1300,start:900},{end:2e3,start:1710}],surface:1,turn:1},"11004":{corners:[{length:205,start:309},{length:205,start:514},{length:205,start:1110},{length:205,start:1315},{length:205,start:1900},{length:205,start:2105}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:1100}],straights:[{end:309,start:0},{end:1110,start:719},{end:1900,start:1520},{end:2600,start:2310}],surface:1,turn:1},"11005":{corners:[{length:180,start:360},{length:180,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,raceTrackId:10010,slopes:[],straights:[{end:360,start:0},{end:1e3,start:720}],surface:2,turn:1},"11006":{corners:[{length:180,start:340},{length:180,start:520},{length:180,start:1060},{length:180,start:1240}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10010,slopes:[{length:150,slope:15e3,start:370}],straights:[{end:340,start:0},{end:1060,start:700},{end:1700,start:1420}],surface:2,turn:1},"11007":{corners:[{length:180,start:312},{length:180,start:492},{length:180,start:1040},{length:180,start:1220},{length:180,start:1760},{length:180,start:1940}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10010,slopes:[],straights:[{end:312,start:0},{end:1040,start:672},{end:1760,start:1400},{end:2400,start:2120}],surface:2,turn:1},"11101":{corners:[{length:150,start:500},{length:150,start:650}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1200,start:812}],surface:2,turn:1},"11102":{corners:[{length:150,start:300},{length:150,start:500},{length:150,start:1100},{length:150,start:1250}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10101,slopes:[],straights:[{end:301,start:0},{end:1100.23,start:600},{end:1800,start:1400}],surface:2,turn:1},"11103":{corners:[{length:150,start:500},{length:150,start:650},{length:150,start:1300},{length:150,start:1450}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1300,start:800},{end:2e3,start:1600}],surface:2,turn:1}};var Ha=Ln().strict,xc=(r=>(r[r.Turf=1]="Turf",r[r.Dirt=2]="Dirt",r))(xc||{}),up=(i=>(i[i.Short=1]="Short",i[i.Mile=2]="Mile",i[i.Mid=3]="Mid",i[i.Long=4]="Long",i))(up||{}),fp=(i=>(i[i.Clockwise=1]="Clockwise",i[i.Counterclockwise=2]="Counterclockwise",i[i.UnusedOrientation=3]="UnusedOrientation",i[i.NoTurns=4]="NoTurns",i))(fp||{});var D;(u=>{function t(f){Ha(f==0||f==1||f==2||f==3)}u.assertIsPhase=t;function e(f){Ha(xc.hasOwnProperty(f))}u.assertIsSurface=e;function r(f){Ha(up.hasOwnProperty(f))}u.assertIsDistanceType=r;function n(f){Ha(fp.hasOwnProperty(f))}u.assertIsOrientation=n;function i(f){let l=[!0,-1];function d(h,_){return[h[0]&&_.start>h[1],_.start]}return f.reduce(d,l)[0]}u.isSortedByStart=i;function o(f,l){switch(l){case 0:return 0;case 1:return f*1/6;case 2:return f*2/3;case 3:return f*5/6}}u.phaseStart=o;function a(f,l){switch(l){case 0:return f*1/6;case 1:return f*2/3;case 2:return f*5/6;case 3:return f}}u.phaseEnd=a;function s(f,l){let d=[0,l.speed,l.stamina,l.power,l.guts,l.wisdom].map(h=>Math.min(h,901));return 1+f.courseSetStatus.map(h=>(1+Math.floor(d[h]/300.01))*.05).reduce((h,_)=>h+_,0)/Math.max(f.courseSetStatus.length,1)}u.courseSpeedModifier=s;function c(f){let l=_e[f];return i(l.slopes)||l.slopes.sort((d,h)=>d.start-h.start),Object.keys(l).forEach(d=>Object.freeze(l[d])),Object.freeze(l)}u.getCourse=c})(D||={});var uy=Ln().strict,Fa=(o=>(o[o.Nige=1]="Nige",o[o.Senkou=2]="Senkou",o[o.Sasi=3]="Sasi",o[o.Oikomi=4]="Oikomi",o[o.Oonige=5]="Oonige",o))(Fa||{});var Nn;(r=>{function t(n){uy(Fa.hasOwnProperty(n))}r.assertIsStrategy=t;function e(n,i){return n==i||n==1&&i==5||n==5&&i==1}r.strategyMatches=e})(Nn||={});var R=class t{constructor(e,r){this.start=e;this.end=r}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.end,e.end);return n<=r?new t(-1,-1):new t(r,n)}fullyContains(e){return this.start<=e.start&&this.end>=e.end}},V=class t extends Array{rmap(e){let r=new t;return this.forEach(n=>{let i=e(n);Array.isArray(i)?i.forEach(o=>{o.start>-1&&r.push(o)}):i.start>-1&&r.push(i)}),r}union(e){let r=[],n=new t;return r.push.apply(r,this),r.push.apply(r,e),r.length==0||(r.sort((i,o)=>i.start-o.start),n.push(r.reduce((i,o)=>i.fullyContains(o)?i:i.start<=o.start&&o.start<i.end?new R(i.start,o.end):i.start<o.end&&o.end<=i.end?new R(o.start,i.end):(n.push(i),o)))),n}};var Kt=class{constructor(e,r=0){this.int32=this.int32_first;this.hi=r>>>0,this.lo=e>>>0}step(){let e=this.hi>>>31,r=this.hi<<1|this.lo>>>31,n=this.lo<<1|e;e=this.hi<<31;let i=this.hi>>>1|this.lo<<31,o=this.lo>>>1|e;this.hi=i^(this.hi|r),this.lo=o^(this.lo|n)}pair(){let e=0,r=0;for(let n=0;n<16;++n)e=e<<2|(this.hi&65536)>>>15|this.hi&1,r=r<<2|(this.hi&16777216)>>>23|(this.hi&256)>>>8,this.step();return[e,r]}int32_first(){let[e,r]=this.pair();return this.next=r,this.int32=this.int32_second,e}int32_second(){return this.int32=this.int32_first,this.next}random(){let[o,a]=this.pair();return((o&67108863)*134217728+(a&134217727))/9007199254740992}uniform(e){let r=-1>>>Math.clz32(e-1|1),n=0;do n=this.int32()&r;while(n>=e);return n}};var wr=Object.freeze({sample(t,e,r){return t.slice(0,1)},reconcile(t){return t.reconcileImmediate(this)},reconcileImmediate(t){return t},reconcileDistributionRandom(t){return t},reconcileRandom(t){return t},reconcileStraightRandom(t){return t},reconcileAllCornerRandom(t){return t}}),Ic=Object.freeze({sample(t,e,r){if(t.length==0)return[];let n=0,i=t.map(a=>n+=a.end-a.start),o=[];for(let a=0;a<e;++a){let s=r.uniform(n),c=t.find((u,f)=>i[f]>s);o.push(c.start+r.uniform(c.end-c.start-10))}return o.map(a=>new R(a,a+10))},reconcile(t){return t.reconcileRandom(this)},reconcileImmediate(t){return this},reconcileDistributionRandom(t){return this},reconcileRandom(t){return t},reconcileStraightRandom(t){return t},reconcileAllCornerRandom(t){return t}}),oo=class{sample(e,r,n){if(e.length==0)return[];let i=e.reduce((c,u)=>c+u.end-u.start,0),o=e.slice().sort((c,u)=>c.start-u.start),a=this.distribution(i,r,n),s=[];for(let c=0;c<r;++c){let u=a[c];for(let f=0;;f++)if(u+=o[f].start,u>o[f].end)u-=o[f].end;else{s.push(new R(u,o[f].end));break}}return s}reconcile(e){return e.reconcileDistributionRandom(this)}reconcileImmediate(e){return this}reconcileDistributionRandom(e){return this}reconcileRandom(e){return e}reconcileStraightRandom(e){return e}reconcileAllCornerRandom(e){return e}},Ba=class extends oo{constructor(){super()}distribution(e,r,n){let i=[];for(let o=0;o<r;++o)i.push(n.uniform(e));return i}},ja=class extends oo{constructor(r,n){super();this.mu=r;this.sigma=n}distribution(r,n,i){let o=[],a=1/0,s=0,c=Math.ceil(n/2);for(let f=0;f<c;++f){let l,d,h;do l=i.random()*2-1,d=i.random()*2-1,h=l*l+d*d;while(h==0||h>=1);let _=Math.sqrt(-2*Math.log(h)/h)*this.sigma,m=Math.exp(l*_+this.mu),v=Math.exp(d*_+this.mu);a=Math.min(a,m,v),s=Math.max(s,m,v),o.push(m,v)}let u=s-a;return o.map(f=>Math.floor(r*(f-a)/u))}},Ua=class extends oo{constructor(r,n){super();this.k=r;this.lambda=n}distribution(r,n,i){let o=[],a=1/0,s=0;for(let u=0;u<n;++u){let f=1;for(let d=0;d<this.k;++d)f*=i.random();let l=-Math.log(f)/this.lambda;a=Math.min(a,l),s=Math.max(s,l),o.push(l)}let c=n==1?18:s-a;return o.map(u=>Math.floor(r*(u-a)/c))}},kc=Object.freeze({sample(t,e,r){if(t.length==0)return[];let n=[];for(let i=0;i<e;++i){let o=t[r.uniform(t.length)];n.push(o.start+r.uniform(o.end-o.start-10))}return n.map(i=>new R(i,i+10))},reconcile(t){return t.reconcileStraightRandom(this)},reconcileImmediate(t){return this},reconcileDistributionRandom(t){return this},reconcileRandom(t){return this},reconcileStraightRandom(t){return t},reconcileAllCornerRandom(t){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")}}),lp=Object.freeze({placeTriggers(t,e){let r=[],n=t.slice();for(n.sort((i,o)=>i.start-o.start);r.length<4&&n.length>0;){let i=e.uniform(n.length),o=n[i],a=o.start+e.uniform(o.end-o.start-10);a+20<=o.end?n.splice(i,1,new R(a+10,o.end)):n.splice(i,1),n.splice(0,i),r.push(a)}return new R(r[0],r[0]+10)},sample(t,e,r){let n=[];for(let i=0;i<e;++i)n.push(this.placeTriggers(t,r));return n},reconcile(t){return t.reconcileAllCornerRandom(this)},reconcileImmediate(t){return this},reconcileDistributionRandom(t){return this},reconcileRandom(t){return this},reconcileStraightRandom(t){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")},reconcileAllCornerRandom(t){return this}});var W=Ln().strict;function Ga(t){return!0}function Fn(t){return t instanceof V?[t,Ga]:t}var Ka=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterEq(e,this.argument,r,n,i))}},Ya=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterNeq(e,this.argument,r,n,i))}},Va=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterLt(e,this.argument,r,n,i))}},$a=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterLte(e,this.argument,r,n,i))}},Xa=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterGt(e,this.argument,r,n,i))}},Ja=class{constructor(e,r){this.condition=e;this.argument=r;this.samplePolicy=e.samplePolicy}apply(e,r,n,i){return Fn(this.condition.filterGte(e,this.argument,r,n,i))}},xr=class{constructor(e,r){this.left=e;this.right=r;this.samplePolicy=e.samplePolicy.reconcile(r.samplePolicy)}apply(e,r,n,i){let[o,a]=this.left.apply(e,r,n,i),[s,c]=this.right.apply(o,r,n,i);return a===Ga&&c===Ga?[s,Ga]:[s,u=>a(u)&&c(u)]}},Hn=class{constructor(e,r){this.left=e;this.right=r;this.samplePolicy=e.samplePolicy.reconcile(r.samplePolicy)}apply(e,r,n,i){let[o,a]=this.left.apply(e,r,n,i),[s,c]=this.right.apply(e,r,n,i);return[o.union(s),u=>a(u)||c(u)]}};function U(t,e,r,n,i){throw W(!1,"unsupported comparison"),0}function qn(t,e,r,n,i){return t}var Za=Object.freeze({filterEq:qn,filterNeq:qn,filterLt:qn,filterLte:qn,filterGt:qn,filterGte:qn}),pt=Object.freeze(Object.assign({samplePolicy:wr},Za)),dp=Object.freeze(Object.assign({samplePolicy:Ic},Za)),fy=Object.freeze({samplePolicy:wr,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U});function $(t){return Object.assign({},fy,t)}var ly=Object.freeze({samplePolicy:Ic,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U});function Yt(t){return Object.assign({},ly,t)}function Cc(t){let e=Object.create(null);return function(...r){let n=r.pop(),i=r.join(","),o=i in e?e[i]:e[i]=Object.freeze(new t(...r));return Object.assign({samplePolicy:o,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},n)}}var wC=Cc(ja),Wa=Cc(Ua),pp=Cc(Ba);function Nt(t,e){return Wa(t,e,Za)}var xC=pp(Za);function qt(t){return $({filterEq(e,r,n,i,o){return t(n,i,o)==r?e:new V},filterNeq(e,r,n,i,o){return t(n,i,o)!=r?e:new V},filterLt(e,r,n,i,o){return t(n,i,o)<r?e:new V},filterLte(e,r,n,i,o){return t(n,i,o)<=r?e:new V},filterGt(e,r,n,i,o){return t(n,i,o)>r?e:new V},filterGte(e,r,n,i,o){return t(n,i,o)>=r?e:new V}})}var Qa=Object.freeze({accumulatetime:$({filterGte(t,e,r,n,i){return[t,o=>o.accumulatetime.t>=e]}}),activate_count_all:$({filterLte(t,e,r,n,i){return[t,o=>o.activateCount.reduce((a,s)=>a+s)<=e]},filterGte(t,e,r,n,i){return[t,o=>o.activateCount.reduce((a,s)=>a+s)>=e]}}),activate_count_end_after:$({filterGte(t,e,r,n,i){return[t,o=>o.activateCount[2]>=e]}}),activate_count_heal:$({filterGte(t,e,r,n,i){return[t,o=>o.activateCountHeal>=e]}}),activate_count_middle:$({filterGte(t,e,r,n,i){return[t,o=>o.activateCount[1]>=e]}}),activate_count_start:$({filterGte(t,e,r,n,i){return[t,o=>o.activateCount[0]>=e]}}),all_corner_random:{samplePolicy:lp,filterEq(t,e,r,n,i){W(e==1,"must be all_corner_random==1");let o=r.corners.map(a=>new R(a.start,a.start+a.length));return t.rmap(a=>o.map(s=>a.intersect(s)))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},always:pt,base_power:qt((t,e,r)=>e.power),base_speed:qt((t,e,r)=>e.speed),base_stamina:qt((t,e,r)=>e.stamina),base_guts:qt((t,e,r)=>e.guts),base_wiz:qt((t,e,r)=>e.wisdom),bashin_diff_behind:Nt(3,2),bashin_diff_infront:Nt(3,2),behind_near_lane_time:Nt(3,2),behind_near_lane_time_set1:Nt(3,2),blocked_all_continuetime:Nt(3,2),blocked_front:Nt(3,2),blocked_front_continuetime:Nt(3,2),blocked_side_continuetime:Nt(3,2),change_order_onetime:Nt(3,2),change_order_up_end_after:Wa(3,2,{filterGte(t,e,r,n,i){let o=new R(D.phaseStart(r.distance,2),r.distance);return t.rmap(a=>a.intersect(o))}}),change_order_up_finalcorner_after:Wa(3,2,{filterGte(t,e,r,n,i){if(W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new V;let o=r.corners[r.corners.length-1].start,a=new R(o,r.distance);return t.rmap(s=>s.intersect(a))}}),change_order_up_middle:Wa(3,2,{filterGte(t,e,r,n,i){let o=new R(D.phaseStart(r.distance,1),D.phaseEnd(r.distance,1));return t.rmap(a=>a.intersect(o))}}),compete_fight_count:pp({filterGt(t,e,r,n,i){W(D.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1];return t.rmap(a=>a.intersect(o))}}),corner:$({filterEq(t,e,r,n,i){if(W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),e==0){let o=0,a=r.corners.map(s=>{let c=new R(o,s.start);return o=s.start+s.length,c});return o!=r.distance&&a.push(new R(o,r.distance)),t.rmap(s=>a.map(c=>s.intersect(c)))}else if(r.corners.length+e>=5){let o=[];for(let a=r.corners.length+e-5;a>=0;a-=4){let s=r.corners[a];o.push(new R(s.start,s.start+s.length))}return o.reverse(),t.rmap(a=>o.map(s=>a.intersect(s)))}else return new V},filterNeq(t,e,r,n,i){W(e==0,"only supports corner!=0");let o=r.corners.map(a=>new R(a.start,a.start+a.length));return t.rmap(a=>o.map(s=>a.intersect(s)))}}),corner_count:qt((t,e,r)=>t.corners.length),corner_random:Yt({filterEq(t,e,r,n,i){if(W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length+e>=5){let o=r.corners[r.corners.length+e-5],a=new R(o.start,o.start+o.length);return t.rmap(s=>s.intersect(a))}else return new V}}),course_distance:qt((t,e,r)=>t.distance),distance_diff_rate:pt,distance_diff_top:pt,distance_diff_top_float:pt,distance_rate:$({filterLte(t,e,r,n,i){let o=new R(0,r.distance*e/100);return t.rmap(a=>a.intersect(o))},filterGte(t,e,r,n,i){let o=new R(r.distance*e/100,r.distance);return t.rmap(a=>a.intersect(o))}}),distance_rate_after_random:Yt({filterEq(t,e,r,n,i){let o=new R(r.distance*e/100,r.distance);return t.rmap(a=>a.intersect(o))}}),distance_type:$({filterEq(t,e,r,n,i){return D.assertIsDistanceType(e),r.distanceType==e?t:new V},filterNeq(t,e,r,n,i){return D.assertIsDistanceType(e),r.distanceType!=e?t:new V}}),down_slope_random:Yt({filterEq(t,e,r,n,i){W(e==1,"must be down_slope_random==1");let o=r.slopes.filter(a=>a.slope<0).map(a=>new R(a.start,a.start+a.length));return t.rmap(a=>o.map(s=>a.intersect(s)))}}),grade:qt((t,e,r)=>r.grade),ground_condition:qt((t,e,r)=>r.groundCondition),ground_type:qt((t,e,r)=>t.surface),hp_per:$({filterLte(t,e,r,n,i){return e/=100,[t,o=>o.hp.hpRatioRemaining()<=e]},filterGte(t,e,r,n,i){return e/=100,[t,o=>o.hp.hpRatioRemaining()>=e]}}),infront_near_lane_time:Nt(3,2),is_activate_other_skill_detail:$({filterEq(t,e,r,n,i){return W(e==1,"must be is_activate_other_skill_detail==1"),[t,o=>o.usedSkills.has(i.skillId)]}}),is_basis_distance:$({filterEq(t,e,r,n,i){return W(e==0||e==1,"must be is_basis_distance==0 or is_basis_distance==1"),Math.min(r.distance%400,1)!=e?t:new V}}),is_badstart:$({filterEq(t,e,r,n,i){return W(e==0||e==1,"must be is_badstart==0 or is_badstart==1"),[t,e?a=>a.startDelay>.08:a=>a.startDelay<=.08]}}),is_behind_in:pt,is_dirtgrade:$({filterEq(t,e,r,n,i){return W(e==1,"must be is_dirtgrade==1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)>-1?t:new V},filterNeq(t,e,r,n,i){return W(e==1,"must be is_dirtgrade!=1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)==-1?t:new V}}),is_finalcorner:$({filterEq(t,e,r,n,i){if(W(e==0||e==1,"must be is_finalcorner==0 or is_finalcorner==1"),W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new V;let o=r.corners[r.corners.length-1].start,a=e?new R(o,r.distance):new R(0,o);return t.rmap(s=>s.intersect(a))}}),is_finalcorner_laterhalf:$({filterEq(t,e,r,n,i){if(W(e==1,"must be is_finalcorner_laterhalf==1"),W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new V;let o=r.corners[r.corners.length-1],a=new R((o.start+o.start+o.length)/2,o.start+o.length);return t.rmap(s=>s.intersect(a))}}),is_finalcorner_random:Yt({filterEq(t,e,r,n,i){if(W(e==1,"must be is_finalcorner_random==1"),W(D.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new V;let o=r.corners[r.corners.length-1],a=new R(o.start,o.start+o.length);return t.rmap(s=>s.intersect(a))}}),is_lastspurt:$({filterEq(t,e,r,n,i){W(e==1,"must be is_lastspurt==1");let o=new R(D.phaseStart(r.distance,2),r.distance);return[t.rmap(a=>a.intersect(o)),a=>a.isLastSpurt]}}),is_last_straight:$({filterEq(t,e,r,n,i){W(e==1,"must be is_last_straight_onetime==1"),W(D.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1];return t.rmap(a=>a.intersect(o))}}),is_last_straight_onetime:$({filterEq(t,e,r,n,i){W(e==1,"must be is_last_straight_onetime==1"),W(D.isSortedByStart(r.straights),"course straights must be sorted by start");let o=r.straights[r.straights.length-1].start,a=new R(o,o+10);return t.rmap(s=>s.intersect(a))}}),is_move_lane:Nt(5,1),is_overtake:Nt(1,2),is_surrounded:Nt(3,2),is_used_skill_id:$({filterEq(t,e,r,n,i){return[t,o=>o.usedSkills.has(""+e)]}}),lane_type:pt,lastspurt:$({filterEq(t,e,r,n,i){let o;switch(e){case 1:o=s=>s.isLastSpurt&&s.lastSpurtTransition!=-1;break;case 2:o=s=>s.isLastSpurt&&s.lastSpurtTransition==-1;break;case 3:o=s=>!s.isLastSpurt;break;default:W(1<=e&&e<=3,"lastspurt case must be 1-3")}let a=new R(D.phaseStart(r.distance,2),r.distance);return[t.rmap(s=>s.intersect(a)),o]}}),motivation:qt((t,e,r)=>r.mood+3),near_count:Nt(3,2),order:pt,order_rate:pt,order_rate_in20_continue:pt,order_rate_in40_continue:pt,order_rate_in80_continue:pt,order_rate_out20_continue:pt,order_rate_out40_continue:pt,order_rate_out50_continue:pt,order_rate_out70_continue:pt,overtake_target_no_order_up_time:Nt(3,2),overtake_target_time:Nt(3,2),phase:{samplePolicy:wr,filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=["100591","900591","110261","910261","110191","910191","120451","920451","101502121"].indexOf(i.skillId)>-1?10:0,a=new R(D.phaseStart(r.distance,e),D.phaseEnd(r.distance,e)+o);return t.rmap(s=>s.intersect(a))},filterNeq:U,filterLt(t,e,r,n,i){D.assertIsPhase(e),W(e>0,"phase == 0");let o=new R(0,D.phaseStart(r.distance,e));return t.rmap(a=>a.intersect(o))},filterLte(t,e,r,n,i){D.assertIsPhase(e);let o=new R(0,D.phaseEnd(r.distance,e));return t.rmap(a=>a.intersect(o))},filterGt(t,e,r,n,i){D.assertIsPhase(e),W(e<3,"phase > 2");let o=new R(D.phaseStart(r.distance,e+1),r.distance);return t.rmap(a=>a.intersect(o))},filterGte(t,e,r,n,i){D.assertIsPhase(e);let o=new R(D.phaseStart(r.distance,e),r.distance);return t.rmap(a=>a.intersect(o))}},phase_corner_random:Yt({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=D.phaseStart(r.distance,e),a=D.phaseEnd(r.distance,e),s=r.corners.filter(c=>c.start>=o&&c.start<a||c.start+c.length>=o&&c.start+c.length<a).map(c=>new R(Math.max(c.start,o),Math.min(c.start+c.length,a)));return t.rmap(c=>s.map(u=>c.intersect(u)))}}),phase_firsthalf_random:Yt({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=D.phaseStart(r.distance,e),a=D.phaseEnd(r.distance,e),s=new R(o,o+(a-o)/2);return t.rmap(c=>c.intersect(s))}}),phase_firstquarter:$({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=D.phaseStart(r.distance,e),a=D.phaseEnd(r.distance,e),s=new R(o,o+(a-o)/4);return t.rmap(c=>c.intersect(s))}}),phase_firstquarter_random:Yt({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=D.phaseStart(r.distance,e),a=D.phaseEnd(r.distance,e),s=new R(o,o+(a-o)/4);return t.rmap(c=>c.intersect(s))}}),phase_laterhalf_random:Yt({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=D.phaseStart(r.distance,e),a=D.phaseEnd(r.distance,e),s=new R((o+a)/2,a);return t.rmap(c=>c.intersect(s))}}),phase_random:Yt({filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=new R(D.phaseStart(r.distance,e),D.phaseEnd(r.distance,e));return t.rmap(a=>a.intersect(o))}}),phase_straight_random:{samplePolicy:kc,filterEq(t,e,r,n,i){D.assertIsPhase(e);let o=new R(D.phaseStart(r.distance,e),D.phaseEnd(r.distance,e));return t.rmap(a=>r.straights.map(s=>a.intersect(s))).rmap(a=>a.intersect(o))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},popularity:pt,post_number:pt,remain_distance:$({filterEq(t,e,r,n,i){let o=new R(r.distance-e,r.distance-e+1);return t.rmap(a=>a.intersect(o))},filterLte(t,e,r,n,i){let o=new R(r.distance-e,r.distance);return t.rmap(a=>a.intersect(o))},filterGte(t,e,r,n,i){let o=new R(0,r.distance-e);return t.rmap(a=>a.intersect(o))}}),rotation:qt((t,e,r)=>t.turn),running_style:$({filterEq(t,e,r,n,i){return Nn.assertIsStrategy(e),Nn.strategyMatches(n.strategy,e)?t:new V}}),running_style_count_same:pt,running_style_count_same_rate:pt,running_style_equal_popularity_one:pt,same_skill_horse_count:pt,season:qt((t,e,r)=>r.season),slope:$({filterEq(t,e,r,n,i){W(e==0||e==1||e==2,"slopeType"),W(D.isSortedByStart(r.slopes),"course slopes must be sorted by slope start");let o=0,a=r.slopes.filter(c=>e!=2&&c.slope>0||e!=1&&c.slope<0),s=e==0?a.map(c=>{let u=new R(o,c.start);return o=c.start+c.length,u}):a.map(c=>new R(c.start,c.start+c.length));return e==0&&o!=r.distance&&s.push(new R(o,r.distance)),t.rmap(c=>s.map(u=>c.intersect(u)))}}),straight_front_type:$({filterEq(t,e,r,n,i){W(e==1||e==2,"frontType");let o=r.straights.filter(a=>a.frontType==e);return t.rmap(a=>o.map(s=>a.intersect(s)))}}),straight_random:{samplePolicy:kc,filterEq(t,e,r,n,i){return W(e==1,"must be straight_random==1"),t.rmap(o=>r.straights.map(a=>o.intersect(a)))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},temptation_count:pt,time:qt((t,e,r)=>r.time),track_id:qt((t,e,r)=>t.raceTrackId),up_slope_random:Yt({filterEq(t,e,r,n,i){W(e==1,"must be up_slope_random==1");let o=r.slopes.filter(a=>a.slope>0).map(a=>new R(a.start,a.start+a.length));return t.rmap(a=>o.map(s=>a.intersect(s)))}}),visiblehorse:pt,weather:qt((t,e,r)=>r.weather)});var Ht=class extends Error{constructor(e){super(e)}};function hp(t){return 97<=t&&t<=122||48<=t&&t<=57||t==95}var Dc=class{constructor(e){this.lbp=0;this.value=e}led(e,r){throw new Ht("unexpected integer literal")}nud(e){return{type:0,value:this.value}}};function Bn(t=Qa,e={and:xr,or:Hn,eq:Ka,neq:Ya,lt:Va,lte:$a,gt:Xa,gte:Ja}){let r=Object.freeze({lbp:0,led:(g,y)=>{throw new Ht("unexpected eof")},nud:g=>{throw new Ht("unexpected eof")}});class n{constructor(y){this.lbp=0;this.value=y}led(y,S){throw new Ht("unexpected identifier")}nud(y){return{type:1,cond:t[this.value]}}}class i{constructor(y,S){this.lbp=y;this.opclass=S}led(y,S){if(S.type!=1)throw new Ht("expected condition on left hand side of comparison");let x=b(y,this.lbp);if(x.type!=0)throw new Ht("expected number on right hand side of comparison");return{type:2,op:new this.opclass(S.cond,x.value)}}nud(y){throw new Ht("expected expression")}}class o{constructor(y,S){this.lbp=y;this.opclass=S}led(y,S){if(S.type!=2)throw new Ht("expected comparison on left hand side of operator");let x=b(y,this.lbp);if(x.type!=2)throw new Ht("expected comparison on right hand side of operator");return{type:2,op:new this.opclass(S.op,x.op)}}nud(y){throw new Ht("expected expression")}}let a=Object.freeze(new i(30,e.eq)),s=Object.freeze(new i(30,e.neq)),c=Object.freeze(new i(30,e.lt)),u=Object.freeze(new i(30,e.lte)),f=Object.freeze(new i(30,e.gt)),l=Object.freeze(new i(30,e.gte)),d=Object.freeze(new o(20,e.and)),h=Object.freeze(new o(10,e.or));function*_(g){for(var y=0;y<g.length;){var S=g.charCodeAt(y);if(48<=S&&S<=57){for(var x=0;48<=S&&S<=57;)x*=10,x+=S-48,S=g.charCodeAt(++y);yield new Dc(x)}else if(hp(S)){for(var k=y;hp(S);)S=g.charCodeAt(++y);yield new n(g.slice(k,y))}else switch(g[y]){case"=":if(g[++y]!="=")throw new Ht("expected =");++y,yield a;break;case"!":if(g[++y]!="=")throw new Ht("expected =");++y,yield s;break;case"<":g[++y]=="="?(++y,yield u):yield c;break;case">":g[++y]=="="?(++y,yield l):yield f;break;case"@":yield h,++y;break;case"&":yield d,++y;break;default:throw new Ht("invalid character")}}return r}function m(g){let y={current:r,next:g.next().value,tokens:g};return b(y,0)}function v(g){let y=m(g);if(y.type!=2)throw new Ht("expected comparison or operator");return y.op}function b(g,y){g.current=g.next,g.next=g.tokens.next().value;for(var S=g.current.nud(g);y<g.next.lbp;)g.current=g.next,g.next=g.tokens.next().value,S=g.current.led(g,S);return S}return{tokenize:_,parse:v,parseAny:m}}var dy=Ln().strict,rs;(r=>(r.StrategyPhaseCoefficient=Object.freeze([[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]].map(n=>Object.freeze(n))),r.DistanceProficiencyModifier=Object.freeze([1.05,1,.9,.8,.6,.4,.2,.1])))(rs||={});function jn(t){return 20-(t.distance-2e3)/1e3}function _p(t,e,r){return jn(e)*rs.StrategyPhaseCoefficient[t.strategy][r]+ +(r==2)*Math.sqrt(500*t.speed)*rs.DistanceProficiencyModifier[t.distanceAptitude]*.002}function py(t,e){return(_p(t,e,2)+.01*jn(e))*1.05+Math.sqrt(500*t.speed)*rs.DistanceProficiencyModifier[t.distanceAptitude]*.002}var es;(n=>(n.StrategyPhaseCoefficient=Object.freeze([[],[1,1,.996],[.985,1,.996],[.975,1,1],[.945,1,.997],[1.17,.94,.956]].map(i=>Object.freeze(i))),n.GroundTypeProficiencyModifier=Object.freeze([1.05,1,.9,.8,.7,.5,.3,.1]),n.DistanceProficiencyModifier=Object.freeze([1,1,1,1,1,.6,.5,.4])))(es||={});var hy=6e-4,_y=4e-4;function my(t,e,r){return t*Math.sqrt(500*e.power)*es.StrategyPhaseCoefficient[e.strategy][r]*es.GroundTypeProficiencyModifier[e.surfaceAptitude]*es.DistanceProficiencyModifier[e.distanceAptitude]}var gy=[-1.2,-.8,-1],Oc;(o=>{o.BaseMinimumThreshold=Object.freeze([0,0,3,6.5,7.5]),o.BaseMaximumThreshold=Object.freeze([0,0,5,7,8]);function r(a){return 8e-4*(a-1e3)+1}o.courseFactor=r;function n(a,s){return o.BaseMinimumThreshold[a]*(a==2?1:r(s))}o.minThreshold=n;function i(a,s){return o.BaseMaximumThreshold[a]*r(s)}o.maxThreshold=i})(Oc||={});var Tc=class{constructor(e){this.t=e}},ao=class{constructor(e,r=0){this.acc=e;this.err=r}add(e){let r=this.acc+e;Math.abs(this.acc)>=Math.abs(e)?this.err+=this.acc-r+e:this.err+=e-r+this.acc,this.acc=r}},Pc=(_=>(_[_.SpeedUp=1]="SpeedUp",_[_.StaminaUp=2]="StaminaUp",_[_.PowerUp=3]="PowerUp",_[_.GutsUp=4]="GutsUp",_[_.WisdomUp=5]="WisdomUp",_[_.Recovery=9]="Recovery",_[_.MultiplyStartDelay=10]="MultiplyStartDelay",_[_.SetStartDelay=14]="SetStartDelay",_[_.CurrentSpeed=21]="CurrentSpeed",_[_.CurrentSpeedWithNaturalDeceleration=22]="CurrentSpeedWithNaturalDeceleration",_[_.TargetSpeed=27]="TargetSpeed",_[_.Accel=31]="Accel",_[_.ActivateRandomGold=37]="ActivateRandomGold",_[_.ExtendEvolvedDuration=42]="ExtendEvolvedDuration",_))(Pc||{});function ts(t){}var so=class{constructor(e){this.horse=Object.assign({},e.horse),this.course=e.course,this.hp=e.hp,this.pacer=e.pacer||null,this.rng=e.rng,this.pendingSkills=e.skills.slice(),this.pendingRemoval=new Set,this.usedSkills=new Set,this.gorosiRng=new Kt(this.rng.int32()),this.paceEffectRng=new Kt(this.rng.int32()),this.timers=[],this.accumulatetime=this.getNewTimer(),this.phase=0,this.nextPhaseTransition=D.phaseStart(this.course.distance,1),this.activeTargetSpeedSkills=[],this.activeCurrentSpeedSkills=[],this.activeAccelSkills=[],this.activateCount=[0,0,0],this.activateCountHeal=0,this.onSkillActivate=e.onSkillActivate||ts,this.onSkillDeactivate=e.onSkillDeactivate||ts,this.sectionLength=this.course.distance/24,this.isPaceDown=!1,this.posKeepMinThreshold=Oc.minThreshold(this.horse.strategy,this.course.distance),this.posKeepMaxThreshold=Oc.maxThreshold(this.horse.strategy,this.course.distance),this.posKeepCooldown=this.getNewTimer(),this.posKeepEnd=this.sectionLength*5,this.posKeepSpeedCoef=1,Nn.strategyMatches(this.horse.strategy,1)||this.pacer==null?this.updatePositionKeep=ts:this.updatePositionKeep=this.updatePositionKeepNonNige,this.modifiers={targetSpeed:new ao(0),currentSpeed:new ao(0),accel:new ao(0),oneFrameAccel:0,specialSkillDurationScaling:1},this.initHills(),this.startDelay=.1*this.rng.random(),this.pacer&&(this.pacer.startDelay=0),this.pos=0,this.accel=0,this.currentSpeed=3,this.targetSpeed=.85*jn(this.course),this.processSkillActivations(),this.minSpeed=.85*jn(this.course)+Math.sqrt(200*this.horse.guts)*.001,this.startDash=!0,this.modifiers.accel.add(24),this.baseTargetSpeed=[0,1,2].map(r=>_p(this.horse,this.course,r)),this.lastSpurtSpeed=py(this.horse,this.course),this.lastSpurtTransition=-1,this.baseAccel=[0,1,2,0,1,2].map((r,n)=>my(n>2?_y:hy,this.horse,r))}initHills(){dy(D.isSortedByStart(this.course.slopes),"slopes must be sorted by start location"),this.nHills=this.course.slopes.length,this.hillStart=this.course.slopes.map(e=>e.start).reverse(),this.hillEnd=this.course.slopes.map(e=>e.start+e.length).reverse(),this.hillIdx=-1,this.hillStart.length>0&&this.hillStart[this.hillStart.length-1]==0&&(this.course.slopes[0].slope>0?this.hillIdx=0:this.hillEnd.pop(),this.hillStart.pop())}getNewTimer(e=0){let r=new Tc(e);return this.timers.push(r),r}getMaxSpeed(){return this.startDash?Math.min(this.targetSpeed,.85*jn(this.course)):this.currentSpeed+this.modifiers.oneFrameAccel>this.targetSpeed?9999:this.targetSpeed}step(e){if(this.accumulatetime.t<this.startDelay){let i=this.startDelay-this.accumulatetime.t;if(i<e)this.timers.forEach(o=>o.t+=i),e-=i;else{this.timers.forEach(o=>o.t+=e);return}}this.pos<this.posKeepEnd&&this.pacer!=null&&this.pacer.step(e);let r=Math.min(this.currentSpeed+.5*e*this.accel,this.getMaxSpeed()),n=r+this.modifiers.currentSpeed.acc+this.modifiers.currentSpeed.err;this.pos+=n*e,this.hp.tick(this,e),this.timers.forEach(i=>i.t+=e),this.updateHills(),this.updatePhase(),this.processSkillActivations(),this.updatePositionKeep(),this.updateLastSpurtState(),this.updateTargetSpeed(),this.applyForces(),this.currentSpeed=Math.min(r+.5*e*this.accel+this.modifiers.oneFrameAccel,this.getMaxSpeed()),!this.startDash&&this.currentSpeed<this.minSpeed?this.currentSpeed=this.minSpeed:this.startDash&&this.currentSpeed>=.85*jn(this.course)&&(this.startDash=!1,this.modifiers.accel.add(-24)),this.modifiers.oneFrameAccel=0}updatePositionKeepNonNige(){if(this.pos>=this.posKeepEnd)this.isPaceDown=!1,this.posKeepSpeedCoef=1,this.updatePositionKeep=ts;else if(this.isPaceDown)(this.pacer.pos-this.pos>this.posKeepEffectExitDistance||this.pos-this.posKeepEffectStart>this.sectionLength||this.activeTargetSpeedSkills.length>0||this.activeCurrentSpeedSkills.length>0)&&(this.isPaceDown=!1,this.posKeepCooldown.t=-3,this.posKeepSpeedCoef=1);else if(this.pacer.pos-this.pos<this.posKeepMinThreshold&&this.activeTargetSpeedSkills.length==0&&this.activeCurrentSpeedSkills.length==0&&this.posKeepCooldown.t>=0){this.isPaceDown=!0,this.posKeepEffectStart=this.pos;let e=this.posKeepMinThreshold,r=this.phase==1?e+.5*(this.posKeepMaxThreshold-e):this.posKeepMaxThreshold;this.posKeepEffectExitDistance=e+this.paceEffectRng.random()*(r-e),this.posKeepSpeedCoef=this.phase==1?.945:.915}}updateLastSpurtState(){if(!(this.isLastSpurt||this.phase<2)){if(this.lastSpurtTransition==-1){let e=this.hp.getLastSpurtPair(this,this.lastSpurtSpeed,this.baseTargetSpeed[2]);this.lastSpurtTransition=e[0],this.lastSpurtSpeed=e[1]}this.pos>=this.lastSpurtTransition&&(this.isLastSpurt=!0)}}updateTargetSpeed(){this.hp.hasRemainingHp()?this.isLastSpurt?this.targetSpeed=this.lastSpurtSpeed:this.targetSpeed=this.baseTargetSpeed[this.phase]*this.posKeepSpeedCoef:this.targetSpeed=this.minSpeed,this.targetSpeed+=this.modifiers.targetSpeed.acc+this.modifiers.targetSpeed.err,this.hillIdx!=-1&&(this.targetSpeed-=this.course.slopes[this.hillIdx].slope/1e4*200/this.horse.power,this.targetSpeed=Math.max(this.targetSpeed,this.minSpeed))}applyForces(){if(!this.hp.hasRemainingHp()){this.accel=-1.2;return}if(this.currentSpeed>this.targetSpeed){this.accel=this.isPaceDown?-.5:gy[this.phase];return}this.accel=this.baseAccel[+(this.hillIdx!=-1)*3+this.phase],this.accel+=this.modifiers.accel.acc+this.modifiers.accel.err}updateHills(){this.hillIdx==-1&&this.hillStart.length>0&&this.pos>=this.hillStart[this.hillStart.length-1]?(this.course.slopes[this.nHills-this.hillStart.length].slope>0?this.hillIdx=this.nHills-this.hillStart.length:this.hillEnd.pop(),this.hillStart.pop()):this.hillIdx!=-1&&this.hillEnd.length>0&&this.pos>this.hillEnd[this.hillEnd.length-1]&&(this.hillIdx=-1,this.hillEnd.pop())}updatePhase(){this.pos>=this.nextPhaseTransition&&this.phase<2&&(++this.phase,this.nextPhaseTransition=D.phaseStart(this.course.distance,this.phase+1))}processSkillActivations(){for(let e=this.activeTargetSpeedSkills.length;--e>=0;){let r=this.activeTargetSpeedSkills[e];r.durationTimer.t>=0&&(this.activeTargetSpeedSkills.splice(e,1),this.modifiers.targetSpeed.add(-r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let e=this.activeCurrentSpeedSkills.length;--e>=0;){let r=this.activeCurrentSpeedSkills[e];r.durationTimer.t>=0&&(this.activeCurrentSpeedSkills.splice(e,1),this.modifiers.currentSpeed.add(-r.modifier),r.naturalDeceleration&&(this.modifiers.oneFrameAccel+=r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let e=this.activeAccelSkills.length;--e>=0;){let r=this.activeAccelSkills[e];r.durationTimer.t>=0&&(this.activeAccelSkills.splice(e,1),this.modifiers.accel.add(-r.modifier),this.onSkillDeactivate(this,r.skillId))}for(let e=this.pendingSkills.length;--e>=0;){let r=this.pendingSkills[e];this.pos>=r.trigger.end||this.pendingRemoval.has(r.skillId)?(this.pendingSkills.splice(e,1),this.pendingRemoval.delete(r.skillId)):this.pos>=r.trigger.start&&r.extraCondition(this)&&(this.activateSkill(r),this.pendingSkills.splice(e,1))}}activateSkill(e){e.effects.sort((r,n)=>+(r.type==42)-+(n.type==42)).forEach(r=>{let n=r.baseDuration*(this.course.distance/1e3)*(e.rarity==6?this.modifiers.specialSkillDurationScaling:1);switch(r.type){case 1:this.horse.speed=Math.max(this.horse.speed+r.modifier,1);break;case 2:this.horse.stamina=Math.max(this.horse.stamina+r.modifier,1),this.horse.rawStamina=Math.max(this.horse.rawStamina+r.modifier,1);break;case 3:this.horse.power=Math.max(this.horse.power+r.modifier,1);break;case 4:this.horse.guts=Math.max(this.horse.guts+r.modifier,1);break;case 5:this.horse.wisdom=Math.max(this.horse.wisdom+r.modifier,1);break;case 10:this.startDelay*=r.modifier;break;case 14:this.startDelay=r.modifier;break;case 27:this.modifiers.targetSpeed.add(r.modifier),this.activeTargetSpeedSkills.push({skillId:e.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 31:this.modifiers.accel.add(r.modifier),this.activeAccelSkills.push({skillId:e.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 21:case 22:this.modifiers.currentSpeed.add(r.modifier),this.activeCurrentSpeedSkills.push({skillId:e.skillId,durationTimer:this.getNewTimer(-n),modifier:r.modifier,naturalDeceleration:r.type==22});break;case 9:++this.activateCountHeal,this.hp.recover(r.modifier);break;case 37:this.doActivateRandomGold(r.modifier);break;case 42:this.modifiers.specialSkillDurationScaling=r.modifier;break}}),++this.activateCount[this.phase],this.usedSkills.add(e.skillId),this.onSkillActivate(this,e.skillId)}doActivateRandomGold(e){let r=this.pendingSkills.reduce((n,i,o)=>((i.rarity==2||i.rarity==6)&&i.effects.every(a=>a.type>5)&&n.push(o),n),[]);for(let n=r.length;--n>=0;){let i=this.gorosiRng.uniform(n+1);[r[n],r[i]]=[r[i],r[n]]}for(let n=0;n<Math.min(e,r.length);++n){let i=this.pendingSkills[r[n]];this.activateSkill(i),this.pendingRemoval.add(i.skillId)}}};var mp={tick(t,e){},hasRemainingHp(){return!0},hpRatioRemaining(){return 1},recover(t){},getLastSpurtPair(t,e,r){return[-1,e]}},yy=Object.freeze([0,.95,.89,1,.995,.86]),vy=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(t=>Object.freeze(t))),ns=class{constructor(e,r,n,i){this.distance=r.distance,this.baseSpeed=20-(r.distance-2e3)/1e3,this.maxHp=.8*yy[e.strategy]*e.stamina+r.distance,this.hp=this.maxHp,this.groundModifier=vy[r.surface][n],this.gutsModifier=1+200/Math.sqrt(600*e.guts),this.subparAcceptChance=Math.round((15+.05*e.wisdom)*1e3),this.rng=new Kt(i)}getStatusModifier(e){let r=1;return e.isPaceDown&&(r*=.6),r}hpPerSecond(e,r){let n=e.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(e)*this.groundModifier*n}tick(e,r){this.hp-=this.hpPerSecond(e,e.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(e){this.hp=Math.min(this.maxHp,this.hp+this.maxHp*e)}getLastSpurtPair(e,r,n){let o=(this.distance-D.phaseStart(this.distance,2)-60)/r,a={phase:2,isPaceDown:!1};if(this.hp>=this.hpPerSecond(a,r)*o)return[-1,r];let s=[],c=this.distance-60-e.pos,u=this.getStatusModifier(a);for(let f=r-.1;f>=n;f-=.1){let d=Math.min(c/f,Math.max(0,(n*this.hp-this.hpPerSecond(a,n)*c)/(n*this.hpPerSecond(a,f)-this.hpPerSecond(a,n)*f)))*f;s.push([this.distance-d,f])}s.sort((f,l)=>(f[0]-e.pos)/n+(this.distance-f[0])/f[1]-((l[0]-e.pos)/n+(this.distance-l[0])/l[1]));for(let f=0;f<s.length;++f)if(this.rng.uniform(1e5)<=this.subparAcceptChance)return s[f];return s[s.length-1]}};var Ct={"100011":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100021":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100041":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:5},"100061":{alternatives:[{baseDuration:5e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:2500,type:27}],precondition:""}],rarity:4},"100081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100101":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:5},"100111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100151":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:4500,type:27}],precondition:""}],rarity:5},"100181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100231":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:2500,type:27},{modifier:3e3,type:31}],precondition:""}],rarity:4},"100261":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:4},"100301":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:5},"100321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:4},"100561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:4},"100611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:4500,type:27}],precondition:""}],rarity:4},"10071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:3},"10081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:1500,type:27},{modifier:2e3,type:31}],precondition:""}],rarity:3},"10271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:3},"10321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:350,type:9}],precondition:""}],rarity:3},"10561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:3},"10611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:3500,type:27}],precondition:""}],rarity:3},"200011":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200012":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200013":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200021":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200022":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200023":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200031":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200032":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200033":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200041":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200042":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200043":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200051":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200052":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200053":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200061":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200062":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200063":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200071":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200072":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200073":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200081":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200082":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200083":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200091":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200092":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200093":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200101":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200102":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200103":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200111":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200112":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200113":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200121":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200122":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200123":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200131":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200132":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200133":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200141":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200142":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200143":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200151":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200152":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200153":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200161":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200162":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200163":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200171":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200172":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200173":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200181":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200182":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200183":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200191":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200192":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200193":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200201":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200202":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200203":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200211":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200212":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200221":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200222":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200231":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200232":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200233":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:-4e5,type:4}],precondition:""}],rarity:1},"200241":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200242":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200251":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:6e5,type:5}],precondition:""}],rarity:1},"200252":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:4e5,type:5}],precondition:""}],rarity:1},"200253":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:-4e5,type:5}],precondition:""}],rarity:1},"200261":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200262":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200263":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200271":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200272":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200281":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:6e5,type:3}],precondition:""}],rarity:1},"200282":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:4e5,type:3}],precondition:""}],rarity:1},"200283":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:-4e5,type:3}],precondition:""}],rarity:1},"200291":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:6e5,type:4}],precondition:""}],rarity:1},"200292":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:4e5,type:4}],precondition:""}],rarity:1},"200301":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:6e5,type:1}],precondition:""}],rarity:1},"200302":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"200311":{alternatives:[{baseDuration:-1,condition:"grade==100",effects:[{modifier:-4e5,type:1}],precondition:""}],rarity:1},"200321":{alternatives:[{baseDuration:-1,condition:"popularity==1",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200331":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200332":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200333":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200341":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200342":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200343":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,type:31}],precondition:""}],rarity:1},"200351":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200352":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200353":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200361":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200362":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200371":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200372":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200381":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200382":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200391":{alternatives:[{baseDuration:0,condition:"slope==1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200401":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&blocked_all_continuetime>=1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200411":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&is_lastspurt==1&straight_random==1&corner==0&distance_diff_rate>=75",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200421":{alternatives:[{baseDuration:3e4,condition:"remain_distance==200&order==1&bashin_diff_behind>=1",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"200431":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:4e3,type:10}],precondition:""}],rarity:2},"200432":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:9e3,type:10}],precondition:""}],rarity:1},"200433":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:15e3,type:10}],precondition:""}],rarity:1},"200441":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200442":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200451":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:350,type:28}],precondition:""}],rarity:2},"200452":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"200461":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200462":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200471":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200472":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200481":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200482":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200491":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:4e3,type:31},{modifier:250,type:28}],precondition:""}],rarity:2},"200492":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:2e3,type:31},{modifier:50,type:28}],precondition:""}],rarity:1},"200501":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:350,type:28}],precondition:""}],rarity:2},"200502":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"200511":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200512":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200521":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&order==1&bashin_diff_behind>=1",effects:[{modifier:-200,type:9}],precondition:""}],rarity:1},"200531":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200532":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200541":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200542":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200551":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200552":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200561":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200562":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200571":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200572":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200581":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200582":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200591":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200592":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200601":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200602":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200611":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200612":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200621":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200622":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200631":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200632":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200641":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200642":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200651":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200652":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200662":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==1&order_rate>50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200671":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200672":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200681":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200682":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200691":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200692":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200701":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200702":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"200711":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200712":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200721":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200722":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200731":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200732":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200741":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200742":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200751":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200752":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200761":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"200762":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"200771":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200781":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate>50&temptation_count_infront>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200791":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_nige>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200801":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_senko>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200811":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_sashi>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200821":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_oikomi>=1&is_temptation==0",effects:[{modifier:5e4,type:13}],precondition:""}],rarity:1},"200831":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200841":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200851":{alternatives:[{baseDuration:3e4,condition:"running_style_count_nige_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200861":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200871":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200881":{alternatives:[{baseDuration:3e4,condition:"running_style_count_senko_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200891":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200901":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200911":{alternatives:[{baseDuration:3e4,condition:"running_style_count_sashi_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200921":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200931":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"200941":{alternatives:[{baseDuration:3e4,condition:"running_style_count_oikomi_otherself>=1&phase_random==2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"200951":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:6e5,type:2}],precondition:""}],rarity:1},"200952":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:4e5,type:2}],precondition:""}],rarity:1},"200953":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:-4e5,type:2}],precondition:""}],rarity:1},"200961":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"200962":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200971":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"200972":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200981":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"200982":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"200991":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"200992":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201001":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:350,type:28},{modifier:3e3,type:31}],precondition:""}],rarity:2},"201002":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:250,type:28},{modifier:2e3,type:31}],precondition:""}],rarity:1},"201012":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order<=3&accumulatetime>=5",effects:[{modifier:-2e3,type:21}],precondition:""}],rarity:1},"201021":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201022":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201031":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201032":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201041":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201042":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201051":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201052":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201061":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"201062":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201071":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201072":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201081":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-2e3,type:21},{modifier:2500,type:27}],precondition:""}],rarity:2},"201082":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-1500,type:21},{modifier:1500,type:27}],precondition:""}],rarity:1},"201091":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-3e3,type:31}],precondition:""}],rarity:2},"201092":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,type:31}],precondition:""}],rarity:1},"201101":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201102":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201111":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201112":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201121":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201122":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:1e5,type:8}],precondition:""}],rarity:1},"201131":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:350,type:28},{modifier:3e3,type:31}],precondition:""}],rarity:2},"201132":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:250,type:28},{modifier:2e3,type:31}],precondition:""}],rarity:1},"201141":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201142":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201151":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-2500,type:21}],precondition:""}],rarity:2},"201152":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"201161":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201162":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201171":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201172":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201181":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201182":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201191":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201192":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201202":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201211":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201212":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201221":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-200,type:9},{modifier:550,type:9}],precondition:""}],rarity:2},"201222":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-50,type:9},{modifier:150,type:9}],precondition:""}],rarity:1},"201231":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-1e5,type:8}],precondition:""}],rarity:2},"201232":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-5e4,type:8}],precondition:""}],rarity:1},"201241":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201242":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201251":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201252":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201262":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_all_continuetime>=1",effects:[{modifier:250,type:28}],precondition:""}],rarity:1},"201272":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&change_order_onetime>0&accumulatetime>=5",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201281":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201282":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201291":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:4e3,type:31}],precondition:""}],rarity:2},"201292":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201302":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,type:31}],precondition:""}],rarity:1},"201311":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201312":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201321":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201322":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201331":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201332":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201341":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201342":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201351":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201352":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201361":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201362":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201371":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-5e4,type:8}],precondition:""}],rarity:2},"201372":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-3e4,type:8}],precondition:""}],rarity:1},"201381":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201382":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201391":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201392":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201401":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:3e3,type:31}],precondition:""}],rarity:2},"201402":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201411":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:3500,type:27}],precondition:""}],rarity:2},"201412":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201421":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201422":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201431":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201432":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201441":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-300,type:9}],precondition:""}],rarity:2},"201442":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-100,type:9}],precondition:""}],rarity:1},"201451":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201452":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201461":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"201462":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201471":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:1e5,type:8}],precondition:""}],rarity:2},"201472":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201481":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201482":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201491":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:550,type:9}],precondition:""}],rarity:2},"201492":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201501":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:15e4,type:8}],precondition:""}],rarity:2},"201502":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:5e4,type:8}],precondition:""}],rarity:1},"201511":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-2500,type:21}],precondition:""}],rarity:2},"201512":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-1500,type:21}],precondition:""}],rarity:1},"201521":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201522":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201531":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201532":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201541":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201542":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201551":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:6e5,type:5},{modifier:1e5,type:8}],precondition:""}],rarity:1},"201552":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:4e5,type:5},{modifier:5e4,type:8}],precondition:""}],rarity:1},"201561":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:6e5,type:1},{modifier:6e5,type:2},{modifier:6e5,type:3}],precondition:""}],rarity:2},"201562":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:4e5,type:1},{modifier:4e5,type:2},{modifier:4e5,type:3}],precondition:""}],rarity:1},"201571":{alternatives:[{baseDuration:0,condition:"remain_distance<=778&remain_distance>=776",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201581":{alternatives:[{baseDuration:3e4,condition:"slope==1",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201591":{alternatives:[{baseDuration:3e4,condition:"near_count==4@near_count==5@near_count==6@near_count==7",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201601":{alternatives:[{baseDuration:3e4,condition:"activate_count_start>=3",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"201611":{alternatives:[{baseDuration:3e4,condition:"activate_count_middle>=3",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201621":{alternatives:[{baseDuration:0,condition:"activate_count_end_after>=3",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"201631":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count>=5",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"201641":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count==1",effects:[{modifier:4e5,type:1}],precondition:""}],rarity:1},"201651":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"201661":{alternatives:[{baseDuration:3e4,condition:"behind_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900011":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900021":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900041":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900061":{alternatives:[{baseDuration:3e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900071":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:500,type:27}],precondition:""}],rarity:1},"900081":{alternatives:[{baseDuration:3e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900091":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900101":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900111":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900141":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900151":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1},"900181":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900231":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:500,type:27},{modifier:1e3,type:31}],precondition:""}],rarity:1},"900261":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900271":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:2e3,type:31}],precondition:""}],rarity:1},"900301":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900351":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900411":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:150,type:9}],precondition:""}],rarity:1},"900561":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900601":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:1500,type:27}],precondition:""}],rarity:1},"900611":{alternatives:[{baseDuration:3e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:2500,type:27}],precondition:""}],rarity:1}};var Dy=Object.freeze([null,[0,0,0,0,-50],[0,0,0,0,-50]].map(t=>Object.freeze(t))),Oy=Object.freeze([null,[0,0,-50,-50,-50],[0,-100,-50,-100,-100]].map(t=>Object.freeze(t))),Ty=Object.freeze([1.1,1,.85,.75,.6,.4,.2,.1]),bp;(n=>{n.StrategyDistanceCoefficient=Object.freeze([[],[0,1,.7,.75,.7,1],[0,1,.8,.7,.75,1],[0,1,.9,.875,.86,1],[0,1,.9,1,.9,1]]),n.BaseModifier=.00875;function r(i,o,a){return n.BaseModifier*Math.sqrt(i-1200)*n.StrategyDistanceCoefficient[a][o]}n.calcApproximateModifier=r})(bp||={});var Sp;(r=>{function t(n){return n<2101?0:n<2201?.5:n<2401?1:n<2601?1.2:1.5}r.distanceFactor=t;function e(n,i){return Math.sqrt(n-1200)*.0085*t(i)*1}r.calcApproximateModifier=e})(Sp||={});function Py(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"NIGE":return 1;case"SENKOU":return 2;case"SASI":case"SASHI":return 3;case"OIKOMI":return 4;case"OONIGE":return 5;default:throw new Error("Invalid running strategy.")}}function Rc(t,e){if(typeof t!="string")return t;switch(t.toUpperCase()){case"S":return 0;case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;case"F":return 6;case"G":return 7;default:throw new Error("Invalid "+e+" aptitude.")}}function Ry(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"GOOD":return 1;case"YIELDING":return 2;case"SOFT":return 3;case"HEAVY":return 4;default:throw new Error("Invalid ground condition.")}}function My(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"SUNNY":return 1;case"CLOUDY":return 2;case"RAINY":return 3;case"SNOWY":return 4;default:throw new Error("Invalid weather.")}}function Ey(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"SPRING":return 1;case"SUMMER":return 2;case"AUTUMN":return 3;case"WINTER":return 4;case"SAKURA":return 5;default:throw new Error("Invalid season.")}}function Ay(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"NONE":case"NOTIME":return 0;case"MORNING":return 1;case"MIDDAY":return 2;case"EVENING":return 3;case"NIGHT":return 4;default:throw new Error("Invalid race time.")}}function zy(t){if(typeof t!="string")return t;switch(t.toUpperCase()){case"G1":return 100;case"G2":return 200;case"G3":return 300;case"OP":return 400;case"PRE-OP":case"PREOP":return 700;case"MAIDEN":return 800;case"DEBUT":return 900;case"DAILY":return 999;default:throw new Error("Invalid race grade.")}}function co(t){return t>1200?1200+Math.floor((t-1200)/2):t}function gp(t,e){let r=1+.02*e;return Object.freeze({speed:co(t.speed)*r,stamina:co(t.stamina)*r,power:co(t.power)*r,guts:co(t.guts)*r,wisdom:co(t.wisdom)*r,strategy:Py(t.strategy),distanceAptitude:Rc(t.distanceAptitude,"distance"),surfaceAptitude:Rc(t.surfaceAptitude,"surface"),strategyAptitude:Rc(t.strategyAptitude,"strategy"),rawStamina:t.stamina*r})}function yp(t,e,r){let n=D.courseSpeedModifier(e,t);return Object.freeze({speed:Math.max(t.speed*n+Dy[e.surface][r],1),stamina:t.stamina,power:Math.max(t.power+Oy[e.surface][r],1),guts:t.guts,wisdom:t.wisdom*Ty[t.strategyAptitude],strategy:t.strategy,distanceAptitude:t.distanceAptitude,surfaceAptitude:t.surfaceAptitude,strategyAptitude:t.strategyAptitude,rawStamina:t.rawStamina})}function vp(t){return t.effects.reduce((e,r)=>(Pc.hasOwnProperty(r.type)&&r.modifier>0&&e.push({type:r.type,baseDuration:t.baseDuration/1e4,modifier:r.modifier/1e4}),e),[])}function Ly(t,e,r,n,i,o,a=!1){if(!(o in Ct))throw new Error("bad skill ID "+o);let s=Object.assign({skillId:o},e),c=Ct[o].alternatives,u=[];for(let l=0;l<c.length;++l){let d=c[l],h=new V;if(n.forEach(g=>h.push(g)),d.precondition){let y=i.parse(i.tokenize(d.precondition)).apply(n,r,t,s)[0];if(y.length==0)continue;{let S=new R(y[0].start,n[n.length-1].end);h=h.rmap(x=>x.intersect(S))}}let _=i.parse(i.tokenize(d.condition)),[m,v]=_.apply(h,r,t,s);if(m.length==0||u.length>0&&!/is_activate_other_skill_detail|is_used_skill_id/.test(d.condition))continue;let b=vp(d);if(b.length>0||a){let g=Ct[o].rarity;u.push({skillId:o,rarity:g>=3&&g<=5?3:g,samplePolicy:_.samplePolicy,regions:m,extraCondition:v,effects:b})}}if(u.length>0)return u;let f=vp(c[0]);if(f.length==0&&!a)return[];{let l=new V;return l.push(new R(9999,9999)),[{skillId:o,rarity:Math.min(Ct[o].rarity,3),samplePolicy:wr,regions:l,extraCondition:d=>!1,effects:f}]}}var Ny=Object.freeze(Object.assign({},Qa,{activate_count_all:Yt({filterGte(t,e,r,n,i){if(e==7){let a=new V;return t.forEach(s=>a.push(new R(s.start,s.start+11))),a}let o=new R(Math.min(e/23-.2,.6)*r.distance,Math.min(e/23+.2,1)*r.distance);return t.rmap(a=>a.intersect(o))},filterLte(t,e,r,n,i){return new V}}),activate_count_end_after:Yt({filterGte(t,e,r,n,i){let o=new R(D.phaseStart(r.distance,2),D.phaseEnd(r.distance,3));return t.rmap(a=>a.intersect(o))}}),activate_count_heal:dp,activate_count_later_half:Yt({filterGte(t,e,r,n,i){let o=new R(r.distance/2,r.distance);return t.rmap(a=>a.intersect(o))}}),activate_count_middle:Yt({filterGte(t,e,r,n,i){let o=D.phaseStart(r.distance,1),a=D.phaseEnd(r.distance,1),s=new R(o,o+e/10*(a-o));return t.rmap(c=>c.intersect(s))}}),activate_count_start:$({filterGte(t,e,r,n,i){let o=new R(D.phaseStart(r.distance,0),D.phaseEnd(r.distance,0));return t.rmap(a=>a.intersect(o))}})})),qy=Bn(),Hy=Bn(Ny),is=class t{constructor(e){this.nsamples=e;this._course=null,this._raceParams={mood:2,groundCondition:1,weather:1,season:1,time:2,grade:100,popularity:1},this._horse=null,this._pacer=null,this._pacerSkills=[],this._rng=new Kt(Math.floor(Math.random()*(-1>>>0))>>>0),this._parser=qy,this._skills=[],this._extraSkillHooks=[],this._onSkillActivate=null,this._onSkillDeactivate=null}seed(e){return this._rng=new Kt(e),this}course(e){return typeof e=="number"?this._course=D.getCourse(e):this._course=e,this}mood(e){return this._raceParams.mood=e,this}ground(e){return this._raceParams.groundCondition=Ry(e),this}weather(e){return this._raceParams.weather=My(e),this}season(e){return this._raceParams.season=Ey(e),this}time(e){return this._raceParams.time=Ay(e),this}grade(e){return this._raceParams.grade=zy(e),this}popularity(e){return this._raceParams.popularity=e,this}horse(e){return this._horse=e,this}pacer(e){return this._pacer=e,this}_isNige(){return typeof this._horse.strategy=="string"?this._horse.strategy.toUpperCase()=="NIGE"||this._horse.strategy.toUpperCase()=="OONIGE":this._horse.strategy==1||this._horse.strategy==5}useDefaultPacer(e=!0){return this._isNige()?this:(this._pacer=Object.assign({},this._horse,{strategy:"Nige"}),e&&(this._pacerSkills=[{skillId:"201601",rarity:1,trigger:new R(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:3,modifier:.2}]},{skillId:"200532",rarity:1,trigger:new R(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:1.2,modifier:.2}]}]),this)}withActivateCountsAsRandom(){return this._parser=Hy,this}withAsiwotameru(){let e=this._horse.power*(1+.02*this._raceParams.mood);return this._extraSkillHooks.push((r,n,i)=>{let o=r.reduce((a,s)=>{let c=s.effects.find(u=>u.type==3);return c&&s.regions.length>0&&s.regions[0].start<9999?a+c.modifier:a},e);if(o>1200){let a=new V;a.push(new R(D.phaseStart(i.distance,2),i.distance)),r.push({skillId:"asitame",rarity:1,regions:a,samplePolicy:wr,extraCondition:s=>!0,effects:[{type:31,baseDuration:3/(i.distance/1e3),modifier:bp.calcApproximateModifier(o,n.strategy,i.distanceType)}]})}}),this}withStaminaSyoubu(){return this._extraSkillHooks.push((e,r,n)=>{let i=e.reduce((o,a)=>{let s=a.effects.find(c=>c.type==2);return s&&a.regions.length>0&&a.regions[0].start<9999?o+s.modifier:o},r.rawStamina);if(i>1200){let o=new V;o.push(new R(D.phaseStart(n.distance,2),n.distance)),e.push({skillId:"staminasyoubu",rarity:1,regions:o,samplePolicy:wr,extraCondition:a=>a.currentSpeed>=a.lastSpurtSpeed,effects:[{type:27,baseDuration:9999,modifier:Sp.calcApproximateModifier(i,n.distance)}]})}}),this}addSkill(e){return this._skills.push(e),this}onSkillActivate(e){return this._onSkillActivate=e,this}onSkillDeactivate(e){return this._onSkillDeactivate=e,this}fork(){let e=new t(this.nsamples);return e._course=this._course,e._raceParams=Object.assign({},this._raceParams),e._horse=this._horse,e._pacer=this._pacer,e._pacerSkills=this._pacerSkills.slice(),e._rng=new Kt(this._rng.lo,this._rng.hi),e._parser=this._parser,e._skills=this._skills.slice(),e._onSkillActivate=this._onSkillActivate,e._onSkillDeactivate=this._onSkillDeactivate,e._extraSkillHooks=this._extraSkillHooks.slice(),e}*build(){let e=gp(this._horse,this._raceParams.mood),r=new Kt(this._rng.int32()),n=new Kt(this._rng.int32()),i=this._pacer?yp(gp(this._pacer,this._raceParams.mood),this._course,this._raceParams.groundCondition):null,o=new V;o.push(new R(0,this._course.distance)),Object.freeze(o);let a=Ly.bind(null,e,this._raceParams,this._course,o,this._parser),s=this._skills.flatMap(a);this._extraSkillHooks.forEach(u=>u(s,e,this._course));let c=s.map(u=>u.samplePolicy.sample(u.regions,this.nsamples,this._rng));e=yp(e,this._course,this._raceParams.groundCondition);for(let u=0;u<this.nsamples;++u){let f=s.map((m,v)=>({skillId:m.skillId,rarity:m.rarity,trigger:c[v][u%c[v].length],extraCondition:m.extraCondition,effects:m.effects})),l=new Kt(n.lo,n.hi),d=new Kt(r.lo,r.hi),h=i?new so({horse:i,course:this._course,hp:mp,skills:this._pacerSkills,rng:n}):null;(yield new so({horse:e,course:this._course,skills:f,pacer:h,hp:new ns(e,this._course,this._raceParams.groundCondition,r.int32()),rng:r,onSkillActivate:this._onSkillActivate,onSkillDeactivate:this._onSkillDeactivate}))&&(--u,n=l,r=d)}}};var Fy=localStorage.getItem("language")||(navigator.language.startsWith("ja")?"ja":"en-ja");var Mc=qo(Fy);function Ir(){return We(Mc)}var Ec=Ln().strict;function Ac(t){return"condition"in t}function as(t){Ec(Ac(t))}function By(t){Ec("left"in t&&"right"in t)}function wp(t,e){return as(t.right),e.push(t.right),t.left instanceof xr?wp(t.left,e):(as(t.left),e.push(t.left),e)}function Un(t,e){return Ac(e)?"argument"in t?e.condition===t.condition&&e.argument==t.argument&&Object.getPrototypeOf(t)===Object.getPrototypeOf(e):e.condition===t:(By(e),Un(t,e.left)||Un(t,e.right))}function os(t,e){if(e instanceof Hn){let r=t.slice();return os(t,e.left)||os(r,e.right)}else if(e instanceof xr){as(e.right);let r=t.findIndex(n=>Un(n,e.right));return r!=-1&&t.splice(r,1),t.length==0||os(t,e.left)}else return as(e),t.length==1&&Un(t[0],e)}function zc(t,e){switch(t.type){case 2:if(t.op instanceof xr)return os(wp(t.op,[]),e);if(Ac(t.op))return Un(t.op,e);throw new Error("doesn't support @ in search conditions");case 1:return Un(t.cond,e);case 0:throw new Error("doesn't support sole integer as search condition")}}var jy=Object.freeze({sample(t,e){Ec(!1)},reconcile(t){return this},reconcileAsap(t){return this},reconcileLogNormalRandom(t){return this},reconcileRandom(t){return this},reconcileStraightRandom(t){return this},reconcileAllCornerRandom(t){return this}}),xp=new Proxy({},{get(t,e){return t.hasOwnProperty(e)?t[e]:t[e]={name:e,samplePolicy:jy}}});function kr(t){return p("div",{class:`hasTooltip${t.tall?" contentIsTall":""}`},t.children,p("div",{class:"tooltip"},t.title,p("span",{class:"arrow"})))}var Cr={"100011":["Shooting Star"],"100021":["The View from the Lead Is Mine!"],"100031":["Sky-High Teio Step"],"100041":["Red Shift/LP1211-M"],"100051":["Lights of Vaudeville"],"100061":["Triumphant Pulse"],"100071":["Anchors Aweigh!"],"100081":["Cut and Drive!"],"100091":["Resplendent Red Ace"],"100101":["Shooting for Victory!"],"100111":["Where There's a Will, There's a Way"],"100121":["You and Me! One-on-One!"],"100131":["The Duty of Dignity Calls"],"100141":["Victoria por plancha \u2606"],"100151":["This Dance Is for Vittoria!"],"100161":["Shadow Break"],"100171":["Behold Thine Emperor's Divine Might"],"100181":["Blazing Pride"],"100201":["Angling and Scheming"],"100231":["\u2234win Q.E.D."],"100241":["Flashy\u2606Landing"],"100261":["G00 1st. F\u221E;"],"100271":["Let's Pump Some Iron!"],"100301":["Blue Rose Closer"],"100321":["U=ma2"],"100351":["Our Ticket to Win!"],"100371":["Schwarzes Schwert"],"100381":["#LookatCurren"],"100401":["KEEP IT REAL."],"100411":["Genius x Bakushin = Victory"],"100451":["Pure Heart"],"100461":["SPARKLY\u2606STARDOM"],"100501":["Nemesis"],"100521":["Super-Duper Climax"],"100561":["I See Victory in My Future!"],"100581":["I Never Goof Up!"],"100601":["Just a Little Farther!"],"100611":["Prideful King"],"10071":["Warning Shot!"],"10081":["Xceleration"],"10091":["Red Ace"],"10111":["Focused Mind"],"10141":["Coraz\xF3n \u2606 Ardiente"],"10181":["Empress's Pride"],"10241":["1st Place Kiss\u2606"],"10271":["Feel the Burn!"],"10321":["Introduction to Physiology"],"10351":["V Is for Victory!"],"10411":["Class Rep + Speed = Bakushin"],"10451":["Clear Heart"],"10521":["Super-Duper Stoked"],"10561":["Luck Be with Me!"],"10601":["I Can Win Sometimes, Right?"],"10611":["Call Me King"],"110011":["Dazzl'n \u266A Diver"],"110031":["Certain Victory"],"110041":["A Kiss for Courage"],"110111":["Superior Heal"],"110131":["Legacy of the Strong"],"110141":["Condor's Fury"],"110181":["Eternal Moments"],"110241":["Flowery\u2606Maneuver"],"110561":["Bountiful Harvest"],"200011":["Right-Handed \u25CE"],"200012":["Right-Handed \u25CB"],"200013":["Right-Handed \xD7"],"200021":["Left-Handed \u25CE"],"200022":["Left-Handed \u25CB"],"200023":["Left-Handed \xD7"],"200031":["Tokyo Racecourse \u25CE"],"200032":["Tokyo Racecourse \u25CB"],"200033":["Tokyo Racecourse \xD7"],"200041":["Nakayama Racecourse \u25CE"],"200042":["Nakayama Racecourse \u25CB"],"200043":["Nakayama Racecourse \xD7"],"200051":["Hanshin Racecourse \u25CE"],"200052":["Hanshin Racecourse \u25CB"],"200053":["Hanshin Racecourse \xD7"],"200061":["Kyoto Racecourse \u25CE"],"200062":["Kyoto Racecourse \u25CB"],"200063":["Kyoto Racecourse \xD7"],"200071":["Chukyo Racecourse \u25CE"],"200072":["Chukyo Racecourse \u25CB"],"200073":["Chukyo Racecourse \xD7"],"200081":["Sapporo Racecourse \u25CE"],"200082":["Sapporo Racecourse \u25CB"],"200083":["Sapporo Racecourse \xD7"],"200091":["Hakodate Racecourse \u25CE"],"200092":["Hakodate Racecourse \u25CB"],"200093":["Hakodate Racecourse \xD7"],"200101":["Fukushima Racecourse \u25CE"],"200102":["Fukushima Racecourse \u25CB"],"200103":["Fukushima Racecourse \xD7"],"200111":["Niigata Racecourse \u25CE"],"200112":["Niigata Racecourse \u25CB"],"200113":["Niigata Racecourse \xD7"],"200121":["Kokura Racecourse \u25CE"],"200122":["Kokura Racecourse \u25CB"],"200123":["Kokura Racecourse \xD7"],"200131":["Standard Distance \u25CE"],"200132":["Standard Distance \u25CB"],"200133":["Standard Distance \xD7"],"200141":["Non-Standard Distance \u25CE"],"200142":["Non-Standard Distance \u25CB"],"200143":["Non-Standard Distance \xD7"],"200151":["Firm Conditions \u25CE"],"200152":["Firm Conditions \u25CB"],"200153":["Firm Conditions \xD7"],"200161":["Wet Conditions \u25CE"],"200162":["Wet Conditions \u25CB"],"200163":["Wet Conditions \xD7"],"200171":["Spring Runner \u25CE"],"200172":["Spring Runner \u25CB"],"200173":["Spring Runner \xD7"],"200181":["Summer Runner \u25CE"],"200182":["Summer Runner \u25CB"],"200183":["Summer Runner \xD7"],"200191":["Fall Runner \u25CE"],"200192":["Fall Runner \u25CB"],"200193":["Fall Runner \xD7"],"200201":["Winter Runner \u25CE"],"200202":["Winter Runner \u25CB"],"200203":["Winter Runner \xD7"],"200211":["Sunny Days \u25CE"],"200212":["Sunny Days \u25CB"],"200221":["Cloudy Days \u25CE"],"200222":["Cloudy Days \u25CB"],"200231":["Rainy Days \u25CE"],"200232":["Rainy Days \u25CB"],"200233":["Rainy Days \xD7"],"200241":["Snowy Days \u25CE"],"200242":["Snowy Days \u25CB"],"200251":["Inner Post Proficiency \u25CE"],"200252":["Inner Post Proficiency \u25CB"],"200253":["Inner Post Averseness"],"200261":["Outer Post Proficiency \u25CE"],"200262":["Outer Post Proficiency \u25CB"],"200263":["Outer Post Averseness"],"200271":["Maverick \u25CE"],"200272":["Maverick \u25CB"],"200281":["Competitive Spirit \u25CE"],"200282":["Competitive Spirit \u25CB"],"200283":["Wallflower"],"200291":["Target in Sight \u25CE"],"200292":["Target in Sight \u25CB"],"200301":["Long Shot \u25CE"],"200302":["Long Shot \u25CB"],"200311":["G1 Averseness"],"200321":["Paddock Fright"],"200331":["Professor of Curvature"],"200332":["Corner Adept \u25CB"],"200333":["Corner Adept \xD7"],"200341":["Corner Connoisseur"],"200342":["Corner Acceleration \u25CB"],"200343":["Corner Acceleration \xD7"],"200351":["Swinging Maestro"],"200352":["Corner Recovery \u25CB"],"200353":["Corner Recovery \xD7"],"200361":["Beeline Burst"],"200362":["Straightaway Adept"],"200371":["Rushing Gale!"],"200372":["Straightaway Acceleration"],"200381":["Breath of Fresh Air"],"200382":["Straightaway Recovery"],"200391":["Ramp Revulsion"],"200401":["Packphobia"],"200411":["Defeatist"],"200421":["Reckless"],"200431":["Concentration"],"200432":["Focus"],"200433":["Gatekept"],"200441":["Iron Will"],"200442":["Lay Low"],"200451":["Center Stage"],"200452":["Prudent Positioning"],"200461":["It's On!"],"200462":["Ramp Up"],"200471":["Indomitable"],"200472":["Pace Strategy"],"200481":["Unruffled"],"200482":["Calm in a Crowd"],"200491":["No Stopping Me!"],"200492":["Nimble Navigator"],"200501":["Lane Legerdemain"],"200502":["Go with the Flow"],"200511":["In Body and Mind"],"200512":["Homestretch Haste"],"200521":["Running Idle"],"200531":["Taking the Lead"],"200532":["Early Lead"],"200541":["Escape Artist"],"200542":["Fast-Paced"],"200551":["Unrestrained"],"200552":["Final Push"],"200561":["Calm and Collected"],"200562":["Stamina to Spare"],"200571":["Race Planner"],"200572":["Preferred Position"],"200581":["Speed Star"],"200582":["Prepared to Pass"],"200591":["Fast & Furious"],"200592":["Position Pilfer"],"200601":["On Your Left!"],"200602":["Slick Surge"],"200611":["Rising Dragon"],"200612":["Outer Swell"],"200621":["Sleeping Lion"],"200622":["Standing By"],"200631":["Sturm und Drang"],"200632":["Masterful Gambit"],"200641":["Encroaching Shadow"],"200642":["Straightaway Spurt"],"200651":["Turbo Sprint"],"200652":["Sprinting Gear"],"200662":["Wait-and-See"],"200671":["Blinding Flash"],"200672":["Gap Closer"],"200681":["Mile Maven"],"200682":["Productive Plan"],"200691":["Keen Eye"],"200692":["Watchful Eye"],"200701":["Furious Feat"],"200702":["Updrafters"],"200711":["Trackblazer"],"200712":["Rosy Outlook"],"200721":["Killer Tunes"],"200722":["Up-Tempo"],"200731":["Unyielding"],"200732":["Steadfast"],"200741":["Cooldown"],"200742":["Deep Breaths"],"200751":["Innate Experience"],"200752":["Inside Scoop"],"200761":["Adrenaline Rush"],"200762":["Extra Tank"],"200771":["Trick (Front)"],"200781":["Trick (Rear)"],"200791":["Frenzied Front Runners"],"200801":["Frenzied Pace Chasers"],"200811":["Frenzied Late Surgers"],"200821":["Frenzied End Closers"],"200831":["Subdued Front Runners"],"200841":["Flustered Front Runners"],"200851":["Hesitant Front Runners"],"200861":["Subdued Pace Chasers"],"200871":["Flustered Pace Chasers"],"200881":["Hesitant Pace Chasers"],"200891":["Subdued Late Surgers"],"200901":["Flustered Late Surgers"],"200911":["Hesitant Late Surgers"],"200921":["Subdued End Closers"],"200931":["Flustered End Closers"],"200941":["Hesitant End Closers"],"200951":["Oi Racecourse \u25CE"],"200952":["Oi Racecourse \u25CB"],"200953":["Oi Racecourse \xD7"],"200961":["Sprint Straightaways \u25CE"],"200962":["Sprint Straightaways \u25CB"],"200971":["Sprint Corners \u25CE"],"200972":["Sprint Corners \u25CB"],"200981":["Staggering Lead"],"200982":["Huge Lead"],"200991":["Plan X"],"200992":["Countermeasure"],"201001":["Perfect Prep!"],"201002":["Meticulous Measures"],"201011":["Adored by All"],"201012":["Intimidate"],"201021":["You've Got No Shot"],"201022":["Stop Right There!"],"201031":["Mile Straightaways \u25CE"],"201032":["Mile Straightaways \u25CB"],"201041":["Mile Corners \u25CE"],"201042":["Mile Corners \u25CB"],"201051":["Changing Gears"],"201052":["Shifting Gears"],"201061":["Step on the Gas!"],"201062":["Acceleration"],"201071":["Big-Sisterly"],"201072":["Unyielding Spirit"],"201081":["Greed for Speed"],"201082":["Speed Eater"],"201091":["Battle Formation"],"201092":["Opening Gambit"],"201101":["Medium Straightaways \u25CE"],"201102":["Medium Straightaways \u25CB"],"201111":["Medium Corners \u25CE"],"201112":["Medium Corners \u25CB"],"201121":["Clairvoyance"],"201122":["Hawkeye"],"201131":["Lightning Step"],"201132":["Thunderbolt Step"],"201141":["Miraculous Step"],"201142":["Soft Step"],"201151":["Dominator"],"201152":["Tether"],"201161":["Mystifying Murmur"],"201162":["Murmur"],"201171":["Long Straightaways \u25CE"],"201172":["Long Straightaways \u25CB"],"201181":["Long Corners \u25CE"],"201182":["Long Corners \u25CB"],"201191":["Vanguard Spirit"],"201192":["Keeping the Lead"],"201202":["Passing Pro"],"201211":["Overwhelming Pressure"],"201212":["Pressure"],"201221":["Stamina Siphon"],"201222":["Stamina Eater"],"201231":["Illusionist"],"201232":["Smoke Screen"],"201241":["Front Runner Straightaways \u25CE"],"201242":["Front Runner Straightaways \u25CB"],"201251":["Front Runner Corners \u25CE"],"201252":["Front Runner Corners \u25CB"],"201261":["Sixth Sense"],"201262":["Dodging Danger"],"201272":["Leader's Pride"],"201281":["Restless"],"201282":["Moxie"],"201291":["Reignition"],"201292":["Second Wind"],"201302":["Restart"],"201311":["Pace Chaser Straightaways \u25CE"],"201312":["Pace Chaser Straightaways \u25CB"],"201321":["Pace Chaser Corners \u25CE"],"201322":["Pace Chaser Corners \u25CB"],"201331":["Technician"],"201332":["Shrewd Step"],"201341":["Determined Descent"],"201342":["Straight Descent"],"201351":["Gourmand"],"201352":["Hydrate"],"201361":["Shatterproof"],"201362":["Tactical Tweak"],"201371":["Dazzling Disorientation"],"201372":["Disorient"],"201381":["Late Surger Straightaways \u25CE"],"201382":["Late Surger Straightaways \u25CB"],"201391":["Later Surger Corners \u25CE"],"201392":["Late Surger Corners \u25CB"],"201401":["Hard Worker"],"201402":["Fighter"],"201411":["15,000,000 CC"],"201412":["1,500,000 CC"],"201421":["Relax"],"201422":["A Small Breather"],"201431":["The Bigger Picture"],"201432":["Studious"],"201441":["All-Seeing Eyes"],"201442":["Sharp Gaze"],"201451":["End Closer Straightaways \u25CE"],"201452":["End Closer Straightaways \u25CB"],"201461":["End Closer Corners \u25CE"],"201462":["End Closer Corners \u25CB"],"201471":["The Coast Is Clear!"],"201472":["I Can See Right Through You"],"201481":["Go-Home Specialist"],"201482":["After-School Stroll"],"201491":["Serenity"],"201492":["Levelheaded"],"201501":["Crusader"],"201502":["Strategist"],"201511":["Petrifying Gaze"],"201512":["Intense Gaze"],"201521":["Front Runner Savvy \u25CE"],"201522":["Front Runner Savvy \u25CB"],"201531":["Pace Chaser Savvy \u25CE"],"201532":["Pace Chaser Savvy \u25CB"],"201541":["Late Surger Savvy \u25CE"],"201542":["Late Surger Savvy \u25CB"],"201551":["End Closer Savvy \u25CE"],"201552":["End Closer Savvy \u25CB"],"201561":["Super Lucky Seven"],"201562":["Lucky Seven"],"201571":["Triple 7s"],"201581":["Highlander"],"201591":["Uma Stan"],"201601":["Groundwork"],"201611":["Tail Held High"],"201621":["Shake It Out"],"201631":["Sympathy"],"201641":["Lone Wolf"],"201651":["Slipstream"],"201661":["Playtime's Over!"],"201671":["Trending in the Charts!"],"201672":["Top Pick"],"210011":["Burning Spirit SPD"],"210012":["Ignited Spirit SPD"],"210021":["Burning Spirit STA"],"210022":["Ignited Spirit STA"],"210031":["Burning Spirit PWR"],"210032":["Ignited Spirit PWR"],"210041":["Burning Spirit GUTS"],"210042":["Ignited Spirit GUTS"],"210051":["Burning Spirit WIT"],"210052":["Ignited Spirit WIT"],"300011":["Unquenched Thirst"],"300021":["Unchanging"],"900011":["Shooting Star"],"900021":["The View from the Lead Is Mine!"],"900031":["Sky-High Teio Step"],"900041":["Red Shift/LP1211-M"],"900051":["Lights of Vaudeville"],"900061":["Triumphant Pulse"],"900071":["Anchors Aweigh!"],"900081":["Cut and Drive!"],"900091":["Resplendent Red Ace"],"900101":["Shooting for Victory!"],"900111":["Where There's a Will, There's a Way"],"900121":["You and Me! One-on-One!"],"900131":["The Duty of Dignity Calls"],"900141":["Victoria por plancha \u2606"],"900151":["This Dance Is for Vittoria!"],"900161":["Shadow Break"],"900171":["Behold Thine Emperor's Divine Might"],"900181":["Blazing Pride"],"900201":["Angling and Scheming"],"900231":["\u2234win Q.E.D."],"900241":["Flashy\u2606Landing"],"900261":["G00 1st. F\u221E;"],"900271":["Let's Pump Some Iron!"],"900301":["Blue Rose Closer"],"900321":["U=ma2"],"900351":["Our Ticket to Win!"],"900371":["Schwarzes Schwert"],"900381":["#LookatCurren"],"900401":["KEEP IT REAL."],"900411":["Genius x Bakushin = Victory"],"900451":["Pure Heart"],"900461":["SPARKLY\u2606STARDOM"],"900501":["Nemesis"],"900521":["Super-Duper Climax"],"900561":["I See Victory in My Future!"],"900581":["I Never Goof Up!"],"900601":["Just a Little Farther!"],"900611":["Prideful King"],"90071":["Warning Shot! (inherited)"],"90081":["Xceleration (inherited)"],"90091":["Red Ace (inherited)"],"90111":["Focused Mind (inherited)"],"90141":["Coraz\xF3n \u2606 Ardiente (inherited)"],"90181":["Empress's Pride (inherited)"],"90241":["1st Place Kiss\u2606 (inherited)"],"90271":["Feel the Burn! (inherited)"],"90321":["Introduction to Physiology (inherited)"],"90351":["V Is for Victory! (inherited)"],"90411":["Class Rep + Speed = Bakushin (inherited)"],"90451":["Clear Heart (inherited)"],"90521":["Super-Duper Stoked (inherited)"],"90561":["Luck Be with Me! (inherited)"],"90601":["I Can Win Sometimes, Right? (inherited)"],"90611":["Call Me King (inherited)"],"910011":["Dazzl'n \u266A Diver"],"910031":["Certain Victory"],"910041":["A Kiss for Courage"],"910111":["Superior Heal"],"910131":["Legacy of the Strong"],"910141":["Condor's Fury"],"910181":["Eternal Moments"],"910241":["Flowery\u2606Maneuver"],"910561":["Bountiful Harvest"]};var Qr={"100011":{baseCost:0,groupId:10001,iconId:"20013",order:10},"100021":{baseCost:0,groupId:10002,iconId:"20013",order:10},"100031":{baseCost:0,groupId:10003,iconId:"20013",order:10},"100041":{baseCost:0,groupId:10004,iconId:"20043",order:10},"100061":{baseCost:0,groupId:10006,iconId:"20013",order:10},"100071":{baseCost:0,groupId:10007,iconId:"20013",order:10},"100081":{baseCost:0,groupId:10008,iconId:"20013",order:10},"100091":{baseCost:0,groupId:10009,iconId:"20013",order:10},"100101":{baseCost:0,groupId:10010,iconId:"20043",order:10},"100111":{baseCost:0,groupId:10011,iconId:"20013",order:10},"100131":{baseCost:0,groupId:10013,iconId:"20013",order:10},"100141":{baseCost:0,groupId:10014,iconId:"20013",order:10},"100151":{baseCost:0,groupId:10015,iconId:"20013",order:10},"100171":{baseCost:0,groupId:10017,iconId:"20013",order:10},"100181":{baseCost:0,groupId:10018,iconId:"20013",order:10},"100231":{baseCost:0,groupId:10023,iconId:"20013",order:10},"100241":{baseCost:0,groupId:10024,iconId:"20013",order:10},"100261":{baseCost:0,groupId:10026,iconId:"20013",order:10},"100271":{baseCost:0,groupId:10027,iconId:"20043",order:10},"100301":{baseCost:0,groupId:10030,iconId:"20013",order:10},"100321":{baseCost:0,groupId:10032,iconId:"20023",order:10},"100351":{baseCost:0,groupId:10035,iconId:"20013",order:10},"100411":{baseCost:0,groupId:10041,iconId:"20013",order:10},"100451":{baseCost:0,groupId:10045,iconId:"20023",order:10},"100521":{baseCost:0,groupId:10052,iconId:"20023",order:10},"100561":{baseCost:0,groupId:10056,iconId:"20013",order:10},"100601":{baseCost:0,groupId:10060,iconId:"20013",order:10},"100611":{baseCost:0,groupId:10061,iconId:"20013",order:10},"10071":{baseCost:0,groupId:1007,iconId:"20013",order:10},"10081":{baseCost:0,groupId:1008,iconId:"20013",order:10},"10091":{baseCost:0,groupId:1009,iconId:"20013",order:10},"10111":{baseCost:0,groupId:1011,iconId:"20013",order:10},"10141":{baseCost:0,groupId:1014,iconId:"20013",order:10},"10181":{baseCost:0,groupId:1018,iconId:"20013",order:10},"10241":{baseCost:0,groupId:1024,iconId:"20013",order:10},"10271":{baseCost:0,groupId:1027,iconId:"20043",order:10},"10321":{baseCost:0,groupId:1032,iconId:"20023",order:10},"10351":{baseCost:0,groupId:1035,iconId:"20013",order:10},"10411":{baseCost:0,groupId:1041,iconId:"20013",order:10},"10451":{baseCost:0,groupId:1045,iconId:"20023",order:10},"10521":{baseCost:0,groupId:1052,iconId:"20023",order:10},"10561":{baseCost:0,groupId:1056,iconId:"20013",order:10},"10601":{baseCost:0,groupId:1060,iconId:"20013",order:10},"10611":{baseCost:0,groupId:1061,iconId:"20013",order:10},"200011":{baseCost:110,groupId:20001,iconId:"10011",order:1e3},"200012":{baseCost:90,groupId:20001,iconId:"10011",order:1010},"200013":{baseCost:50,groupId:20001,iconId:"10014",order:1020},"200021":{baseCost:110,groupId:20002,iconId:"10011",order:1030},"200022":{baseCost:90,groupId:20002,iconId:"10011",order:1040},"200023":{baseCost:50,groupId:20002,iconId:"10014",order:1050},"200031":{baseCost:110,groupId:20003,iconId:"10021",order:1060},"200032":{baseCost:90,groupId:20003,iconId:"10021",order:1070},"200033":{baseCost:50,groupId:20003,iconId:"10024",order:1080},"200041":{baseCost:110,groupId:20004,iconId:"10021",order:1090},"200042":{baseCost:90,groupId:20004,iconId:"10021",order:1100},"200043":{baseCost:50,groupId:20004,iconId:"10024",order:1110},"200051":{baseCost:110,groupId:20005,iconId:"10021",order:1120},"200052":{baseCost:90,groupId:20005,iconId:"10021",order:1130},"200053":{baseCost:50,groupId:20005,iconId:"10024",order:1140},"200061":{baseCost:110,groupId:20006,iconId:"10021",order:1150},"200062":{baseCost:90,groupId:20006,iconId:"10021",order:1160},"200063":{baseCost:50,groupId:20006,iconId:"10024",order:1170},"200071":{baseCost:110,groupId:20007,iconId:"10021",order:1180},"200072":{baseCost:90,groupId:20007,iconId:"10021",order:1190},"200073":{baseCost:50,groupId:20007,iconId:"10024",order:1200},"200081":{baseCost:90,groupId:20008,iconId:"10021",order:1210},"200082":{baseCost:70,groupId:20008,iconId:"10021",order:1220},"200083":{baseCost:40,groupId:20008,iconId:"10024",order:1230},"200091":{baseCost:90,groupId:20009,iconId:"10021",order:1240},"200092":{baseCost:70,groupId:20009,iconId:"10021",order:1250},"200093":{baseCost:40,groupId:20009,iconId:"10024",order:1260},"200101":{baseCost:90,groupId:20010,iconId:"10021",order:1270},"200102":{baseCost:70,groupId:20010,iconId:"10021",order:1280},"200103":{baseCost:40,groupId:20010,iconId:"10024",order:1290},"200111":{baseCost:90,groupId:20011,iconId:"10021",order:1300},"200112":{baseCost:70,groupId:20011,iconId:"10021",order:1310},"200113":{baseCost:40,groupId:20011,iconId:"10024",order:1320},"200121":{baseCost:90,groupId:20012,iconId:"10021",order:1330},"200122":{baseCost:70,groupId:20012,iconId:"10021",order:1340},"200123":{baseCost:40,groupId:20012,iconId:"10024",order:1350},"200131":{baseCost:110,groupId:20013,iconId:"10021",order:1390},"200132":{baseCost:90,groupId:20013,iconId:"10021",order:1400},"200133":{baseCost:50,groupId:20013,iconId:"10024",order:1410},"200141":{baseCost:110,groupId:20014,iconId:"10021",order:1420},"200142":{baseCost:90,groupId:20014,iconId:"10021",order:1430},"200143":{baseCost:50,groupId:20014,iconId:"10024",order:1440},"200151":{baseCost:110,groupId:20015,iconId:"10031",order:1450},"200152":{baseCost:90,groupId:20015,iconId:"10031",order:1460},"200153":{baseCost:50,groupId:20015,iconId:"10034",order:1470},"200161":{baseCost:110,groupId:20016,iconId:"10031",order:1480},"200162":{baseCost:90,groupId:20016,iconId:"10031",order:1490},"200163":{baseCost:50,groupId:20016,iconId:"10034",order:1500},"200171":{baseCost:110,groupId:20017,iconId:"10011",order:1510},"200172":{baseCost:90,groupId:20017,iconId:"10011",order:1520},"200173":{baseCost:50,groupId:20017,iconId:"10014",order:1530},"200181":{baseCost:110,groupId:20018,iconId:"10011",order:1540},"200182":{baseCost:90,groupId:20018,iconId:"10011",order:1550},"200183":{baseCost:50,groupId:20018,iconId:"10014",order:1560},"200191":{baseCost:110,groupId:20019,iconId:"10011",order:1570},"200192":{baseCost:90,groupId:20019,iconId:"10011",order:1580},"200193":{baseCost:50,groupId:20019,iconId:"10014",order:1590},"200201":{baseCost:110,groupId:20020,iconId:"10011",order:1600},"200202":{baseCost:90,groupId:20020,iconId:"10011",order:1610},"200203":{baseCost:50,groupId:20020,iconId:"10014",order:1620},"200211":{baseCost:110,groupId:20021,iconId:"10041",order:1630},"200212":{baseCost:90,groupId:20021,iconId:"10041",order:1640},"200221":{baseCost:110,groupId:20022,iconId:"10041",order:1650},"200222":{baseCost:90,groupId:20022,iconId:"10041",order:1660},"200231":{baseCost:110,groupId:20023,iconId:"10041",order:1670},"200232":{baseCost:90,groupId:20023,iconId:"10041",order:1680},"200233":{baseCost:50,groupId:20023,iconId:"10044",order:1690},"200241":{baseCost:110,groupId:20024,iconId:"10041",order:1700},"200242":{baseCost:90,groupId:20024,iconId:"10041",order:1710},"200251":{baseCost:110,groupId:20025,iconId:"10051",order:1720},"200252":{baseCost:90,groupId:20025,iconId:"10051",order:1730},"200253":{baseCost:50,groupId:20025,iconId:"10054",order:1740},"200261":{baseCost:110,groupId:20026,iconId:"10011",order:1750},"200262":{baseCost:90,groupId:20026,iconId:"10011",order:1760},"200263":{baseCost:50,groupId:20026,iconId:"10014",order:1770},"200271":{baseCost:110,groupId:20027,iconId:"10011",order:1780},"200272":{baseCost:90,groupId:20027,iconId:"10011",order:1790},"200281":{baseCost:110,groupId:20028,iconId:"10031",order:1800},"200282":{baseCost:90,groupId:20028,iconId:"10031",order:1810},"200283":{baseCost:50,groupId:20028,iconId:"10034",order:1820},"200291":{baseCost:110,groupId:20029,iconId:"10041",order:1830},"200292":{baseCost:90,groupId:20029,iconId:"10041",order:1840},"200301":{baseCost:110,groupId:20030,iconId:"10011",order:1850},"200302":{baseCost:90,groupId:20030,iconId:"10011",order:1860},"200311":{baseCost:50,groupId:20031,iconId:"10014",order:1870},"200321":{baseCost:50,groupId:20032,iconId:"10024",order:1880},"200331":{baseCost:180,groupId:20033,iconId:"20012",order:1890},"200332":{baseCost:180,groupId:20033,iconId:"20011",order:1900},"200333":{baseCost:100,groupId:20033,iconId:"20014",order:1910},"200341":{baseCost:180,groupId:20034,iconId:"20042",order:1920},"200342":{baseCost:180,groupId:20034,iconId:"20041",order:1930},"200343":{baseCost:100,groupId:20034,iconId:"20044",order:1940},"200351":{baseCost:170,groupId:20035,iconId:"20022",order:1950},"200352":{baseCost:170,groupId:20035,iconId:"20021",order:1960},"200353":{baseCost:100,groupId:20035,iconId:"20024",order:1970},"200361":{baseCost:170,groupId:20036,iconId:"20012",order:1980},"200362":{baseCost:170,groupId:20036,iconId:"20011",order:1990},"200371":{baseCost:170,groupId:20037,iconId:"20042",order:2e3},"200372":{baseCost:170,groupId:20037,iconId:"20041",order:2010},"200381":{baseCost:170,groupId:20038,iconId:"20022",order:2020},"200382":{baseCost:170,groupId:20038,iconId:"20021",order:2030},"200391":{baseCost:100,groupId:20039,iconId:"20024",order:2040},"200401":{baseCost:100,groupId:20040,iconId:"20024",order:2050},"200411":{baseCost:100,groupId:20041,iconId:"20014",order:2060},"200421":{baseCost:100,groupId:20042,iconId:"20014",order:2070},"200431":{baseCost:140,groupId:20043,iconId:"20062",order:2080},"200432":{baseCost:140,groupId:20043,iconId:"20061",order:2090},"200433":{baseCost:70,groupId:20043,iconId:"20064",order:2100},"200441":{baseCost:160,groupId:20044,iconId:"20022",order:2110},"200442":{baseCost:160,groupId:20044,iconId:"20021",order:2120},"200451":{baseCost:120,groupId:20045,iconId:"20052",order:2130},"200452":{baseCost:120,groupId:20045,iconId:"20051",order:2140},"200461":{baseCost:170,groupId:20046,iconId:"20012",order:2150},"200462":{baseCost:170,groupId:20046,iconId:"20011",order:2160},"200471":{baseCost:170,groupId:20047,iconId:"20022",order:2170},"200472":{baseCost:170,groupId:20047,iconId:"20021",order:2180},"200481":{baseCost:170,groupId:20048,iconId:"20022",order:2190},"200482":{baseCost:170,groupId:20048,iconId:"20021",order:2200},"200491":{baseCost:150,groupId:20049,iconId:"20042",order:2210},"200492":{baseCost:150,groupId:20049,iconId:"20041",order:2220},"200501":{baseCost:120,groupId:20050,iconId:"20052",order:2230},"200502":{baseCost:120,groupId:20050,iconId:"20051",order:2240},"200511":{baseCost:170,groupId:20051,iconId:"20012",order:2250},"200512":{baseCost:170,groupId:20051,iconId:"20011",order:2260},"200521":{baseCost:100,groupId:20052,iconId:"20024",order:2270},"200531":{baseCost:120,groupId:20053,iconId:"20042",order:2280},"200532":{baseCost:120,groupId:20053,iconId:"20041",order:2290},"200541":{baseCost:180,groupId:20054,iconId:"20012",order:2300},"200542":{baseCost:180,groupId:20054,iconId:"20011",order:2310},"200551":{baseCost:180,groupId:20055,iconId:"20042",order:2320},"200552":{baseCost:180,groupId:20055,iconId:"20041",order:2330},"200561":{baseCost:180,groupId:20056,iconId:"20022",order:2340},"200562":{baseCost:180,groupId:20056,iconId:"20021",order:2350},"200571":{baseCost:180,groupId:20057,iconId:"20022",order:2360},"200572":{baseCost:180,groupId:20057,iconId:"20021",order:2370},"200581":{baseCost:180,groupId:20058,iconId:"20012",order:2380},"200582":{baseCost:180,groupId:20058,iconId:"20011",order:2390},"200591":{baseCost:180,groupId:20059,iconId:"20012",order:2400},"200592":{baseCost:180,groupId:20059,iconId:"20011",order:2410},"200601":{baseCost:180,groupId:20060,iconId:"20042",order:2420},"200602":{baseCost:180,groupId:20060,iconId:"20041",order:2430},"200611":{baseCost:180,groupId:20061,iconId:"20012",order:2440},"200612":{baseCost:180,groupId:20061,iconId:"20011",order:2450},"200621":{baseCost:180,groupId:20062,iconId:"20022",order:2460},"200622":{baseCost:180,groupId:20062,iconId:"20021",order:2470},"200631":{baseCost:180,groupId:20063,iconId:"20012",order:2480},"200632":{baseCost:180,groupId:20063,iconId:"20011",order:2490},"200641":{baseCost:180,groupId:20064,iconId:"20042",order:2500},"200642":{baseCost:180,groupId:20064,iconId:"20041",order:2510},"200651":{baseCost:160,groupId:20065,iconId:"20042",order:2520},"200652":{baseCost:160,groupId:20065,iconId:"20041",order:2530},"200662":{baseCost:160,groupId:20066,iconId:"20021",order:2550},"200671":{baseCost:160,groupId:20067,iconId:"20012",order:2560},"200672":{baseCost:160,groupId:20067,iconId:"20011",order:2570},"200681":{baseCost:160,groupId:20068,iconId:"20012",order:2580},"200682":{baseCost:160,groupId:20068,iconId:"20011",order:2590},"200691":{baseCost:160,groupId:20069,iconId:"20022",order:2600},"200692":{baseCost:160,groupId:20069,iconId:"20021",order:2610},"200701":{baseCost:160,groupId:20070,iconId:"20042",order:2620},"200702":{baseCost:160,groupId:20070,iconId:"20041",order:2630},"200711":{baseCost:160,groupId:20071,iconId:"20022",order:2640},"200712":{baseCost:160,groupId:20071,iconId:"20021",order:2650},"200721":{baseCost:160,groupId:20072,iconId:"20012",order:2660},"200722":{baseCost:160,groupId:20072,iconId:"20011",order:2670},"200731":{baseCost:160,groupId:20073,iconId:"20012",order:2680},"200732":{baseCost:160,groupId:20073,iconId:"20011",order:2690},"200741":{baseCost:160,groupId:20074,iconId:"20022",order:2700},"200742":{baseCost:160,groupId:20074,iconId:"20021",order:2710},"200751":{baseCost:160,groupId:20075,iconId:"20012",order:2720},"200752":{baseCost:160,groupId:20075,iconId:"20011",order:2730},"200761":{baseCost:160,groupId:20076,iconId:"20022",order:2740},"200762":{baseCost:160,groupId:20076,iconId:"20021",order:2750},"200771":{baseCost:140,groupId:20077,iconId:"30051",order:2760},"200781":{baseCost:140,groupId:20078,iconId:"30051",order:2770},"200791":{baseCost:130,groupId:20079,iconId:"30041",order:2780},"200801":{baseCost:130,groupId:20080,iconId:"30041",order:2790},"200811":{baseCost:130,groupId:20081,iconId:"30041",order:2800},"200821":{baseCost:130,groupId:20082,iconId:"30041",order:2810},"200831":{baseCost:130,groupId:20083,iconId:"30051",order:2820},"200841":{baseCost:130,groupId:20084,iconId:"30051",order:2830},"200851":{baseCost:130,groupId:20085,iconId:"30011",order:2840},"200861":{baseCost:130,groupId:20086,iconId:"30051",order:2850},"200871":{baseCost:130,groupId:20087,iconId:"30051",order:2860},"200881":{baseCost:130,groupId:20088,iconId:"30011",order:2870},"200891":{baseCost:130,groupId:20089,iconId:"30051",order:2880},"200901":{baseCost:130,groupId:20090,iconId:"30051",order:2890},"200911":{baseCost:130,groupId:20091,iconId:"30011",order:2900},"200921":{baseCost:130,groupId:20092,iconId:"30051",order:2910},"200931":{baseCost:130,groupId:20093,iconId:"30051",order:2920},"200941":{baseCost:130,groupId:20094,iconId:"30011",order:2930},"200951":{baseCost:110,groupId:20095,iconId:"10021",order:1360},"200952":{baseCost:90,groupId:20095,iconId:"10021",order:1370},"200953":{baseCost:50,groupId:20095,iconId:"10024",order:1380},"200961":{baseCost:110,groupId:20096,iconId:"20011",order:3e4},"200962":{baseCost:100,groupId:20096,iconId:"20011",order:30001},"200971":{baseCost:110,groupId:20097,iconId:"20011",order:30002},"200972":{baseCost:100,groupId:20097,iconId:"20011",order:30003},"200981":{baseCost:170,groupId:20098,iconId:"20012",order:30004},"200982":{baseCost:170,groupId:20098,iconId:"20011",order:30005},"200991":{baseCost:160,groupId:20099,iconId:"20042",order:30006},"200992":{baseCost:160,groupId:20099,iconId:"20041",order:30007},"201001":{baseCost:140,groupId:20100,iconId:"20052",order:30008},"201002":{baseCost:140,groupId:20100,iconId:"20051",order:30009},"201012":{baseCost:170,groupId:20101,iconId:"30011",order:30011},"201021":{baseCost:170,groupId:20102,iconId:"30052",order:30012},"201022":{baseCost:170,groupId:20102,iconId:"30051",order:30013},"201031":{baseCost:110,groupId:20103,iconId:"20011",order:30014},"201032":{baseCost:100,groupId:20103,iconId:"20011",order:30015},"201041":{baseCost:110,groupId:20104,iconId:"20011",order:30016},"201042":{baseCost:100,groupId:20104,iconId:"20011",order:30017},"201051":{baseCost:160,groupId:20105,iconId:"20012",order:30018},"201052":{baseCost:160,groupId:20105,iconId:"20011",order:30019},"201061":{baseCost:160,groupId:20106,iconId:"20042",order:30020},"201062":{baseCost:160,groupId:20106,iconId:"20041",order:30021},"201071":{baseCost:120,groupId:20107,iconId:"20012",order:30022},"201072":{baseCost:120,groupId:20107,iconId:"20011",order:30023},"201081":{baseCost:160,groupId:20108,iconId:"30012",order:30024},"201082":{baseCost:160,groupId:20108,iconId:"30011",order:30025},"201091":{baseCost:160,groupId:20109,iconId:"30022",order:30026},"201092":{baseCost:160,groupId:20109,iconId:"30021",order:30027},"201101":{baseCost:110,groupId:20110,iconId:"20011",order:30028},"201102":{baseCost:100,groupId:20110,iconId:"20011",order:30029},"201111":{baseCost:110,groupId:20111,iconId:"20011",order:30030},"201112":{baseCost:100,groupId:20111,iconId:"20011",order:30031},"201121":{baseCost:110,groupId:20112,iconId:"20092",order:30032},"201122":{baseCost:110,groupId:20112,iconId:"20091",order:30033},"201131":{baseCost:140,groupId:20113,iconId:"20052",order:30034},"201132":{baseCost:140,groupId:20113,iconId:"20051",order:30035},"201141":{baseCost:160,groupId:20114,iconId:"20022",order:30036},"201142":{baseCost:160,groupId:20114,iconId:"20021",order:30037},"201151":{baseCost:160,groupId:20115,iconId:"30012",order:30038},"201152":{baseCost:160,groupId:20115,iconId:"30011",order:30039},"201161":{baseCost:160,groupId:20116,iconId:"30052",order:30040},"201162":{baseCost:160,groupId:20116,iconId:"30051",order:30041},"201171":{baseCost:110,groupId:20117,iconId:"20011",order:30042},"201172":{baseCost:100,groupId:20117,iconId:"20011",order:30043},"201181":{baseCost:110,groupId:20118,iconId:"20011",order:30044},"201182":{baseCost:100,groupId:20118,iconId:"20011",order:30045},"201191":{baseCost:160,groupId:20119,iconId:"20012",order:30046},"201192":{baseCost:160,groupId:20119,iconId:"20011",order:30047},"201202":{baseCost:160,groupId:20120,iconId:"20021",order:30049},"201211":{baseCost:160,groupId:20121,iconId:"20012",order:30050},"201212":{baseCost:160,groupId:20121,iconId:"20011",order:30051},"201221":{baseCost:160,groupId:20122,iconId:"30052",order:30052},"201222":{baseCost:160,groupId:20122,iconId:"30051",order:30053},"201231":{baseCost:110,groupId:20123,iconId:"30072",order:30054},"201232":{baseCost:110,groupId:20123,iconId:"30071",order:30055},"201241":{baseCost:140,groupId:20124,iconId:"20011",order:30056},"201242":{baseCost:130,groupId:20124,iconId:"20011",order:30057},"201251":{baseCost:140,groupId:20125,iconId:"20011",order:30058},"201252":{baseCost:130,groupId:20125,iconId:"20011",order:30059},"201262":{baseCost:110,groupId:20126,iconId:"20051",order:30061},"201272":{baseCost:180,groupId:20127,iconId:"20011",order:30063},"201281":{baseCost:180,groupId:20128,iconId:"20022",order:30064},"201282":{baseCost:180,groupId:20128,iconId:"20021",order:30065},"201291":{baseCost:180,groupId:20129,iconId:"20042",order:30066},"201292":{baseCost:180,groupId:20129,iconId:"20041",order:30067},"201302":{baseCost:130,groupId:20130,iconId:"30021",order:30069},"201311":{baseCost:140,groupId:20131,iconId:"20011",order:30070},"201312":{baseCost:130,groupId:20131,iconId:"20011",order:30071},"201321":{baseCost:140,groupId:20132,iconId:"20011",order:30072},"201322":{baseCost:130,groupId:20132,iconId:"20011",order:30073},"201331":{baseCost:120,groupId:20133,iconId:"20042",order:30074},"201332":{baseCost:120,groupId:20133,iconId:"20041",order:30075},"201341":{baseCost:120,groupId:20134,iconId:"20042",order:30076},"201342":{baseCost:120,groupId:20134,iconId:"20041",order:30077},"201351":{baseCost:180,groupId:20135,iconId:"20022",order:30078},"201352":{baseCost:180,groupId:20135,iconId:"20021",order:30079},"201361":{baseCost:120,groupId:20136,iconId:"20042",order:30080},"201362":{baseCost:120,groupId:20136,iconId:"20041",order:30081},"201371":{baseCost:110,groupId:20137,iconId:"30072",order:30082},"201372":{baseCost:110,groupId:20137,iconId:"30071",order:30083},"201381":{baseCost:140,groupId:20138,iconId:"20011",order:30084},"201382":{baseCost:130,groupId:20138,iconId:"20011",order:30085},"201391":{baseCost:140,groupId:20139,iconId:"20011",order:30086},"201392":{baseCost:130,groupId:20139,iconId:"20011",order:30087},"201401":{baseCost:120,groupId:20140,iconId:"20042",order:30088},"201402":{baseCost:120,groupId:20140,iconId:"20041",order:30089},"201411":{baseCost:120,groupId:20141,iconId:"20012",order:30090},"201412":{baseCost:120,groupId:20141,iconId:"20011",order:30091},"201421":{baseCost:180,groupId:20142,iconId:"20022",order:30092},"201422":{baseCost:180,groupId:20142,iconId:"20021",order:30093},"201431":{baseCost:120,groupId:20143,iconId:"20092",order:30094},"201432":{baseCost:120,groupId:20143,iconId:"20091",order:30095},"201441":{baseCost:180,groupId:20144,iconId:"30052",order:30096},"201442":{baseCost:180,groupId:20144,iconId:"30051",order:30097},"201451":{baseCost:140,groupId:20145,iconId:"20011",order:30098},"201452":{baseCost:130,groupId:20145,iconId:"20011",order:30099},"201461":{baseCost:140,groupId:20146,iconId:"20011",order:30100},"201462":{baseCost:130,groupId:20146,iconId:"20011",order:30101},"201471":{baseCost:110,groupId:20147,iconId:"20092",order:30102},"201472":{baseCost:110,groupId:20147,iconId:"20091",order:30103},"201481":{baseCost:170,groupId:20148,iconId:"20022",order:30104},"201482":{baseCost:170,groupId:20148,iconId:"20021",order:30105},"201491":{baseCost:180,groupId:20149,iconId:"20022",order:30106},"201492":{baseCost:180,groupId:20149,iconId:"20021",order:30107},"201501":{baseCost:110,groupId:20150,iconId:"20092",order:30108},"201502":{baseCost:110,groupId:20150,iconId:"20091",order:30109},"201511":{baseCost:180,groupId:20151,iconId:"30012",order:30110},"201512":{baseCost:180,groupId:20151,iconId:"30011",order:30111},"201521":{baseCost:130,groupId:20152,iconId:"10051",order:30112},"201522":{baseCost:110,groupId:20152,iconId:"10051",order:30113},"201531":{baseCost:130,groupId:20153,iconId:"10051",order:30114},"201532":{baseCost:110,groupId:20153,iconId:"10051",order:30115},"201541":{baseCost:130,groupId:20154,iconId:"10051",order:30116},"201542":{baseCost:110,groupId:20154,iconId:"10051",order:30117},"201551":{baseCost:130,groupId:20155,iconId:"10051",order:30118},"201552":{baseCost:110,groupId:20155,iconId:"10051",order:30119},"201561":{baseCost:110,groupId:20156,iconId:"10062",order:30120},"201562":{baseCost:110,groupId:20156,iconId:"10061",order:30121},"201571":{baseCost:160,groupId:20157,iconId:"20021",order:30122},"201581":{baseCost:160,groupId:20158,iconId:"20041",order:30123},"201591":{baseCost:160,groupId:20159,iconId:"20011",order:30124},"201601":{baseCost:100,groupId:20160,iconId:"20041",order:30125},"201611":{baseCost:100,groupId:20161,iconId:"20011",order:30126},"201621":{baseCost:100,groupId:20162,iconId:"20021",order:30127},"201631":{baseCost:70,groupId:20163,iconId:"10011",order:30128},"201641":{baseCost:70,groupId:20164,iconId:"10011",order:30129},"201651":{baseCost:160,groupId:20165,iconId:"20011",order:30130},"201661":{baseCost:160,groupId:20166,iconId:"20011",order:30131},"900011":{baseCost:200,groupId:90001,iconId:"20011",order:30},"900021":{baseCost:200,groupId:90002,iconId:"20011",order:30},"900031":{baseCost:200,groupId:90003,iconId:"20011",order:30},"900041":{baseCost:200,groupId:90004,iconId:"20041",order:30},"900061":{baseCost:200,groupId:90006,iconId:"20011",order:30},"900071":{baseCost:200,groupId:90007,iconId:"20011",order:30},"900081":{baseCost:200,groupId:90008,iconId:"20011",order:30},"900091":{baseCost:200,groupId:90009,iconId:"20011",order:30},"900101":{baseCost:200,groupId:90010,iconId:"20041",order:30},"900111":{baseCost:200,groupId:90011,iconId:"20011",order:30},"900131":{baseCost:200,groupId:90013,iconId:"20011",order:30},"900141":{baseCost:200,groupId:90014,iconId:"20011",order:30},"900151":{baseCost:200,groupId:90015,iconId:"20011",order:30},"900171":{baseCost:200,groupId:90017,iconId:"20011",order:30},"900181":{baseCost:200,groupId:90018,iconId:"20011",order:30},"900231":{baseCost:200,groupId:90023,iconId:"20011",order:30},"900241":{baseCost:200,groupId:90024,iconId:"20011",order:30},"900261":{baseCost:200,groupId:90026,iconId:"20011",order:30},"900271":{baseCost:200,groupId:90027,iconId:"20041",order:30},"900301":{baseCost:200,groupId:90030,iconId:"20011",order:30},"900321":{baseCost:200,groupId:90032,iconId:"20021",order:30},"900351":{baseCost:200,groupId:90035,iconId:"20011",order:30},"900411":{baseCost:200,groupId:90041,iconId:"20011",order:30},"900451":{baseCost:200,groupId:90045,iconId:"20021",order:30},"900521":{baseCost:200,groupId:90052,iconId:"20021",order:30},"900561":{baseCost:200,groupId:90056,iconId:"20011",order:30},"900601":{baseCost:200,groupId:90060,iconId:"20011",order:30},"900611":{baseCost:200,groupId:90061,iconId:"20011",order:30}};function Wn(t){return Qr[t.split("-")[0]]}var cs=Bn(xp),Cp=Object.freeze({skillfilters:Object.freeze({search:"",white:"\u767D\u30B9\u30AD\u30EB",gold:"\u91D1\u30B9\u30AD\u30EB",pink:"\u9032\u5316\u30B9\u30AD\u30EB",unique:"\u56FA\u6709\u30B9\u30AD\u30EB",inherit:"\u7D99\u627F\u3057\u305F\u56FA\u6709\u30B9\u30AD\u30EB",nige:"\u9003\u3052",senkou:"\u5148\u884C",sasi:"\u5DEE\u3057",oikomi:"\u8FFD\u8FBC",short:"\u77ED\u8DDD\u96E2",mile:"\u30DE\u30A4\u30EB",medium:"\u4E2D\u8DDD\u96E2",long:"\u9577\u8DDD\u96E2",turf:"\u829D",dirt:"\u30C0\u30FC\u30C8",phase0:"\u5E8F\u76E4",phase1:"\u4E2D\u76E4",phase2:"\u7D42\u76E4",phase3:"\u30E9\u30B9\u30C8\u30B9\u30D1\u30FC\u30C8",finalcorner:"\u6700\u7D42\u30B3\u30FC\u30CA\u30FC",finalstraight:"\u6700\u7D42\u76F4\u7DDA"}),skilleffecttypes:Object.freeze({1:"\u30B9\u30D4\u30FC\u30C9\u30A2\u30C3\u30D7",2:"\u30B9\u30BF\u30DF\u30CA\u30A2\u30C3\u30D7",3:"\u30D1\u30EF\u30FC\u30A2\u30C3\u30D7",4:"\u6839\u6027\u30A2\u30C3\u30D7",5:"\u8CE2\u3055\u30A2\u30C3\u30D7",9:"\u4F53\u529B\u56DE\u5FA9",21:"\u73FE\u5728\u901F\u5EA6\uFF08\u6E1B\u901F\u306A\u3057\uFF09",22:"\u73FE\u5728\u901F\u5EA6",27:"\u76EE\u6A19\u901F\u5EA6",28:"\u30EC\u30FC\u30F3\u79FB\u52D5\u901F\u5EA6",31:"\u52A0\u901F",37:"Activate random gold skill",42:"\u30B9\u30AD\u30EB\u306E\u52B9\u679C\u6642\u9593\u4E0A\u304C\u308A"}),skilldetails:Object.freeze({accel:"{{n}}m/s\xB2",basinn:"{{n}}\u30D0\u8EAB",conditions:"\u767A\u52D5\u6761\u4EF6",distance_type:Object.freeze(["","\u77ED\u8DDD\u96E2","\u30DE\u30A4\u30EB","\u4E2D\u8DDD\u96E2","\u9577\u8DDD\u96E2"]),baseduration:"\u57FA\u6E96\u6301\u7D9A\u6642\u9593",effectiveduration:"\u52B9\u679C\u6642\u9593\uFF08{{distance}}m\uFF09",durationincrease:"{{n}}\u500D",effects:"\u52B9\u679C",grade:Object.freeze({100:"G1",200:"G2",300:"G3",400:"OP",700:"Pre-OP",800:"Maiden",900:"\u30C7\u30D3\u30E5\u30FC",999:"\u6BCE\u65E5"}),ground_condition:Object.freeze(["","\u826F","\u7A0D\u91CD","\u91CD","\u4E0D\u826F"]),ground_type:Object.freeze(["","\u829D","\u30C0\u30FC\u30C8"]),id:"ID: ",meters:"{{n}}m",motivation:Object.freeze(["","\u7D76\u4E0D\u8ABF","\u4E0D\u8ABF","\u666E\u901A","\u597D\u8ABF","\u7D76\u597D\u8ABF"]),order_rate:"\u30C1\u30E3\u30F3\u30DF\uFF1A{{cm}}\u3001\u30EA\u30B0\u30D2\uFF1A{{loh}}",preconditions:"\u524D\u63D0\u6761\u4EF6",rotation:Object.freeze(["","\u53F3\u56DE\u308A","\u5DE6\u56DE\u308A"]),running_style:Object.freeze(["","\u9003\u3052","\u5148\u884C","\u5DEE\u3057","\u8FFD\u8FBC"]),season:Object.freeze(["","\u65E9\u6625","\u590F","\u79CB","\u51AC","\u6625"]),seconds:"{{n}}s",slope:Object.freeze(["\u5E73\u5730","\u4E0A\u308A\u5742","\u4E0B\u308A\u5742"]),speed:"{{n}}m/s",time:Object.freeze(["","\u671D","\u663C","\u5915\u65B9","\u591C"]),weather:Object.freeze(["","\u6674\u308C","\u66C7\u308A","\u96E8","\u96EA"])})}),Kn=Object.freeze({skillfilters:Object.freeze({search:"Search by skill name or conditions",white:"White skills",gold:"Gold skills",pink:"Evolved skills",unique:"Unique skills",inherit:"Inherited uniques",nige:"Runner",senkou:"Leader",sasi:"Betweener",oikomi:"Chaser",short:"Short",mile:"Mile",medium:"Medium",long:"Long",turf:"Turf",dirt:"Dirt",phase0:"Opening leg",phase1:"Middle leg",phase2:"Final leg",phase3:"Last spurt",finalcorner:"Final corner",finalstraight:"Final straight"}),skilleffecttypes:Object.freeze({1:"Speed up",2:"Stamina up",3:"Power up",4:"Guts up",5:"Wisdom up",9:"Recovery",21:"Current speed",22:"Current speed with natural deceleration",27:"Target speed",28:"Lane movement speed",31:"Acceleration",37:"Activate random gold skill",42:"Increase skill duration"}),skilldetails:Object.freeze({accel:"{{n}}m/s\xB2",basinn:"{{n}} bashin",conditions:"Conditions:",distance_type:Object.freeze(["","Short","Mile","Medium","Long"]),baseduration:"Base duration:",effectiveduration:"Effective duration ({{distance}}m):",durationincrease:"{{n}}\xD7",effects:"Effects:",grade:Object.freeze({100:"G1",200:"G2",300:"G3",400:"OP",700:"Pre-OP",800:"Maiden",900:"Debut",999:"Daily races"}),ground_condition:Object.freeze(["","Good","Yielding","Soft","Heavy"]),ground_type:Object.freeze(["","Turf","Dirt"]),id:"ID: ",meters:"{{n}}m",motivation:Object.freeze(["","Terrible","Bad","Normal","Good","Perfect"]),order_rate:"CM: {{cm}}, LOH: {{loh}}",preconditions:"Preconditions:",rotation:Object.freeze(["","Clockwise","Counterclockwise"]),running_style:Object.freeze(["","Runner","Leader","Betweener","Chaser"]),season:Object.freeze(["","Early spring","Summer","Autumn","Winter","Late spring"]),seconds:"{{n}}s",slope:Object.freeze(["Flat","Uphill","Downhill"]),speed:"{{n}}m/s",time:Object.freeze(["","Morning","Mid day","Evening","Night"]),weather:Object.freeze(["","Sunny","Cloudy","Rainy","Snowy"])})});function B(t){return cs.parseAny(cs.tokenize(t))}var Ky=Object.freeze({nige:[B("running_style==1")],senkou:[B("running_style==2")],sasi:[B("running_style==3")],oikomi:[B("running_style==4")],short:[B("distance_type==1")],mile:[B("distance_type==2")],medium:[B("distance_type==3")],long:[B("distance_type==4")],turf:[B("ground_type==1")],dirt:[B("ground_type==2")],phase0:[B("phase==0"),B("phase_random==0"),B("phase_firsthalf_random==0"),B("phase_laterhalf_random==0")],phase1:[B("phase==1"),B("phase>=1"),B("phase_random==1"),B("phase_firsthalf_random==1"),B("phase_laterhalf_random==1")],phase2:[B("phase==2"),B("phase>=2"),B("phase_random==2"),B("phase_firsthalf_random==2"),B("phase_laterhalf_random==2"),B("phase_firstquarter_random==2"),B("is_lastspurt==1")],phase3:[B("phase==3"),B("phase_random==3"),B("phase_firsthalf_random==3"),B("phase_laterhalf_random==3")],finalcorner:[B("is_finalcorner==1"),B("is_finalcorner_laterhalf==1"),B("is_finalcorner_random==1")],finalstraight:[B("is_last_straight==1"),B("is_last_straight_onetime==1")]}),Hc={};Object.keys(Ct).forEach(t=>{Hc[t]=Ct[t].alternatives.map(e=>cs.parse(cs.tokenize(e.condition)))});function Yy(t,e){let r=Ct[t].rarity;switch(e){case"white":return r==1&&t[0]!="9";case"gold":return r==2;case"pink":return r==6;case"unique":return r>2&&r<6;case"inherit":return t[0]=="9";default:return!0}}var Dp=Object.freeze(["","skill-white","skill-gold","skill-unique","skill-unique","skill-unique","skill-pink"]);function Fc(t){return p("div",{class:`skill ${Dp[Ct[t.id].rarity]} ${t.selected?"selected":""}`,"data-skillid":t.id},p("img",{class:"skillIcon",src:`/uma-tools/icons/${Wn(t.id).iconId}.png`}),p("span",{class:"skillName"},p(z,{id:`skillnames.${t.id}`})),t.dismissable&&p("span",{class:"skillDismiss"},"\u2715"))}function Qe(t){return p(z,{id:"skilldetails.seconds",plural:t,fields:{n:t}})}function uo(t){return`${t}%`}function Ip(t){return p(z,{id:"skilldetails.meters",plural:t,fields:{n:t}})}function ke(t){return function(e){return p(kr,{title:e.toString(),tall:Ir()=="ja"},p(z,{id:`skilldetails.${t}.${e}`}))}}var Vy=new Proxy({accumulatetime:Qe,bashin_diff_behind(t){return p(Ke,null,p(kr,{title:p(z,{id:"skilldetails.meters",plural:t*2.5,fields:{n:t*2.5}})},p(z,{id:"skilldetails.basinn",plural:t,fields:{n:t}})))},bashin_diff_infront(t){return p(Ke,null,p(kr,{title:p(z,{id:"skilldetails.meters",plural:t*2.5,fields:{n:t*2.5}})},p(z,{id:"skilldetails.basinn",plural:t,fields:{n:t}})))},behind_near_lane_time:Qe,behind_near_lane_time_set1:Qe,blocked_all_continuetime:Qe,blocked_front_continuetime:Qe,blocked_side_continuetime:Qe,course_distance:Ip,distance_diff_rate:uo,distance_diff_top(t){return p(Ke,null,p(kr,{title:p(z,{id:"skilldetails.basinn",plural:t/2.5,fields:{n:t/2.5}})},p(z,{id:"skilldetails.meters",plural:t,fields:{n:t}})))},distance_diff_top_float(t){return p(Ke,null,p(kr,{title:p(z,{id:"skilldetails.basinn",plural:t/25,fields:{n:t/25}})},p(z,{id:"skilldetails.meters",plural:t,fields:{n:(t/10).toFixed(1)}})))},distance_rate:uo,distance_rate_after_random:uo,distance_type:ke("distance_type"),grade:ke("grade"),ground_condition:ke("ground_condition"),ground_type:ke("ground_type"),hp_per:uo,infront_near_lane_time:Qe,motivation:ke("motivation"),order_rate(t){return p(Ke,null,p(kr,{title:p(z,{id:"skilldetails.order_rate",fields:{cm:Math.round(t/100*9),loh:Math.round(t/100*12)}})},t))},overtake_target_no_order_up_time:Qe,overtake_target_time:Qe,random_lot:uo,remain_distance:Ip,rotation:ke("rotation"),running_style:ke("running_style"),season:ke("season"),slope:ke("slope"),time:ke("time"),track_id(t){return p(kr,{title:t,tall:Ir()=="ja"},p(z,{id:`tracknames.${t}`}))},weather:ke("weather")},{get(t,e){return t.hasOwnProperty(e)?{name:e,formatArg:t[e]}:{name:e,formatArg(r){return r.toString()}}}}),Nc=class{constructor(e,r){this.left=e;this.right=r}format(){return p(vt,null,this.left.format(),p("span",{class:"operatorAnd"},"&"),this.right.format())}},qc=class{constructor(e,r){this.left=e;this.right=r}format(){return p(vt,null,this.left.format(),p("span",{class:"operatorOr"},"@",p("span",{class:"operatorOrText"},"or")),this.right.format())}};function Gn(t){return class{constructor(e,r){this.cond=e;this.arg=r}format(){return p("div",{class:"condition"},p("span",{class:"conditionName"},this.cond.name),p("span",{class:"conditionOp"},t),p("span",{class:"conditionArg"},this.cond.formatArg(this.arg)))}}}var ss=Bn(Vy,{and:Nc,or:qc,eq:Gn("=="),neq:Gn("!="),lt:Gn("<"),lte:Gn("<="),gt:Gn(">"),gte:Gn(">=")});function Bc(t){return t<=0?t.toString():"+"+t}var fo=Bc;function Lc(t){return p(z,{id:"skilldetails.speed",plural:t,fields:{n:Bc(t)}})}var kp=Object.freeze({1:fo,2:fo,3:fo,4:fo,5:fo,9:t=>`${(t*100).toFixed(1)}%`,21:Lc,22:Lc,27:Lc,31:t=>p(z,{id:"skilldetails.accel",plural:t,fields:{n:Bc(t)}}),42:t=>p(z,{id:"skilldetails.durationincrease",plural:t,fields:{n:t}})});function Op(t){let e=Ct[t.id],r=Ir();return p(Re,{definition:r=="ja"?Cp:Kn},p("div",{class:`expandedSkill ${Dp[e.rarity]}`,"data-skillid":t.id},p("div",{class:"expandedSkillHeader"},p("img",{class:"skillIcon",src:`/uma-tools/icons/${Wn(t.id).iconId}.png`}),p("span",{class:"skillName"},p(z,{id:`skillnames.${t.id}`})),t.dismissable&&p("span",{class:"skillDismiss"},"\u2715")),p("div",{class:"skillDetails"},p("div",null,p(z,{id:"skilldetails.id"}),t.id),Ct[t.id].alternatives.map(n=>p("div",{class:"skillDetailsSection"},n.precondition.length>0&&p(vt,null,p(z,{id:"skilldetails.preconditions"}),p("div",{class:"skillConditions"},ss.parse(ss.tokenize(n.precondition)).format())),p(z,{id:"skilldetails.conditions"}),p("div",{class:"skillConditions"},ss.parse(ss.tokenize(n.condition)).format()),p(z,{id:"skilldetails.effects"}),p("div",{class:"skillEffects"},n.effects.map(i=>p("div",{class:"skillEffect"},p("span",{class:"skillEffectType"},p(z,{id:`skilleffecttypes.${i.type}`},i.type)),p("span",{class:"skillEffectValue"},i.type in kp?kp[i.type](i.modifier/1e4):i.modifier/1e4)))),n.baseDuration>0&&p("span",{class:"skillDuration"},p(z,{id:"skilldetails.baseduration"})," ",p(z,{id:"skilldetails.seconds",fields:{n:n.baseDuration/1e4}})),t.distanceFactor&&n.baseDuration>0&&p("span",{class:"skillDuration"},p(z,{id:"skilldetails.effectiveduration",fields:{distance:t.distanceFactor}})," ",p(z,{id:"skilldetails.seconds",fields:{n:+(n.baseDuration/1e4*(t.distanceFactor/1e3)).toFixed(2)}})))))))}var $y=Object.freeze({1001:["1001"],1002:["1002","2018"],1003:["1003"],1004:["1004"],1005:["1005"],1006:["1006"],2002:["2002","2011"],2001:["2001","2010","2014","2015","2016","2019","2021"],2004:["2004","2012","2017","2020"],2005:["2005","2013"],2006:["2006"],2009:["2009"],3001:["3001"],3002:["3002"],3004:["3004"],3005:["3005"],3007:["3007"],4001:["4001"]}),tr=Object.freeze({rarity:["white","gold","pink","unique","inherit"],icontype:["1001","1002","1003","1004","1005","1006","4001","2002","2001","2004","2005","2006","2009","3001","3002","3004","3005","3007"],strategy:["nige","senkou","sasi","oikomi"],distance:["short","mile","medium","long"],surface:["turf","dirt"],location:["phase0","phase1","phase2","phase3","finalcorner","finalstraight"]});function Xy(t,e,r){let n=e.toUpperCase();if(Cr[t].some(i=>i.toUpperCase().indexOf(n)>-1))return 1;if(r){let i=null;try{i=B(e)}catch{return 0}return Hc[t].some(o=>zc(i,o))?2:0}else return 0}function Tp(t){let e=Ir(),[r,n]=bt(()=>new Set(t.ids)),i={},o={};Object.keys(tr).forEach(v=>{i[v]={},o[v]={},tr[v].forEach(b=>{let[g,y]=bt(v=="icontype");i[v][b]=g,o[v][b]=y})});let a=fr(null),[s,c]=bt("");Ge(function(){t.isOpen&&a.current&&a.current.focus()},[t.isOpen]);let u=new Map(Array.from(t.selected).map(v=>[Wn(v).groupId,v]));function f(v){let b=v.target.closest("div.skill");if(b==null)return;v.stopPropagation();let g=b.dataset.skillid,y=Wn(g).groupId,S=u.get(y)==g,x=new Set(u.values());u.has(y)&&x.delete(u.get(y)),x.add(g),t.setSelected(x)}function l(v){if(v.target.tagName!="BUTTON"&&v.target.tagName!="INPUT")return;v.stopPropagation();let b=v.target.parentElement.dataset.filterGroup,g=v.target.dataset.filter,y=s;b=="search"?(y=v.target.value,c(y)):b=="icontype"?tr.icontype.every(k=>i.icontype[k])?tr.icontype.forEach(k=>k!=g&&o.icontype[k](i.icontype[k]=!1)):(o.icontype[g](i.icontype[g]=!i.icontype[g]),tr.icontype.some(k=>i.icontype[k])||tr.icontype.forEach(k=>o.icontype[k](i.icontype[k]=!0))):(o[b][g](i[b][g]),Object.keys(i[b]).forEach(k=>o[b][k](i[b][k]=!i[b][k]&&k==g)));let S=new Set,x=!0;t.ids.forEach(k=>{let O=y.length>0?Xy(k,y,x):3;x&&O==1&&(x=!1),O&&Object.keys(tr).every(P=>{let E=tr[P].filter(w=>i[P][w]);return E.length==0?!0:P=="rarity"?E.some(w=>Yy(k,w)):P=="icontype"?E.some(w=>$y[w].some(I=>Wn(k).iconId.startsWith(I))):E.some(w=>Ky[w].some(I=>Hc[k].some(M=>zc(I,M))))})&&S.add(k)}),n(S)}function d(v){return p("div",{"data-filter-group":v.group},v.children.map(b=>hi(b,{group:v.group})))}function h(v){return p("button",{"data-filter":v.filter,class:`filterButton ${i[v.group][v.filter]?"active":""}`},p(z,{id:`skillfilters.${v.filter}`}))}function _(v){return p("button",{"data-filter":v.type,class:`iconFilterButton ${i[v.group][v.type]?"active":""}`,style:`background-image:url(/uma-tools/icons/${v.type}1.png)`})}let m=t.ids.map(v=>p("li",{key:v,class:r.has(v)?"":"hidden"},p(Fc,{id:v,selected:u.get(Wn(v).groupId)==v})));return p(Re,{definition:e=="ja"?Cp:Kn},p("div",{class:"filterGroups",onClick:l},p("div",{"data-filter-group":"search"},p(Ke,null,p("input",{type:"text",class:"filterSearch",value:s,placeholder:p(z,{id:"skillfilters.search"}),onInput:l,ref:a}))),p(d,{group:"rarity"},p(h,{filter:"white"}),p(h,{filter:"gold"}),p(h,{filter:"pink"}),p(h,{filter:"unique"}),p(h,{filter:"inherit"})),p(d,{group:"icontype"},tr.icontype.map(v=>p(_,{type:v}))),p(d,{group:"strategy"},p(h,{filter:"nige"}),p(h,{filter:"senkou"}),p(h,{filter:"sasi"}),p(h,{filter:"oikomi"})),p(d,{group:"distance"},p(h,{filter:"short"}),p(h,{filter:"mile"}),p(h,{filter:"medium"}),p(h,{filter:"long"})),p(d,{group:"surface"},p(h,{filter:"turf"}),p(h,{filter:"dirt"})),p(d,{group:"location"},p(h,{filter:"phase0"}),p(h,{filter:"phase1"}),p(h,{filter:"phase2"}),p(h,{filter:"phase3"}),p(h,{filter:"finalcorner"}),p(h,{filter:"finalstraight"}))),p("ul",{class:"skillList",onClick:f},m))}var tn={"10001":["","Sapporo"],"10002":["","Hakodate"],"10003":["","Niigata"],"10004":["","Fukushima"],"10005":["","Nakayama"],"10006":["","Tokyo"],"10007":["","Chukyo"],"10008":["","Kyoto"],"10009":["","Hanshin"],"10010":["","Kokura"],"10101":["","Ooi"]};var us={};Object.keys(tn).forEach(t=>us[t]=tn[t][0]);Object.freeze(us);var Yn={};Object.keys(tn).forEach(t=>Yn[t]=tn[t][1]);Object.freeze(Yn);var Rp=Object.freeze({racetrack:Object.freeze({none:"\u200B",inner:" \uFF08\u5185\uFF09",outer:" \uFF08\u5916\uFF09",outin:" \uFF08\u5916\u2192\u5185\uFF09",orientation:Object.freeze(["","\u53F3","\u5DE6","","\u76F4"]),turf:"\u829D",dirt:"\u30C0\u30FC\u30C8",straight:"\u76F4\u7DDA",corner:"\u30B3\u30FC\u30CA\u30FC{{n}}",uphill:"\u4E0A\u308A\u5742",downhill:"\u4E0B\u308A\u5742",phase0:"\u5E8F\u76E4",phase1:"\u4E2D\u76E4",phase2:"\u7D42\u76E4",phase3:"\u30E9\u30B9\u30C8\u30B9\u30D1\u30FC\u30C8",short:Object.freeze({straight:"\u76F4",corner:"\u30B3{{n}}",uphill:"\u4E0A",downhill:"\u4E0B"})}),tracknames:us,coursedesc:"{{surface}}{{distance}}m{{inout}}"}),Mp=Object.freeze({racetrack:Object.freeze({none:"\u200B",inner:" (inner)",outer:" (outer)",outin:" (outer\u2192inner)",orientation:Object.freeze(["","(clockwise)","(counterclockwise)","","(straight)"]),turf:"Turf",dirt:"Dirt",straight:"Straight \u2192",corner:"Corner \u2B8C{{n}}",uphill:"Uphill \u2197",downhill:"Downhill \u2198",phase0:"Opening leg",phase1:"Middle leg",phase2:"Final leg",phase3:"Last spurt",short:Object.freeze({straight:"\u2192",corner:"\u2B8C{{n}}",uphill:"\u2197",downhill:"\u2198"})}),tracknames:Yn,coursedesc:Object.freeze({one:"{{distance}}m{{inout}}",many:"{{surface}} {{distance}}m{{inout}}"})}),Ep=Object.freeze(["","none","inner","outer","outin"]),Pp=function(){let t=Object.create(null);return Object.keys(_e).forEach(e=>{let r=_e[e].raceTrackId;r in t?t[r].push(+e):t[r]=[+e]}),Object.freeze(t)}();function Ap(t){let e=Ir(),[r,n]=bt(_e[t.courseid].raceTrackId),i=Fs(a=>t.setCourseid(+a.target.value),[t.setCourseid]);function o(a){let s=+a.target.value;n(s),t.setCourseid(Pp[s][0])}return p(Re,{definition:e=="ja"?Rp:Mp},p("div",{class:"trackSelect"},p("select",{value:r,onChange:o,tabindex:t.tabindex},Object.keys(tn).map(a=>p("option",{value:a},p(z,{id:`tracknames.${a}`})))),p("select",{value:t.courseid,onChange:i,tabindex:t.tabindex+1},Pp[r].map(a=>p("option",{value:a},p(z,{id:"coursedesc",plural:_e[a].surface,fields:{distance:_e[a].distance,inout:p(z,{id:`racetrack.${Ep[_e[a].course]}`}),surface:p(z,{id:_e[a].surface==1?"racetrack.turf":"racetrack.dirt"})}}))))))}function en(t){let e=t.up?t.y-11.5:t.y;return p(vt,null,p("text",{class:"distanceMarker",x:`${t.x}%`,y:`${e-(t.up?-.8:.8)}%`,"font-size":"10px","text-anchor":"middle","dominant-baseline":t.up?"hanging":"auto",fill:"rgb(121,64,22)"},`${t.d}m`),p("line",{x1:`${t.x}%`,y1:`${e}%`,x2:`${t.x}%`,y2:`${e+(t.up?-2.5:2.5)}%`,stroke:"rgb(121,64,22)"}))}function rn(t){return p("text",{class:"sectionText",x:"50%",y:"50%",height:"40%",width:"100%",fill:"rgb(121,64,22)"},p(z,{id:`racetrack${t.w<.085?".short":""}.${t.id}`,fields:t.fields}))}function zp(t){let e=Ir(),r=D.getCourse(t.courseid),n=t.xOffset||0,i=t.yOffset||0,o=t.xExtra||0,a=t.yExtra||0;function s(d){let h=d.currentTarget;if(d.offsetX<n)return;let _=h.querySelector(".mouseoverLine"),m=h.querySelector(".mouseoverText"),v=h.getBoundingClientRect().width-n,b=d.offsetX-n,g=d.offsetY-i;_.setAttribute("x1",b),_.setAttribute("x2",b),m.setAttribute("x",b>v-45?b-45:b+5),m.setAttribute("y",g),m.textContent=Math.round(b/v*_e[h.dataset.courseid].distance)+"m",t.mouseMove&&t.mouseMove(b/v)}function c(d){let h=d.currentTarget,_=h.querySelector(".mouseoverLine"),m=h.querySelector(".mouseoverText");_.setAttribute("x1",-5),_.setAttribute("x2",-5),m.setAttribute("x",-5),m.setAttribute("y",-5),t.mouseLeave&&t.mouseLeave()}let u=le(()=>p("div",{class:"racetrackName"},p(z,{id:`tracknames.${r.raceTrackId}`})," ",p(z,{id:"coursedesc",plural:r.surface,fields:{distance:r.distance,inout:p(z,{id:`racetrack.${Ep[_e[t.courseid].course]}`}),surface:p(z,{id:r.surface==1?"racetrack.turf":"racetrack.dirt"})}})," ",p(z,{id:`racetrack.orientation.${r.turn}`})),[t.courseid]),f=le(function(){let[h,_,m]=r.slopes.reduce((w,I)=>{let[M,H,st]=w,lt=M+I.slope/1e4*I.length;return lt>H?[lt,lt,st]:lt<st?[lt,H,lt]:[lt,H,st]},[0,1,0]),v=_-(m+_>-30?0:m),b=r.slopes.slice(),g=0;r.slopes.forEach((w,I)=>{w.start!=g&&b.push({start:g,length:w.start-g,slope:0}),g=w.start+w.length}),g<r.distance&&b.push({start:g,length:r.distance-g,slope:0}),b.sort((w,I)=>w.start-I.start);let y=[50],S=b.reduce((w,I,M)=>{let H=y[y.length-1],st=H-I.slope/1e4*I.length/v*40;return y.push(st),I.slope==0?w.push(p("rect",{x:`${I.start/r.distance*100}%`,y:`${H*.262}%`,width:`${I.length/r.distance*100}%`,height:"26.2%",fill:"rgb(211,243,68)"})):w.push(p("svg",{class:`hillArea ${I.slope<0?"downhill":"uphill"}`,x:`${I.start/r.distance*100}%`,y:"0",width:`${I.length/r.distance*100}%`,height:"26.2%",viewBox:"0 0 100 100",preserveAspectRatio:"none"},p("polygon",{points:`0,${H} 0,100 100,100 100,${st}`,fill:"rgb(211,243,68)"}))),w},[]),x=r.straights.concat(r.corners.map(w=>({start:w.start,end:w.start+w.length}))).sort((w,I)=>w.start-I.start),k=Math.round(D.phaseStart(r.distance,1)),O=Math.round(D.phaseStart(r.distance,2)),C=Math.round(D.phaseStart(r.distance,3)),P=0,E=0;return p(vt,null,S,p("rect",{x:"0",y:"26.2%",width:"100%",height:"1.8%",fill:"rgb(140,170,10)"}),p("svg",{class:"sectionsBg",x:"0",y:"28%",width:"100%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(239,229,241)"}),p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(163,106,175)"})),r.slopes.map(w=>p("svg",{class:"slope",x:`${w.start/r.distance*100}%`,y:"28%",width:`${w.length/r.distance*100}%`,height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:w.slope>0?P%2==0?"rgb(234,207,147)":"rgb(229,196,120)":E%2==0?"rgb(82,195,184)":"rgb(116,206,198)"}),p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:w.slope>0?P++%2==0?"rgb(191,143,37)":"rgb(175,132,33)":E++%2==0?"rgb(42,123,115)":"rgb(50,142,134)"}),p(rn,{id:w.slope>0?"uphill":"downhill",w:w.length/r.distance}))),r.slopes.map((w,I)=>{let M=[],H=!1;return w.start!=0&&(I==0||w.start!=r.slopes[I-1].start+r.slopes[I-1].length)&&(H=!0,M.push(p(en,{d:w.start,x:w.start/r.distance*100,y:42,up:I>0&&w.start-(r.slopes[I-1].start+r.slopes[I-1].length)<r.distance*.05}))),w.start+w.length!=r.distance&&M.push(p(en,{d:w.start+w.length,x:(w.start+w.length)/r.distance*100,y:42,up:H&&w.length<r.distance*.05})),p(vt,null,M)}),p("svg",{class:"sectionsBg",x:"0",y:"46%",width:"100%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(232,232,232)"}),p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(139,139,139)"})),r.straights.map((w,I)=>p("svg",{class:"straight",x:`${w.start/r.distance*100}%`,y:"46%",width:`${(w.end-w.start)/r.distance*100}%`,height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:I%2==0?"rgb(209,235,255)":"rgb(185,224,255)"}),p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:I%2==0?"rgb(23,154,255)":"rgb(9,146,254)"}),p(rn,{id:"straight",w:(w.end-w.start)/r.distance*100}))),r.corners.map((w,I)=>p("svg",{class:"corner",x:`${w.start/r.distance*100}%`,y:"46%",width:`${w.length/r.distance*100}%`,height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:I%2==0?"rgb(255,216,185)":"rgb(254,228,209)"}),p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:I%2==0?"rgb(254,117,9)":"rgb(250,121,27)"}),p(rn,{id:"corner",w:w.length/r.distance,fields:{n:4-(r.corners.length-I-1)%4}}))),x.map((w,I)=>{let M=[],H=!1;return w.start!=0&&(I==0||w.start!=x[I-1].end)&&(H=!0,M.push(p(en,{d:w.start,x:w.start/r.distance*100,y:60,up:I>0&&w.start-x[I-1].end<r.distance*.05}))),w.end!=r.distance&&M.push(p(en,{d:w.end,x:w.end/r.distance*100,y:60,up:H&&w.end-w.start<r.distance*.05})),p(vt,null,M)}),p("svg",{class:"phase phase0",x:"0",y:"64%",width:"16.67%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(0,154,111)"})," ",p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(0,92,66)"})," ",p(rn,{id:"phase0",w:.1667})),p("svg",{class:"phase phase1",x:"16.67%",y:"64%",width:"50%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(242,233,103)"})," ",p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(190,179,16)"})," ",p(rn,{id:"phase1",w:.5})),p("svg",{class:"phase phase2",x:"66.67%",y:"64%",width:"16.67%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(209,134,175)"})," ",p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(149,56,107)"})," ",p(rn,{id:"phase2",w:.1667})),p("svg",{class:"phase phase3",x:"83.33%",y:"64%",width:"16.67%",height:"18%"},p("rect",{x:"0",y:"0",height:"90%",width:"100%",fill:"rgb(199,109,159)"})," ",p("rect",{x:"0",y:"90%",height:"10%",width:"100%",fill:"rgb(133,51,96)"})," ",p(rn,{id:"phase3",w:.1667})),p(en,{d:k,x:"16.67",y:78}),p(en,{d:O,x:"66.67",y:78}),p(en,{d:C,x:"83.33",y:78}),p("rect",{x:"0",y:"82%",height:"18%",width:"100%",fill:"rgb(228,235,240)"}),Array.from({length:25},(w,I)=>I).map(w=>p("line",{x1:`${w/24*100}%`,y1:"96%",x2:`${w/24*100}%`,y2:"100%",stroke:"rgb(107,145,173)","stroke-width":w==0||w==24?"4":"2"})),Array.from({length:24},(w,I)=>I+1).map(w=>p("text",{x:`${(1/48+(w-1)/24)*100}%`,y:"91%","font-size":"10px","text-anchor":"middle","dominant-baseline":"central",fill:"rgb(107,145,173)"},w)),p("rect",{x:"0",y:"98.2%",height:"1.8%",width:"100%",fill:"rgb(107,145,173)"}))},[t.courseid]),l=le(function(){return t.regions.reduce((d,h)=>{if(h.type==0&&h.regions.length>0){let _=h.regions[0].start/r.distance*100;for(;d.seen.has(_);)_+=(3+ +(_==0))/t.width*100;d.seen.add(_),d.elem.push(p("line",{x1:`${_}%`,y1:"0",x2:`${_}%`,y2:"100%",stroke:h.color.stroke,"stroke-width":_==0?4:2}))}else if(h.type==2){let _=h.regions.map(m=>{let v=m.start/r.distance*100,b=(m.end-m.start)/r.distance*100,g=0;for(;g<10&&d.rungs[g].some(S=>m.start>=S.start&&m.start<S.end||m.end>S.start&&m.end<=S.end||S.start>=m.start&&S.start<m.end||S.end>m.start&&S.end<=m.end);)++g;d.rungs[g].push(m);let y=90-10*g;return p("svg",{class:"textbox",x:v+"%",y:y+"%",width:b+"%",height:"10%"},p("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:h.color.fill,stroke:h.color.stroke}),p("text",{x:"0",y:"50%","font-size":"12px","dominant-baseline":"central"},h.text))});d.elem.push(p(vt,null,_))}else d.elem.push(p(vt,null,h.regions.map(_=>p("rect",{x:`${_.start/r.distance*100}%`,y:`${100-h.height}%`,width:`${(_.end-_.start)/r.distance*100}%`,height:`${h.height}%`,fill:h.color.fill,stroke:h.color.stroke}))));return d},{seen:new Set,rungs:Array(10).fill(0).map(d=>[]),elem:[]}).elem},[t.regions,r.distance]);return p(Re,{definition:e=="ja"?Rp:Mp},p("div",{class:"racetrackWrapper",style:`width:${t.width+n+o}px`},u,p("svg",{version:"1.1",width:t.width+n+o,height:t.height+i+a,xmlns:"http://www.w3.org/2000/svg",class:"racetrackView","data-courseid":t.courseid,onMouseMove:s,onMouseLeave:c},p("svg",{x:t.xOffset,y:t.yOffset,width:t.width,height:t.height},f,l,p("line",{class:"mouseoverLine",x1:"-5",y1:"0",x2:"-5",y2:"100%",stroke:"rgb(121,64,22)","stroke-width":"2"}),p("text",{class:"mouseoverText",x:"-5",y:"-5",fill:"rgb(121,64,22)"})),t.children)))}var ni="delete",ot=5,me=1<<ot,Vt=me-1,T={};function gt(){return{value:!1}}function ft(t){t&&(t.value=!0)}function et(t){return t.value}function cu(){}function Jn(t){return t.size===void 0&&(t.size=t.__iterate(fh)),t.size}function Tr(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Jn(t)+e:e}function fh(){return!0}function Co(t,e,r){return(t===0&&!dh(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function ii(t,e){return lh(t,e,0)}function Do(t,e){return lh(t,e,e)}function lh(t,e,r){return t===void 0?r:dh(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function dh(t){return t<0||t===0&&1/t===-1/0}var ph="@@__IMMUTABLE_ITERABLE__@@";function Qt(t){return!!(t&&t[ph])}var hh="@@__IMMUTABLE_KEYED__@@";function ht(t){return!!(t&&t[hh])}var _h="@@__IMMUTABLE_INDEXED__@@";function ue(t){return!!(t&&t[_h])}function vs(t){return ht(t)||ue(t)}var yt=function(e){return Qt(e)?e:Te(e)},Bt=function(t){function e(r){return ht(r)?r:ge(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yt),Er=function(t){function e(r){return ue(r)?r:fe(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yt),Be=function(t){function e(r){return Qt(r)&&!vs(r)?r:sn(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yt);yt.Keyed=Bt;yt.Indexed=Er;yt.Set=Be;var mh="@@__IMMUTABLE_SEQ__@@";function uu(t){return!!(t&&t[mh])}var gh="@@__IMMUTABLE_RECORD__@@";function bs(t){return!!(t&&t[gh])}function or(t){return Qt(t)||bs(t)}var oi="@@__IMMUTABLE_ORDERED__@@";function De(t){return!!(t&&t[oi])}var Oo=0,Oe=1,ye=2,Zc=typeof Symbol=="function"&&Symbol.iterator,yh="@@iterator",Ss=Zc||yh,G=function(e){this.next=e};G.prototype.toString=function(){return"[Iterator]"};G.KEYS=Oo;G.VALUES=Oe;G.ENTRIES=ye;G.prototype.inspect=G.prototype.toSource=function(){return this.toString()};G.prototype[Ss]=function(){return this};function Q(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function At(){return{value:void 0,done:!0}}function fu(t){return!!vh(t)}function Lp(t){return t&&typeof t.next=="function"}function Qc(t){var e=vh(t);return e&&e.call(t)}function vh(t){var e=t&&(Zc&&t[Zc]||t[yh]);if(typeof e=="function")return e}var ai=Object.prototype.hasOwnProperty;function bh(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Te=function(t){function e(r){return r==null?du():or(r)?r.toSeq():Zy(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var o=this,a=this._cache;if(a){for(var s=a.length,c=0;c!==s;){var u=a[i?s-++c:c++];if(n(u[1],u[0],o)===!1)break}return c}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var o=this._cache;if(o){var a=o.length,s=0;return new G(function(){if(s===a)return At();var c=o[i?a-++s:s++];return Q(n,c[0],c[1])})}return this.__iteratorUncached(n,i)},e}(yt),ge=function(t){function e(r){return r==null?du().toKeyedSeq():Qt(r)?ht(r)?r.toSeq():r.fromEntrySeq():bs(r)?r.toSeq():pu(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Te),fe=function(t){function e(r){return r==null?du():Qt(r)?ht(r)?r.entrySeq():r.toIndexedSeq():bs(r)?r.toSeq().entrySeq():wh(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Te),sn=function(t){function e(r){return(Qt(r)&&!vs(r)?r:fe(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Te);Te.isSeq=uu;Te.Keyed=ge;Te.Set=sn;Te.Indexed=fe;Te.prototype[mh]=!0;var Pr=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[Tr(this,n)]:i},e.prototype.__iterate=function(n,i){for(var o=this,a=this._array,s=a.length,c=0;c!==s;){var u=i?s-++c:c++;if(n(a[u],u,o)===!1)break}return c},e.prototype.__iterator=function(n,i){var o=this._array,a=o.length,s=0;return new G(function(){if(s===a)return At();var c=i?a-++s:s++;return Q(n,c,o[c])})},e}(fe),lu=function(t){function e(r){var n=Object.keys(r);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return ai.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var o=this,a=this._object,s=this._keys,c=s.length,u=0;u!==c;){var f=s[i?c-++u:u++];if(n(a[f],f,o)===!1)break}return u},e.prototype.__iterator=function(n,i){var o=this._object,a=this._keys,s=a.length,c=0;return new G(function(){if(c===s)return At();var u=a[i?s-++c:c++];return Q(n,u,o[u])})},e}(ge);lu.prototype[oi]=!0;var Sh=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=Qc(a),c=0;if(Lp(s))for(var u;!(u=s.next()).done&&n(u.value,c++,o)!==!1;);return c},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=this._collection,a=Qc(o);if(!Lp(a))return new G(At);var s=0;return new G(function(){var c=a.next();return c.done?c:Q(n,s++,c.value)})},e}(fe),Np;function du(){return Np||(Np=new Pr([]))}function pu(t){var e=Array.isArray(t)?new Pr(t):fu(t)?new Sh(t):void 0;if(e)return e.fromEntrySeq();if(typeof t=="object")return new lu(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function wh(t){var e=xh(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Zy(t){var e=xh(t);if(e)return e;if(typeof t=="object")return new lu(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function xh(t){return bh(t)?new Pr(t):fu(t)?new Sh(t):void 0}var Ih="@@__IMMUTABLE_MAP__@@";function ws(t){return!!(t&&t[Ih])}function kh(t){return ws(t)&&De(t)}function qp(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function xt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(qp(t)&&qp(e)&&t.equals(e))}var hu="@@__IMMUTABLE_SORTED__@@";function Zn(t){return!!(t&&t[hu])}var lo=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function xs(t){return t>>>1&1073741824|t&3221225471}var Qy=Object.prototype.valueOf;function ce(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return tv(t);case"string":return t.length>iv?ev(t):tu(t);case"object":case"function":return t===null?1108378658:typeof t.hashCode=="function"?xs(t.hashCode(t)):(t.valueOf!==Qy&&typeof t.valueOf=="function"&&(t=t.valueOf(t)),rv(t));case"undefined":return 1108378659;default:if(typeof t.toString=="function")return tu(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function tv(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return xs(e)}function ev(t){var e=Gc[t];return e===void 0&&(e=tu(t),Uc===ov&&(Uc=0,Gc={}),Uc++,Gc[t]=e),e}function tu(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return xs(e)}function rv(t){var e;if(eu&&(e=ru.get(t),e!==void 0)||(e=t[nn],e!==void 0)||!Fp&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[nn],e!==void 0||(e=nv(t),e!==void 0)))return e;if(e=++jc,jc&1073741824&&(jc=0),eu)ru.set(t,e);else{if(Hp!==void 0&&Hp(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Fp)Object.defineProperty(t,nn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[nn]=e;else if(t.nodeType!==void 0)t[nn]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Hp=Object.isExtensible,Fp=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function nv(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}var eu=typeof WeakMap=="function",ru;eu&&(ru=new WeakMap);var jc=0,nn="__immutablehash__";typeof Symbol=="function"&&(nn=Symbol(nn));var iv=16,ov=255,Uc=0,Gc={},po=function(t,e,r){var n=t[e];t[e]=t[r],t[r]=n},av=1e3,sv=.5,_s=function(t,e,r,n,i){if(!(n<e||n>r))for(;r>e;){if(r-e>av){var o=r-e+1,a=n-e+1,s=Math.log(o),c=sv*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(o-c)/o)*Math.sign(a-o/2),f=Math.max(e,Math.floor(n-a*c/o+u)),l=Math.min(r,Math.floor(n+(o-a)*c/o+u));_s(t,f,l,n,i)}var d=t[n],h=e,_=r;for(po(t,e,n),i(t[r],d)>0&&po(t,r,e);h<_;){for(po(t,h++,_--);i(t[h],d)<0;)h++;for(;i(t[_],d)>0;)_--}t[e]===d?po(t,e,_):po(t,++_,r),_<=n&&(e=_+1),n<=_&&(r=_-1)}},cv=function(t,e,r){r||(r=function(n,i){return n>i?1:n<i?-1:0}),_s(t,0,t.length-1,e,r)},Is=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=mu(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var o=this,a=_u(this,n,i);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(n,i)}),a},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a,s){return n(a,s,o)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(ge);Is.prototype[oi]=!0;var Ch=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var o=this,a=0;return i&&Jn(this),this._iter.__iterate(function(s){return n(s,i?o.size-++a:a++,o)},i)},e.prototype.__iterator=function(n,i){var o=this,a=this._iter.__iterator(Oe,i),s=0;return i&&Jn(this),new G(function(){var c=a.next();return c.done?c:Q(n,i?o.size-++s:s++,c.value,c)})},e}(fe),Dh=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){return n(a,a,o)},i)},e.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Oe,i);return new G(function(){var a=o.next();return a.done?a:Q(n,a.value,a.value,a)})},e}(sn),Oh=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var o=this;return this._iter.__iterate(function(a){if(a){Up(a);var s=Qt(a);return n(s?a.get(1):a[1],s?a.get(0):a[0],o)}},i)},e.prototype.__iterator=function(n,i){var o=this._iter.__iterator(Oe,i);return new G(function(){for(;;){var a=o.next();if(a.done)return a;var s=a.value;if(s){Up(s);var c=Qt(s);return Q(n,c?s.get(0):s[0],c?s.get(1):s[1],a)}}})},e}(ge);Ch.prototype.cacheResult=Is.prototype.cacheResult=Dh.prototype.cacheResult=Oh.prototype.cacheResult=yu;function Th(t){var e=Pe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=yu,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(o,a){return r(a,o,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===ye){var i=t.__iterator(r,n);return new G(function(){var o=i.next();if(!o.done){var a=o.value[0];o.value[0]=o.value[1],o.value[1]=a}return o})}return t.__iterator(r===Oe?Oo:Oe,n)},e}function _u(t,e,r){var n=Pe(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,o){var a=t.get(i,T);return a===T?o:e.call(r,a,i,t)},n.__iterateUncached=function(i,o){var a=this;return t.__iterate(function(s,c,u){return i(e.call(r,s,c,u),c,a)!==!1},o)},n.__iteratorUncached=function(i,o){var a=t.__iterator(ye,o);return new G(function(){var s=a.next();if(s.done)return s;var c=s.value,u=c[0];return Q(i,u,e.call(r,c[1],u,t),s)})},n}function mu(t,e){var r=this,n=Pe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=Th(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,o){return t.get(e?i:-1-i,o)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=yu,n.__iterate=function(i,o){var a=this,s=0;return o&&Jn(t),t.__iterate(function(c,u){return i(c,e?u:o?a.size-++s:s++,a)},!o)},n.__iterator=function(i,o){var a=0;o&&Jn(t);var s=t.__iterator(ye,!o);return new G(function(){var c=s.next();if(c.done)return c;var u=c.value;return Q(i,e?u[0]:o?r.size-++a:a++,u[1],c)})},n}function Ph(t,e,r,n){var i=Pe(t);return n&&(i.has=function(o){var a=t.get(o,T);return a!==T&&!!e.call(r,a,o,t)},i.get=function(o,a){var s=t.get(o,T);return s!==T&&e.call(r,s,o,t)?s:a}),i.__iterateUncached=function(o,a){var s=this,c=0;return t.__iterate(function(u,f,l){if(e.call(r,u,f,l))return c++,o(u,n?f:c-1,s)},a),c},i.__iteratorUncached=function(o,a){var s=t.__iterator(ye,a),c=0;return new G(function(){for(;;){var u=s.next();if(u.done)return u;var f=u.value,l=f[0],d=f[1];if(e.call(r,d,l,t))return Q(o,n?l:c++,d,u)}})},i}function uv(t,e,r){var n=cn().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(a){return a+1})}),n.asImmutable()}function fv(t,e,r){var n=ht(t),i=(De(t)?ir():cn()).asMutable();t.__iterate(function(a,s){i.update(e.call(r,a,s,t),function(c){return c=c||[],c.push(n?[s,a]:a),c})});var o=Eh(t);return i.map(function(a){return K(t,o(a))}).asImmutable()}function gu(t,e,r,n){var i=t.size;if(Co(e,r,i))return t;var o=ii(e,i),a=Do(r,i);if(o!==o||a!==a)return gu(t.toSeq().cacheResult(),e,r,n);var s=a-o,c;s===s&&(c=s<0?0:s);var u=Pe(t);return u.size=c===0?c:t.size&&c||void 0,!n&&uu(t)&&c>=0&&(u.get=function(f,l){return f=Tr(this,f),f>=0&&f<c?t.get(f+o,l):l}),u.__iterateUncached=function(f,l){var d=this;if(c===0)return 0;if(l)return this.cacheResult().__iterate(f,l);var h=0,_=!0,m=0;return t.__iterate(function(v,b){if(!(_&&(_=h++<o)))return m++,f(v,n?b:m-1,d)!==!1&&m!==c}),m},u.__iteratorUncached=function(f,l){if(c!==0&&l)return this.cacheResult().__iterator(f,l);if(c===0)return new G(At);var d=t.__iterator(f,l),h=0,_=0;return new G(function(){for(;h++<o;)d.next();if(++_>c)return At();var m=d.next();return n||f===Oe||m.done?m:f===Oo?Q(f,_-1,void 0,m):Q(f,_-1,m.value[1],m)})},u}function lv(t,e,r){var n=Pe(t);return n.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=0;return t.__iterate(function(c,u,f){return e.call(r,c,u,f)&&++s&&i(c,u,a)}),s},n.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(ye,o),c=!0;return new G(function(){if(!c)return At();var u=s.next();if(u.done)return u;var f=u.value,l=f[0],d=f[1];return e.call(r,d,l,a)?i===ye?u:Q(i,l,d,u):(c=!1,At())})},n}function Rh(t,e,r,n){var i=Pe(t);return i.__iterateUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterate(o,a);var c=!0,u=0;return t.__iterate(function(f,l,d){if(!(c&&(c=e.call(r,f,l,d))))return u++,o(f,n?l:u-1,s)}),u},i.__iteratorUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterator(o,a);var c=t.__iterator(ye,a),u=!0,f=0;return new G(function(){var l,d,h;do{if(l=c.next(),l.done)return n||o===Oe?l:o===Oo?Q(o,f++,void 0,l):Q(o,f++,l.value[1],l);var _=l.value;d=_[0],h=_[1],u&&(u=e.call(r,h,d,s))}while(u);return o===ye?l:Q(o,d,h,l)})},i}function dv(t,e){var r=ht(t),n=[t].concat(e).map(function(a){return Qt(a)?r&&(a=Bt(a)):a=r?pu(a):wh(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&ht(i)||ue(t)&&ue(i))return i}var o=new Pr(n);return r?o=o.toKeyedSeq():ue(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=n.reduce(function(a,s){if(a!==void 0){var c=s.size;if(c!==void 0)return a+c}},0),o}function Mh(t,e,r){var n=Pe(t);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;function c(u,f){u.__iterate(function(l,d){return(!e||f<e)&&Qt(l)?c(l,f+1):(a++,i(l,r?d:a-1,n)===!1&&(s=!0)),!s},o)}return c(t,0),a},n.__iteratorUncached=function(i,o){if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(i,o),s=[],c=0;return new G(function(){for(;a;){var u=a.next();if(u.done!==!1){a=s.pop();continue}var f=u.value;if(i===ye&&(f=f[1]),(!e||s.length<e)&&Qt(f))s.push(a),a=f.__iterator(i,o);else return r?u:Q(i,c++,f,u)}return At()})},n}function pv(t,e,r){var n=Eh(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function hv(t,e){var r=Pe(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var o=this,a=0;return t.__iterate(function(s){return(!a||n(e,a++,o)!==!1)&&n(s,a++,o)!==!1},i),a},r.__iteratorUncached=function(n,i){var o=t.__iterator(Oe,i),a=0,s;return new G(function(){return(!s||a%2)&&(s=o.next(),s.done)?s:a%2?Q(n,a++,e):Q(n,a++,s.value,s)})},r}function on(t,e,r){e||(e=ks);var n=ht(t),i=0,o=t.toSeq().map(function(a,s){return[s,a,i++,r?r(a,s,t):a]}).valueSeq().toArray();return o.sort(function(a,s){return e(a[3],s[3])||a[2]-s[2]}).forEach(n?function(a,s){o[s].length=2}:function(a,s){o[s]=a[1]}),n?ge(o):ue(t)?fe(o):sn(o)}function Bp(t,e,r,n){r||(r=ks);var i=ht(t),o=0,a=t.toSeq().map(function(c,u){return[u,c,o++,n?n(c,u,t):c]}).valueSeq().toArray(),s=function(c,u){return r(c[3],u[3])||c[2]-u[2]};return cv(a,e,s),a=a.slice(0,e),a.sort(s).forEach(i?function(c,u){a[u].length=2}:function(c,u){a[u]=c[1]}),i?ge(a):ue(t)?fe(a):sn(a)}function ms(t,e,r,n){e||(e=ks);var i=0,o=t.toSeq().map(function(s,c){return[c,s,i++,r?r(s,c,t):s]}).valueSeq(),a=Pe(t);return a.__iterateUncached=function(s,c){var u=this,f=o.toArray(),l=c?function(O,C){return e(C,O)}:e,d=function(O,C){return l(O[3],C[3])||O[2]-C[2]},h=f.length>>10;h=Math.min(f.length,10);var _=0,m=-1,v=0,b=0,g;function y(){_=m+1,m=Math.min(m+h,f.length-1),v=m-_+1,b=0,h<<=2,_s(f,_,f.length-1,m,d),g=f.slice(_,m+1),g.sort(d).forEach(function(O,C){g[C].length=2})}function S(){return b>=v&&y(),g[b++]}for(var x=0;x<f.length;){var k=S();if(s(k[1],n?k[0]:x,u)===!1)break;x++}return x},a.__iteratorUncached=function(s,c){var u=o.toArray(),f=c?function(x,k){return e(k,x)}:e,l=function(x,k){return f(x[3],k[3])||x[2]-k[2]},d=u.length>>10;d=Math.min(u.length,10);var h=0,_=-1,m=0,v=0,b;function g(){h=_+1,_=Math.min(_+d,u.length-1),m=_-h+1,v=0,d<<=2,_s(u,h,u.length-1,_,l),b=u.slice(h,_+1),b.sort(l).forEach(function(x,k){b[k].length=2})}function y(){return v>=m&&g(),b[v++]}var S=0;return new G(function(){if(S>=u.length)return At();S++;var x=y(l);return Q(s,n?x[0]:S,x[1])})},a}function fs(t,e,r){if(e||(e=ks),r){var n=t.toSeq().map(function(i,o){return[i,r(i,o,t)]}).reduce(function(i,o){return jp(e,i[1],o[1])?o:i});return n&&n[0]}return t.reduce(function(i,o){return jp(e,i,o)?o:i})}function jp(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function ls(t,e,r,n){var i=Pe(t),o=new Pr(r).map(function(a){return a.size});return i.size=n?o.max():o.min(),i.__iterate=function(a,s){for(var c=this,u=this.__iterator(Oe,s),f,l=0;!(f=u.next()).done&&a(f.value,l++,c)!==!1;);return l},i.__iteratorUncached=function(a,s){var c=r.map(function(l){return l=yt(l),Qc(s?l.reverse():l)}),u=0,f=!1;return new G(function(){var l;return f||(l=c.map(function(d){return d.next()}),f=n?l.every(function(d){return d.done}):l.some(function(d){return d.done})),f?At():Q(a,u++,e.apply(null,l.map(function(d){return d.value})))})},i}function K(t,e){return t===e?t:uu(t)?e:t.constructor(e)}function Up(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Eh(t){return ht(t)?Bt:ue(t)?Er:Be}function Pe(t){return Object.create((ht(t)?ge:ue(t)?fe:sn).prototype)}function yu(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Te.prototype.cacheResult.call(this)}function ks(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Fe(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function vu(t,e){if(!t)throw new Error(e)}function Zt(t){vu(t!==1/0,"Cannot perform this action with an infinite size.")}function Ah(t){if(bh(t)&&typeof t!="string")return t;if(De(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function _v(t){return t&&(typeof t.constructor!="function"||t.constructor.name==="Object")}function Rr(t){return typeof t=="object"&&(or(t)||Array.isArray(t)||_v(t))}function vo(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function mv(t,e){return or(t)?t.has(e):Rr(t)&&ai.call(t,e)}function zh(t,e,r){return or(t)?t.get(e,r):mv(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function gs(t){if(Array.isArray(t))return Fe(t);var e={};for(var r in t)ai.call(t,r)&&(e[r]=t[r]);return e}function gv(t,e){if(!Rr(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(or(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!ai.call(t,e))return t;var r=gs(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function yv(t,e,r){if(!Rr(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(or(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(ai.call(t,e)&&r===t[e])return t;var n=gs(t);return n[e]=r,n}function si(t,e,r,n){n||(n=r,r=void 0);var i=Lh(or(t),t,Ah(e),0,r,n);return i===T?r:i}function Lh(t,e,r,n,i,o){var a=e===T;if(n===r.length){var s=a?i:e,c=o(s);return c===s?e:c}if(!a&&!Rr(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(vo)+"]: "+e);var u=r[n],f=a?T:zh(e,u,T),l=Lh(f===T?t:or(f),f,r,n+1,i,o);return l===f?e:l===T?gv(e,u):yv(a?t?Ce():{}:e,u,l)}function vv(t,e,r){return si(t,e,T,function(){return r})}function bu(t,e){return vv(this,t,e)}function bv(t,e){return si(t,e,function(){return T})}function Su(t){return bv(this,t)}function Nh(t,e,r,n){return si(t,[e],r,n)}function wu(t,e,r){return arguments.length===1?t(this):Nh(this,t,e,r)}function xu(t,e,r){return si(this,t,e,r)}function qh(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Fh(this,t)}function Hh(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Fh(this,e,t)}function Fh(t,e,r){for(var n=[],i=0;i<e.length;i++){var o=Bt(e[i]);o.size!==0&&n.push(o)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(a){for(var s=r?function(u,f){Nh(a,f,T,function(l){return l===T?u:r(l,u,f)})}:function(u,f){a.set(f,u)},c=0;c<n.length;c++)n[c].forEach(s)})}function Iu(t,e,r){return ku(t,e,Sv(r))}function ku(t,e,r){if(!Rr(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(or(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,o=n?Er:Bt,a=n?function(c){i===t&&(i=gs(i)),i.push(c)}:function(c,u){var f=ai.call(i,u),l=f&&r?r(i[u],c,u):c;(!f||l!==i[u])&&(i===t&&(i=gs(i)),i[u]=l)},s=0;s<e.length;s++)o(e[s]).forEach(a);return i}function Sv(t){function e(r,n,i){return Rr(r)&&Rr(n)?ku(r,[n],e):t?t(r,n,i):n}return e}function Bh(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Iu(this,t)}function jh(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Iu(this,e,t)}function Cu(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return si(this,t,Ce(),function(n){return ku(n,e)})}function Du(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return si(this,t,Ce(),function(n){return Iu(n,e)})}function To(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Po(){return this.__ownerID?this:this.__ensureOwner(new cu)}function Ro(){return this.__ensureOwner()}function Ou(){return this.__altered}var cn=function(t){function e(r){return r==null?Ce():ws(r)&&!De(r)&&!Zn(r)?r:Ce().withMutations(function(n){var i=t(r);Zt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ce().withMutations(function(o){for(var a=0;a<n.length;a+=2){if(a+1>=n.length)throw new Error("Missing value for key: "+n[a]);o.set(n[a],n[a+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return Kp(this,n,i)},e.prototype.remove=function(n){return Kp(this,n,T)},e.prototype.deleteAll=function(n){var i=yt(n);return i.size===0?this:this.withMutations(function(o){i.forEach(function(a){return o.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ce()},e.prototype.sort=function(n){return ir(on(this,n))},e.prototype.sortBy=function(n,i){return ir(on(this,i,n))},e.prototype.map=function(n,i){return this.withMutations(function(o){o.forEach(function(a,s){o.set(s,n.call(i,a,s,o))})})},e.prototype.__iterator=function(n,i){return new wv(this,n,i)},e.prototype.__iterate=function(n,i){var o=this,a=0;return this._root&&this._root.iterate(function(s){return a++,n(s[1],s[0],o)},i),a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Tu(this.size,this._root,n,this.__hash):this.size===0?Ce():(this.__ownerID=n,this.__altered=!1,this)},e}(Bt);cn.isMap=ws;var at=cn.prototype;at[Ih]=!0;at[ni]=at.remove;at.removeAll=at.deleteAll;at.setIn=bu;at.removeIn=at.deleteIn=Su;at.update=wu;at.updateIn=xu;at.merge=at.concat=qh;at.mergeWith=Hh;at.mergeDeep=Bh;at.mergeDeepWith=jh;at.mergeIn=Cu;at.mergeDeepIn=Du;at.withMutations=To;at.wasAltered=Ou;at.asImmutable=Ro;at["@@transducer/init"]=at.asMutable=Po;at["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};at["@@transducer/result"]=function(t){return t.asImmutable()};var bo=function(e,r){this.ownerID=e,this.entries=r};bo.prototype.get=function(e,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(xt(n,o[a][0]))return o[a][1];return i};bo.prototype.update=function(e,r,n,i,o,a,s){for(var c=o===T,u=this.entries,f=0,l=u.length;f<l&&!xt(i,u[f][0]);f++);var d=f<l;if(d?u[f][1]===o:c)return this;if(ft(s),(c||!d)&&ft(a),!(c&&u.length===1)){if(!d&&!c&&u.length>=Ov)return xv(e,u,i,o);var h=e&&e===this.ownerID,_=h?u:Fe(u);return d?c?f===l-1?_.pop():_[f]=_.pop():_[f]=[i,o]:_.push([i,o]),h?(this.entries=_,this):new bo(e,_)}};var Qn=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Qn.prototype.get=function(e,r,n,i){r===void 0&&(r=ce(n));var o=1<<((e===0?r:r>>>e)&Vt),a=this.bitmap;return a&o?this.nodes[Uh(a&o-1)].get(e+ot,r,n,i):i};Qn.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ce(i));var c=(r===0?n:n>>>r)&Vt,u=1<<c,f=this.bitmap,l=(f&u)!==0;if(!l&&o===T)return this;var d=Uh(f&u-1),h=this.nodes,_=l?h[d]:void 0,m=Pu(_,e,r+ot,n,i,o,a,s);if(m===_)return this;if(!l&&m&&h.length>=Tv)return kv(e,h,f,c,m);if(l&&!m&&h.length===2&&Yp(h[d^1]))return h[d^1];if(l&&m&&h.length===1&&Yp(m))return m;var v=e&&e===this.ownerID,b=l?m?f:f^u:f|u,g=l?m?Gh(h,d,m,v):Dv(h,d,v):Cv(h,d,m,v);return v?(this.bitmap=b,this.nodes=g,this):new Qn(e,b,g)};var So=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};So.prototype.get=function(e,r,n,i){r===void 0&&(r=ce(n));var o=(e===0?r:r>>>e)&Vt,a=this.nodes[o];return a?a.get(e+ot,r,n,i):i};So.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ce(i));var c=(r===0?n:n>>>r)&Vt,u=o===T,f=this.nodes,l=f[c];if(u&&!l)return this;var d=Pu(l,e,r+ot,n,i,o,a,s);if(d===l)return this;var h=this.count;if(!l)h++;else if(!d&&(h--,h<Pv))return Iv(e,f,h,c);var _=e&&e===this.ownerID,m=Gh(f,c,d,_);return _?(this.count=h,this.nodes=m,this):new So(e,h,m)};var ti=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};ti.prototype.get=function(e,r,n,i){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(xt(n,o[a][0]))return o[a][1];return i};ti.prototype.update=function(e,r,n,i,o,a,s){n===void 0&&(n=ce(i));var c=o===T;if(n!==this.keyHash)return c?this:(ft(s),ft(a),Ru(this,e,r,n,[i,o]));for(var u=this.entries,f=0,l=u.length;f<l&&!xt(i,u[f][0]);f++);var d=f<l;if(d?u[f][1]===o:c)return this;if(ft(s),(c||!d)&&ft(a),c&&l===2)return new nr(e,this.keyHash,u[f^1]);var h=e&&e===this.ownerID,_=h?u:Fe(u);return d?c?f===l-1?_.pop():_[f]=_.pop():_[f]=[i,o]:_.push([i,o]),h?(this.entries=_,this):new ti(e,this.keyHash,_)};var nr=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};nr.prototype.get=function(e,r,n,i){return xt(n,this.entry[0])?this.entry[1]:i};nr.prototype.update=function(e,r,n,i,o,a,s){var c=o===T,u=xt(i,this.entry[0]);if(u?o===this.entry[1]:c)return this;if(ft(s),c){ft(a);return}return u?e&&e===this.ownerID?(this.entry[1]=o,this):new nr(e,this.keyHash,[i,o]):(ft(a),Ru(this,e,r,ce(i),[i,o]))};bo.prototype.iterate=ti.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Qn.prototype.iterate=So.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}};nr.prototype.iterate=function(t,e){return t(this.entry)};var wv=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&Gp(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this,i=this._type,o=this._stack;o;){var a=o.node,s=o.index++,c=void 0;if(a.entry){if(s===0)return Wc(i,a.entry)}else if(a.entries){if(c=a.entries.length-1,s<=c)return Wc(i,a.entries[n._reverse?c-s:s])}else if(c=a.nodes.length-1,s<=c){var u=a.nodes[n._reverse?c-s:s];if(u){if(u.entry)return Wc(i,u.entry);o=n._stack=Gp(u,o)}continue}o=n._stack=n._stack.__prev}return At()},e}(G);function Wc(t,e){return Q(t,e[0],e[1])}function Gp(t,e){return{node:t,index:0,__prev:e}}function Tu(t,e,r,n){var i=Object.create(at);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Wp;function Ce(){return Wp||(Wp=Tu(0))}function Kp(t,e,r){var n,i;if(t._root){var o=gt(),a=gt();if(n=Pu(t._root,t.__ownerID,0,void 0,e,r,o,a),!et(a))return t;i=t.size+(et(o)?r===T?-1:1:0)}else{if(r===T)return t;i=1,n=new bo(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Tu(i,n):Ce()}function Pu(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===T?t:(ft(s),ft(a),new nr(e,n,[i,o]))}function Yp(t){return t.constructor===nr||t.constructor===ti}function Ru(t,e,r,n,i){if(t.keyHash===n)return new ti(e,n,[t.entry,i]);var o=(r===0?t.keyHash:t.keyHash>>>r)&Vt,a=(r===0?n:n>>>r)&Vt,s,c=o===a?[Ru(t,e,r+ot,n,i)]:(s=new nr(e,n,i),o<a?[t,s]:[s,t]);return new Qn(e,1<<o|1<<a,c)}function xv(t,e,r,n){t||(t=new cu);for(var i=new nr(t,ce(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}function Iv(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,c=1,u=e.length;s<u;s++,c<<=1){var f=e[s];f!==void 0&&s!==n&&(i|=c,a[o++]=f)}return new Qn(t,i,a)}function kv(t,e,r,n,i){for(var o=0,a=new Array(me),s=0;r!==0;s++,r>>>=1)a[s]=r&1?e[o++]:void 0;return a[n]=i,new So(t,o+1,a)}function Uh(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Gh(t,e,r,n){var i=n?t:Fe(t);return i[e]=r,i}function Cv(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}function Dv(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}var Ov=me/4,Tv=me/2,Pv=me/4,Wh="@@__IMMUTABLE_LIST__@@";function Kh(t){return!!(t&&t[Wh])}var Cs=function(t){function e(r){var n=hs();if(r==null)return n;if(Kh(r))return r;var i=t(r),o=i.size;return o===0?n:(Zt(o),o>0&&o<me?wo(0,o,ot,null,new Or(i.toArray())):n.withMutations(function(a){a.setSize(o),i.forEach(function(s,c){return a.set(c,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=Tr(this,n),n>=0&&n<this.size){n+=this._origin;var o=Yh(this,n);return o&&o.array[n&Vt]}return i},e.prototype.set=function(n,i){return Rv(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ot,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):hs()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(o){Dr(o,0,i+n.length);for(var a=0;a<n.length;a++)o.set(i+a,n[a])})},e.prototype.pop=function(){return Dr(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Dr(i,-n.length);for(var o=0;o<n.length;o++)i.set(o,n[o])})},e.prototype.shift=function(){return Dr(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++){var a=n[o],s=t(typeof a!="string"&&fu(a)?a:[a]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(c){i.forEach(function(u){return u.forEach(function(f){return c.push(f)})})})},e.prototype.setSize=function(n){return Dr(this,0,n)},e.prototype.map=function(n,i){var o=this;return this.withMutations(function(a){for(var s=0;s<o.size;s++)a.set(s,n.call(i,a.get(s),s,a))})},e.prototype.slice=function(n,i){var o=this.size;return Co(n,i,o)?this:Dr(this,ii(n,o),Do(i,o))},e.prototype.__iterator=function(n,i){var o=i?this.size:0,a=Vp(this,i);return new G(function(){var s=a();return s===yo?At():Q(n,i?--o:o++,s)})},e.prototype.__iterate=function(n,i){for(var o=this,a=i?this.size:0,s=Vp(this,i),c;(c=s())!==yo&&n(c,i?--a:a++,o)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?wo(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?hs():(this.__ownerID=n,this.__altered=!1,this)},e}(Er);Cs.isList=Kh;var It=Cs.prototype;It[Wh]=!0;It[ni]=It.remove;It.merge=It.concat;It.setIn=bu;It.deleteIn=It.removeIn=Su;It.update=wu;It.updateIn=xu;It.mergeIn=Cu;It.mergeDeepIn=Du;It.withMutations=To;It.wasAltered=Ou;It.asImmutable=Ro;It["@@transducer/init"]=It.asMutable=Po;It["@@transducer/step"]=function(t,e){return t.push(e)};It["@@transducer/result"]=function(t){return t.asImmutable()};var Or=function(e,r){this.array=e,this.ownerID=r};Or.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Vt;if(i>=this.array.length)return new Or([],e);var o=i===0,a;if(r>0){var s=this.array[i];if(a=s&&s.removeBefore(e,r-ot,n),a===s&&o)return this}if(o&&!a)return this;var c=ei(this,e);if(!o)for(var u=0;u<i;u++)c.array[u]=void 0;return a&&(c.array[i]=a),c};Or.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Vt;if(i>=this.array.length)return this;var o;if(r>0){var a=this.array[i];if(o=a&&a.removeAfter(e,r-ot,n),o===a&&i===this.array.length-1)return this}var s=ei(this,e);return s.array.splice(i+1),o&&(s.array[i]=o),s};var yo={};function Vp(t,e){var r=t._origin,n=t._capacity,i=xo(n),o=t._tail;return a(t._root,t._level,0);function a(u,f,l){return f===0?s(u,l):c(u,f,l)}function s(u,f){var l=f===i?o&&o.array:u&&u.array,d=f>r?0:r-f,h=n-f;return h>me&&(h=me),function(){if(d===h)return yo;var _=e?--h:d++;return l&&l[_]}}function c(u,f,l){var d,h=u&&u.array,_=l>r?0:r-l>>f,m=(n-l>>f)+1;return m>me&&(m=me),function(){for(;;){if(d){var v=d();if(v!==yo)return v;d=null}if(_===m)return yo;var b=e?--m:_++;d=a(h&&h[b],f-ot,l+(b<<f))}}}}function wo(t,e,r,n,i,o,a){var s=Object.create(It);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}var $p;function hs(){return $p||($p=wo(0,0,ot))}function Rv(t,e,r){if(e=Tr(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?Dr(a,e).set(0,r):Dr(a,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=gt();return e>=xo(t._capacity)?n=nu(n,t.__ownerID,0,e,r,o):i=nu(i,t.__ownerID,t._level,e,r,o),et(o)?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):wo(t._origin,t._capacity,t._level,i,n):t}function nu(t,e,r,n,i,o){var a=n>>>r&Vt,s=t&&a<t.array.length;if(!s&&i===void 0)return t;var c;if(r>0){var u=t&&t.array[a],f=nu(u,e,r-ot,n,i,o);return f===u?t:(c=ei(t,e),c.array[a]=f,c)}return s&&t.array[a]===i?t:(o&&ft(o),c=ei(t,e),i===void 0&&a===c.array.length-1?c.array.pop():c.array[a]=i,c)}function ei(t,e){return e&&t&&e===t.ownerID?t:new Or(t?t.array.slice():[],e)}function Yh(t,e){if(e>=xo(t._capacity))return t._tail;if(e<1<<t._level+ot){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Vt],n-=ot;return r}}function Dr(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new cu,i=t._origin,o=t._capacity,a=i+e,s=r===void 0?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(a>=s)return t.clear();for(var c=t._level,u=t._root,f=0;a+f<0;)u=new Or(u&&u.array.length?[void 0,u]:[],n),c+=ot,f+=1<<c;f&&(a+=f,i+=f,s+=f,o+=f);for(var l=xo(o),d=xo(s);d>=1<<c+ot;)u=new Or(u&&u.array.length?[u]:[],n),c+=ot;var h=t._tail,_=d<l?Yh(t,s-1):d>l?new Or([],n):h;if(h&&d>l&&a<o&&h.array.length){u=ei(u,n);for(var m=u,v=c;v>ot;v-=ot){var b=l>>>v&Vt;m=m.array[b]=ei(m.array[b],n)}m.array[l>>>ot&Vt]=h}if(s<o&&(_=_&&_.removeAfter(n,0,s)),a>=d)a-=d,s-=d,c=ot,u=null,_=_&&_.removeBefore(n,0,a);else if(a>i||d<l){for(f=0;u;){var g=a>>>c&Vt;if(g!==d>>>c&Vt)break;g&&(f+=(1<<c)*g),c-=ot,u=u.array[g]}u&&a>i&&(u=u.removeBefore(n,c,a-f)),u&&d<l&&(u=u.removeAfter(n,c,d-f)),f&&(a-=f,s-=f)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=c,t._root=u,t._tail=_,t.__hash=void 0,t.__altered=!0,t):wo(a,s,c,u,_)}function xo(t){return t<me?0:t-1>>>ot<<ot}var ir=function(t){function e(r){return r==null?_o():kh(r)?r:_o().withMutations(function(n){var i=Bt(r);Zt(i.size),i.forEach(function(o,a){return n.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var o=this._map.get(n);return o!==void 0?this._list.get(o)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):_o()},e.prototype.set=function(n,i){return Jp(this,n,i)},e.prototype.remove=function(n){return Jp(this,n,T)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(n,i){var o=this;return this._list.__iterate(function(a){return a&&n(a[1],a[0],o)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),o=this._list.__ensureOwner(n);return n?Mu(i,o,n,this.__hash):this.size===0?_o():(this.__ownerID=n,this._map=i,this._list=o,this)},e}(cn);ir.isOrderedMap=kh;ir.prototype[oi]=!0;ir.prototype[ni]=ir.prototype.remove;function Mu(t,e,r,n){var i=Object.create(ir.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}var Xp;function _o(){return Xp||(Xp=Mu(Ce(),hs()))}function Jp(t,e,r){var n=t._map,i=t._list,o=n.get(e),a=o!==void 0,s,c;if(r===T){if(!a)return t;i.size>=me&&i.size>=n.size*2?(c=i.filter(function(u,f){return u!==void 0&&o!==f}),s=c.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=c.__ownerID=t.__ownerID)):(s=n.remove(e),c=o===i.size-1?i.pop():i.set(o,void 0))}else if(a){if(r===i.get(o)[1])return t;s=n,c=i.set(o,[e,r])}else s=n.set(e,i.size),c=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=c,t.__hash=void 0,t):Mu(s,c)}function Vh(t){return ws(t)&&Zn(t)}var ar=function(e,r,n){this.comparator=e,this.options=r,this.ownerID=n};ar.prototype.getComparator=function(){};ar.prototype.get=function(e,r){};ar.prototype.upsert=function(e,r,n,i,o){};ar.prototype.remove=function(e,r,n,i){};ar.prototype.fastRemove=function(e,r,n,i){};ar.prototype.iterate=function(e,r){};ar.prototype.print=function(e,r){};ar.prototype.checkConsistency=function(e){};var $h=function(){};$h.prototype.pack=function(e,r,n,i){};var Ds=function(){};Ds.prototype.createNode=function(e,r,n,i,o){};Ds.prototype.createPacker=function(){};Ds.prototype.createIterator=function(e,r,n){};var Mv="btree",Xh=33,Dt=function(t){function e(r,n,i,o,a){return t.call(this,r,n,i),this.entries=o,this.nodes=a,this.btreeOrder=n&&n.btreeOrder?n.btreeOrder:Xh,this.btreeNodeSplitSize=Math.floor((this.btreeOrder-1)/2),this._calcSize(),this}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._calcSize=function(){var n=this;this.size=0;for(var i=0;i<this.entries.length;i++)n.entries[i][1]!==T&&n.size++;if(this.nodes)for(var o=0;o<this.nodes.length;o++)n.size+=n.nodes[o].size},e.prototype.getComparator=function(){return this.comparator},e.prototype.get=function(n,i){var o=this.entries,a=gt(),s=Xn(this.comparator,o,n,a);if(et(a)){var c=o[s][1];return c===T?i:c}var u=this.nodes;if(u){var f=u[s].get(n,i);return f===T?i:f}return i},e.prototype.entryAt=function(n){var i=gt(),o=gt(),a=this.indexSearch(n,i,o);if(et(i)){var s=this.entries[a],c=s[0],u=s[1];return[c,u]}return this.nodes[a].entryAt(o.value)},e.prototype.keyAt=function(n){var i=gt(),o=gt(),a=this.indexSearch(n,i,o);if(et(i)){var s=this.entries[a],c=s[0];return c}return this.nodes[a].keyAt(o.value)},e.prototype.valueAt=function(n){var i=gt(),o=gt(),a=this.indexSearch(n,i,o);if(et(i)){var s=this.entries[a],c=s[1];return c}return this.nodes[a].valueAt(o.value)},e.prototype.firstKey=function(){var n=this.nodes;if(n)return n[0].firstKey();var i=this.entries;return i[0][0]},e.prototype.lastKey=function(){var n=this.nodes;if(n)return n[n.length-1].lastKey();var i=this.entries;return i[i.length-1][0]},e.prototype.upsert=function(n,i,o,a,s,c){var u=this._upsert(n,i,o,a,s,c);return this===u&&et(a)&&this.size++,u},e.prototype._upsert=function(n,i,o,a,s,c){if(!c){var u=[],f=this.upsert(n,i,o,a,s,u);if(u[0]){var l=[u[0]],d=[f,u[1]];f=new e(this.comparator,this.options,n,l,d)}return f}var h=this.entries,_=gt(),m=Xn(this.comparator,h,i,_),v=et(_),b=this.nodes,g=n&&n===this.ownerID,y,S;if(v){if(h[m][1]===o)return this;var x=[i,o];ft(s),h[m][1]===T&&ft(a),y=rr(h,m,x,g),S=Vn(b,g)}else if(b){var k=[],O=b[m].upsert(n,i,o,a,s,k);if(et(s))if(k[0]){if(h.length>=this.btreeOrder-1)return this.splitNode(m,O,k,c,n,g);y=Yc(h,m,k[0],g),S=Yc(b,m+1,k[1],g),S[m]=O}else y=Vn(h,g),S=rr(b,m,O,g);else return this}else{var C=[i,o];if(ft(s),ft(a),h.length>=this.btreeOrder-1)return this.splitLeaf(m,C,c,n,g);y=Yc(h,m,C,g)}return this.makeNewNode(y,S,n,g)},e.prototype.fastRemove=function(n,i,o,a){var s=this._fastRemove(n,i,o,a);return this===s&&et(o)&&this.size--,s},e.prototype._fastRemove=function(n,i,o,a){var s=this.entries,c=gt(),u=Xn(this.comparator,s,i,c),f=et(c),l=this.nodes,d=n&&n===this.ownerID,h,_;if(f){if(s[u][1]===T)return this;ft(a),ft(o);var m=[i,T];h=rr(s,u,m,d),_=Vn(l,d)}else if(l){var v=l[u].fastRemove(n,i,o,a);if(et(a))h=Vn(s,d),_=rr(l,u,v,d);else return this}else return this;return this.makeNewNode(h,_,n,d)},e.prototype.remove=function(n,i,o,a,s,c,u){var f=this._remove(n,i,o,a,s,c,u);return this===f&&et(o)&&this.size--,f},e.prototype._remove=function(n,i,o,a,s,c,u){var f=this.entries,l=gt(),d=Xn(this.comparator,f,i,l),h=et(l),_=this.nodes,m=n&&n===this.ownerID,v,b;if(h)if(_){if(f[d][1]===T)return this;ft(a),ft(o);var g=[i,T];v=rr(f,d,g,m),b=Vn(_,m)}else{if(f[d][1]===T)return this;if(ft(a),ft(o),f.length<=this.btreeNodeSplitSize&&s)return this.consolidateLeaf(n,d,s,c,m,u);v=an(f,d,m)}else if(_){var y=[void 0,void 0,void 0],S=_[d].remove(n,i,o,a,this,d,y);return et(a)?this.spliceNode(n,d,S,s,c,m,y,u):this}else return this;return this.makeNewNode(v,b,n,m)},e.prototype.makeNewNode=function(n,i,o,a){return n.length===0?i?i[0]:void 0:a?(this.entries=n,this.nodes=i,this._calcSize(),this):new e(this.comparator,this.options,o,n,i)},e.prototype.print=function(n,i){function o(h){process.stdout.write(h)}if(!(i&&n>=i)){var a=this.nodes,s=this.entries;if(o(ho(n)),o("SIZE="+this.size+`
`),a)for(var c=0;c<a.length;c++){var u=a[c];if(o(ho(n)),!u||!(u instanceof t)?o("+ CORRUPT NODE["+c+"] (L"+n+") "+JSON.stringify(u)+`
`):(u.nodes?o("+ NODE["+c+"] (L"+n+`)
`):o("+ LEAF["+c+"] (L"+n+`)
`),u.print(n+1,i)),c<s.length){o(ho(n));var f=s[c];f?f[1]===T?o("- REMOVED ENTRY["+c+"]: "+JSON.stringify(f[0])+`
`):o("- ENTRY["+c+"]: "+JSON.stringify(f[0])+`
`):o("- CORRUPT ENTRY["+c+"]: "+JSON.stringify(f)+`
`)}}else for(var l=0;l<s.length;l++){o(ho(n));var d=s[l];d?d[1]===T?o("- REMOVED ENTRY["+l+"]: "+JSON.stringify(d[0])+`
`):o("- ENTRY["+l+"]: "+JSON.stringify(d[0])+`
`):o("- CORRUPT ENTRY["+l+"]: "+JSON.stringify(d)+`
`)}}},e.prototype.checkConsistency=function(n,i,o,a){var s=this;function c(y){if(n){var S=y();S!==void 0&&(process.stdout.write(ho(i)),process.stdout.write(S))}}i||(i=0),o||(o=0),a||(a=[void 0]),this.nodes?c(function(){return"+ Checking NODE["+o+"] (L"+i+`)
`}):(c(function(){return"+ Checking LEAF["+o+"] (L"+i+`)
`}),a[0]===void 0?a[0]=i:a[0]!==i&&u(112,"leaves are not on the same level"));function u(y,S){var x="Consistency Check Failed with error code "+y+": "+S;if(n)return c(function(){return x+`
`}),y;throw new Error(x)}var f=this.entries,l=this.nodes;if(!f)return u(101,"empty entries in a node");if(!(f.length>0&&f.length<this.btreeOrder))return u(102,"entries length is out of range from 0 to (btreeOrder-1)");if(i>0&&!(this.btreeNodeSplitSize<=f.length))return u(103,"entries length is shorter than btreeNodeSplitSize");if(l&&l.length!==f.length+1)return u(104,"nodes length out of sync with entries length");for(var d=function(y){var S=f[y];if(!S)return{v:u(105,"empty entry")};if(!(typeof S=="object"&&S instanceof Array))return{v:u(106,"entry is not Array")};if(S.length!==2)return{v:u(107,"entry is not Array[2]")};S[1]===T?(c(function(){return"    - Checking REMOVED ENTRY["+y+"]: "+JSON.stringify(S[0])+`
`}),l||u(113,"NOT_SET values are not allowed in leaves")):c(function(){return"    - Checking ENTRY["+y+"]: "+JSON.stringify(S[0])+`
`})},h=0;h<f.length;h++){var _=d(h);if(_)return _.v}for(var m=0;m<f.length-1;m++)if(!(s.comparator(f[m][0],f[m+1][0])<0))return u(108,"the entries are not sorted");if(l)for(var v=0;v<l.length;v++){var b=l[v];if(!b||!(b instanceof t))return u(109,"empty or corrupt node");var g=b.checkConsistency(n,i+1,v,a);if(g!==0)return g;if(v>0&&!(s.comparator(f[v-1][0],b.firstKey())<0))return u(110,"the entry and right node not sorted");if(v<f.length&&!(s.comparator(b.lastKey(),f[v][0])<0))return u(111,"the entry and left node not sorted")}return 0},e}(ar);Dt.prototype.iterate=function(t,e){var r=this.entries,n=this.nodes;if(n){for(var i=0,o=r.length-1;i<=o;i++){var a=n[e?o+1-i:i];if(a.iterate(t,e)===!1)return!1;var s=r[e?o-i:i];if(s[1]!==T&&t(s)===!1)return!1}var c=n[e?0:n.length-1];if(c.iterate(t,e)===!1)return!1}else for(var u=0,f=r.length-1;u<=f;u++){var l=r[e?f-u:u];if(l[1]!==T&&t(l)===!1)return!1}return!0};Dt.prototype.iterateFrom=function(t,e,r){var n=this;if(r)return this.iterate(function(v){return n.comparator(t,v[0])<=0?e(v):!0},r);var i=this.entries,o=this.nodes,a=gt(),s=Xn(this.comparator,i,t,a);if(o){for(var c=s,u=i.length-1;c<=u;c++){var f=o[c];if(c===s&&!et(a)){if(f.iterateFrom(t,e,r)===!1)return!1}else if(c>s&&f.iterate(e,r)===!1)return!1;var l=i[c];if(l[1]!==T&&e(l)===!1)return!1}var d=o[o.length-1];if(s===o.length-1){if(d.iterateFrom(t,e,r)===!1)return!1}else if(d.iterate(e,r)===!1)return!1}else for(var h=s,_=i.length-1;h<=_;h++){var m=i[h];if(m[1]!==T&&e(m)===!1)return!1}return!0};Dt.prototype.iterateFromBackwards=function(t,e,r){var n=this;if(r)return this.iterate(function(h){return n.comparator(h[0],t)<=0?e(h):!0},!1);var i=this.entries,o=this.nodes,a=gt(),s=Xn(this.comparator,i,t,a);if(o)for(var c=s;c>=0;c--){if(c<s||et(a)){var u=i[c];if(u[1]===T)continue;if(e(u)===!1)return!1}var f=o[c];if(c===s&&!et(a)){if(f.iterateFromBackwards(t,e,r)===!1)return!1}else if(f.iterate(e,!0)===!1)return!1}else for(var l=et(a)?s:s-1;l>=0;l--){var d=i[l];if(d[1]!==T&&e(d)===!1)return!1}return!0};Dt.prototype.iterateFromIndex=function(t,e){var r=this.entries,n=this.nodes,i=gt(),o=gt(),a=this.indexSearch(t,i,o);if(n){for(var s=a,c=r.length-1;s<=c;s++){var u=n[s];if(s===a&&!et(i)){if(u.iterateFromIndex(o.value,e)===!1)return!1}else if(s>a&&u.iterate(e,!1)===!1)return!1;var f=r[s];if(f[1]!==T&&e(f)===!1)return!1}var l=n[n.length-1];if(a===n.length-1){if(l.iterateFromIndex(o.value,e)===!1)return!1}else if(l.iterate(e,!1)===!1)return!1}else for(var d=a,h=r.length-1;d<=h;d++){var _=r[d];if(_[1]!==T&&e(_)===!1)return!1}return!0};Dt.prototype.iterateFromIndexBackwards=function(t,e){var r=this.entries,n=this.nodes,i=gt(),o=gt(),a=this.indexSearch(t,i,o);if(n)for(var s=a;s>=0;s--){if(s<a||et(i)){var c=r[s];if(c[1]===T)continue;if(e(c)===!1)return!1}var u=n[s];if(s===a&&!et(i)){if(u.iterateFromIndexBackwards(o.value,e)===!1)return!1}else if(u.iterate(e,!0)===!1)return!1}else for(var f=et(i)?a:a-1;f>=0;f--){var l=r[f];if(l[1]!==T&&e(l)===!1)return!1}return!0};var Ev=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&Qp(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this,i=this._type,o=this._stack;o;){var a=o.node,s=o.index++;if(a.nodes){var c=a.entries.length+a.nodes.length-1;if(s<=c)if(s%2===0){s/=2;var u=a.nodes[n._reverse?a.nodes.length-1-s:s];u&&(o=n._stack=Qp(u,o));continue}else{s=(s-1)/2;var f=a.entries[n._reverse?a.entries.length-1-s:s];if(f[1]===T)continue;return Zp(i,f)}}else{var l=a.entries.length-1;if(s<=l){var d=a.entries[n._reverse?l-s:s];if(d[1]===T)continue;return Zp(i,d)}}o=n._stack=n._stack.__prev}return At()},e}(G);function Zp(t,e){return Q(t,e[0],e[1])}function Qp(t,e){return{node:t,index:0,__prev:e}}function wt(t){var e=new Array(t);return e}var Kc=new Array(120).join(" ");function ho(t){var e=4*t;return e>Kc.length&&(e=Kc.length),Kc.substring(0,e)}function Vn(t,e){if(t===void 0||e)return t;for(var r=t.length,n=wt(r),i=0;i<r;i++)n[i]=t[i];return n}function rr(t,e,r,n){if(n)return t[e]=r,t;for(var i=t.length,o=wt(i),a=0;a<e;a++)o[a]=t[a];o[e]=r;for(var s=e+1;s<i;s++)o[s]=t[s];return o}function Yc(t,e,r,n){var i=t.length+1;if(n){for(var o=i-1,a=e+1;o>=a;o--)t[o]=t[o-1];return t[e]=r,t}for(var s=wt(i),c=0;c<e;c++)s[c]=t[c];s[e]=r;for(var u=e+1;u<i;u++)s[u]=t[u-1];return s}function an(t,e,r){var n=t.length-1;if(r){for(var i=e;i<n;i++)t[i]=t[i+1];return t.length=n,t}for(var o=wt(n),a=0;a<e;a++)o[a]=t[a];for(var s=e;s<n;s++)o[s]=t[s+1];return o}function $n(t,e,r,n){var i=t.length-r;if(n){for(var o=e;o<i;o++)t[o]=t[o+r];return t.length=i,t}for(var a=wt(i),s=0;s<e;s++)a[s]=t[s];for(var c=e;c<i;c++)a[c]=t[c+r];return a}function iu(t,e,r,n){var i=t.length-1+r,o;n?(t.length=i,o=t):o=wt(i);for(var a=i-1,s=e+r;a>=s;a--)o[a]=t[a-r+1];for(var c=e+r-1;c>=r;c--)o[c]=t[c-r];return o}function th(t,e,r,n,i){var o=an(t,n,i);return e<n?o[e]=r:e>n&&(o[e-1]=r),o}function Xn(t,e,r,n){for(var i=0,o=e.length;o>0;){var a=Math.floor(o/2),s=e[i+a],c=s[0],u=t(r,c);if(u===0)return ft(n),i+a;u>0?(i+=a+1,o-=a+1):o=a}return i}Dt.prototype.indexSearch=function(t,e,r){if(t<0||t>=this.size)throw new Error("BtreeNode.indexSearch: index is out of bounds: "+t+" vs "+this.size);for(var n=this.entries,i=this.nodes,o=0;o<n.length;o++){if(i){var a=i[o];if(t<a.size)return r.value=t,o;t-=a.size}var s=n[o];if(s[1]!==T){if(t===0)return ft(e),o;t--}}if(i){var c=i[i.length-1];if(t<c.size)return r.value=t,i.length-1}throw new Error("BtreeNode.indexSearch: inconsistent node size")};Dt.prototype.splitNode=function(t,e,r,n,i,o){var a=this.entries,s=this.nodes,c=this.btreeNodeSplitSize,u,f;if(t<c){var l=a.slice(c,a.length),d=s.slice(c,s.length),h=new Dt(this.comparator,this.options,this.ownerID,l,d);if(n[0]=a[c-1],n[1]=h,o){a.length=c,s.length=c+1;for(var _=c-1;_>=t+1;_--)a[_]=a[_-1],s[_+1]=s[_];a[t]=r[0],s[t]=e,s[t+1]=r[1],u=a,f=s}else{u=wt(c),f=wt(c+1);for(var m=0;m<t;m++)u[m]=a[m],f[m]=s[m];u[t]=r[0],f[t]=e,f[t+1]=r[1];for(var v=t+1;v<c;v++)u[v]=a[v-1],f[v+1]=s[v]}}else if(t===c){var b=wt(a.length-c),g=wt(s.length-c);b[0]=a[c],g[0]=r[1];for(var y=1,S=b.length;y<S;y++)b[y]=a[c+y],g[y]=s[c+y];g[g.length-1]=s[s.length-1];var x=new Dt(this.comparator,this.options,this.ownerID,b,g);if(n[0]=r[0],n[1]=x,o)a.length=c,s.length=c+1,s[t]=e,u=a,f=s;else{u=wt(c),f=wt(c+1);for(var k=0;k<c;k++)u[k]=a[k],f[k]=s[k];f[t]=e}}else{for(var O=wt(a.length-c),C=wt(s.length-c),P=c+1,E=t-P,w=0,I=E;w<I;w++)O[w]=a[P+w],C[w]=s[P+w];O[E]=r[0],C[E]=e,C[E+1]=r[1];for(var M=E+1,H=O.length;M<H;M++)O[M]=a[c+M],C[M+1]=s[c+M+1];var st=new Dt(this.comparator,this.options,this.ownerID,O,C);n[0]=a[c],n[1]=st,o?(a.length=c,s.length=c+1,u=a,f=s):(u=a.slice(0,c),f=s.slice(0,c+1))}return this.makeNewNode(u,f,i,o)};Dt.prototype.splitLeaf=function(t,e,r,n,i){var o=this.entries,a=this.btreeNodeSplitSize,s,c;if(t<a){var u=o.slice(a,o.length),f=new Dt(this.comparator,this.options,this.ownerID,u);if(r[0]=o[a-1],r[1]=f,i){o.length=a;for(var l=a-1;l>=t+1;l--)o[l]=o[l-1];o[t]=e,s=o}else{s=wt(a);for(var d=0;d<t;d++)s[d]=o[d];s[t]=e;for(var h=t+1;h<a;h++)s[h]=o[h-1]}}else if(t===a){var _=wt(o.length-a);_[0]=o[a];for(var m=1,v=_.length;m<v;m++)_[m]=o[a+m];var b=new Dt(this.comparator,this.options,this.ownerID,_);if(r[0]=e,r[1]=b,i)o.length=a,s=o;else{s=wt(a);for(var g=0;g<a;g++)s[g]=o[g]}}else{for(var y=wt(o.length-a),S=a+1,x=t-S,k=0,O=x;k<O;k++)y[k]=o[S+k];y[x]=e;for(var C=x+1,P=y.length;C<P;C++)y[C]=o[a+C];var E=new Dt(this.comparator,this.options,this.ownerID,y);r[0]=o[a],r[1]=E,i?(o.length=a,s=o):s=o.slice(0,a)}return this.makeNewNode(s,c,n,i)};Dt.prototype.spliceNode=function(t,e,r,n,i,o,a,s){var c=this.entries,u=this.nodes,f,l,d=a[0],h=a[1],_=a[2];if(h===T){if(c.length<=this.btreeNodeSplitSize&&n)return _?this.consolidateNode(t,e,r,e-1,e-1,n,i,o,s):this.consolidateNode(t,e,r,e,e+1,n,i,o,s);_?(l=th(u,e,r,e-1,o),f=an(c,e-1,o)):(l=th(u,e,r,e+1,o),f=an(c,e,o))}else l=rr(u,e,r,o),h?_?(l[e-1]=h,f=rr(c,e-1,d,o)):(l[e+1]=h,f=rr(c,e,d,o)):d?f=rr(c,e,d,o):f=Vn(c,o);return this.makeNewNode(f,l,t,o)};Dt.prototype.consolidateNode=function(t,e,r,n,i,o,a,s,c){var u=this.entries,f=this.nodes,l=o.entries,d=o.nodes,h,_,m,v;if(a===0)v=d[a+1],_=h=v;else if(a===d.length-1)m=d[a-1],_=h=m;else{m=d[a-1],v=d[a+1];var b=(m.entries.length-this.btreeNodeSplitSize+1)/2,g=(v.entries.length-this.btreeNodeSplitSize+1)/2;b>=g?(h=m,_=v):(h=v,_=m)}var y,S;function x(C,P,E){y=iu(u,n,P,s),S=iu(f,i,P,s);var w=e<i?e+P:e+P-1;S[w]=r;var I=P-1;y[I]=l[a-1],S[I--]=C.nodes[C.nodes.length-1];var M;for(M=C.entries.length-1;I>=0;I--,M--)y[I]=C.entries[M],S[I]=C.nodes[M];if(E)c[1]=T;else{c[0]=C.entries[M];var H=$n(C.entries,C.entries.length-P,P,s),st=$n(C.nodes,C.nodes.length-P,P,s);c[1]=C.makeNewNode(H,st,t,s)}c[2]=!0}function k(C,P,E){y=an(u,n,s),S=an(f,i,s);var w=y.length;y.length+=P,S.length+=P;var I=e<i?e:e-1;S[I]=r,y[w++]=l[a],S[w]=C.nodes[0];for(var M=0,H=P-1;M<H;M++)y[w+M]=C.entries[M],S[w+M+1]=C.nodes[M+1];if(E)c[1]=T;else{c[0]=C.entries[P-1];var st=$n(C.entries,0,P,s),lt=$n(C.nodes,0,P,s);c[1]=C.makeNewNode(st,lt,t,s)}c[2]=!1}var O=Math.floor((h.entries.length-this.btreeNodeSplitSize+1)/2);return O>0?h===m?x(h,O):k(h,O):_===m?x(_,_.entries.length+1,!0):k(_,_.entries.length+1,!0),this.makeNewNode(y,S,t,s)};Dt.prototype.consolidateLeaf=function(t,e,r,n,i,o){var a=this.entries,s=r.entries,c=r.nodes,u,f,l;if(n===0)l=c[n+1],u=l;else if(n===c.length-1)f=c[n-1],u=f;else{f=c[n-1],l=c[n+1];var d=f.entries.length-this.btreeNodeSplitSize,h=l.entries.length-this.btreeNodeSplitSize;d>=h?u=f:u=l}var _;function m(O,C,P){_=iu(a,e,C,i);var E=C;g||(_[C-1]=b,E--);for(var w=0;w<E;w++)_[w]=O.entries[O.entries.length-E+w];if(P)o[1]=T;else{E++,o[0]=O.entries[O.entries.length-E];var I=$n(O.entries,O.entries.length-E,E,i);o[1]=O.makeNewNode(I,void 0,t,i)}o[2]=!0}function v(O,C,P){_=an(a,e,i);var E=_.length;_.length+=C;var w=C;g||(_[E++]=b,w--);for(var I=0;I<w;I++)_[E+I]=O.entries[I];if(P)o[1]=T;else{o[0]=O.entries[w++];var M=$n(O.entries,0,w,i);o[1]=O.makeNewNode(M,void 0,t,i)}o[2]=!1}var b=u===f?s[n-1]:s[n],g=b[1]===T,y=g?1:0,S=u.entries.length-this.btreeNodeSplitSize-y;if(S>0){var x=Math.floor((S+1)/2);u===f?m(u,x):v(u,x)}else{var k=u.entries.length+1-y;u===f?m(u,k,!0):v(u,k,!0)}return this.makeNewNode(_,void 0,t,i)};var Eu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.calcPlanCnt=function(n,i){if(i<1||i>20)throw new Error("Height is out of supported limit");for(var o=n-1,a=1;a<i;a++)o=o*n+(n-1);return o},e.prototype.prepareCachedPlan=function(n,i){var o=n.toString()+" "+i.toString(),a=e.cache[o];if(a)return a;var s=this.preparePlan(n,i);return this.verifyPlan(s),n<100&&i<=100&&i>=n&&e.cacheSize<500&&(e.cache[o]=s,e.cacheSize++),s},e.prototype.preparePlan=function(n,i){for(var o=n-1,a=1,s=o,c;s<i;)c=s,s=s*n+o,a++;if(s===i)return{op:"build",full:!0,height:a,order:n,repeat:1,total:i};if(a===1)return{op:"build",full:!1,height:a,order:n,repeat:1,total:i};var u=c,f=1+Math.floor(i/(u+1));if(f<2)throw new Error("Something is wrong, the rootOrder is expected to be >= 2");if(f*u+(f-1)===i){var l=f,d=[],h=l*u+l-1;return d.push({op:"build",full:!0,height:a-1,order:n,repeat:f,total:h}),{op:"assemble",height:a,order:n,total:h,items:d}}var _=[];if(f>2){var m=f-2,v=m*u+m-1,b={op:"build",full:!0,height:a-1,order:n,repeat:m,total:v};_.push(b),i-=v,i--}i--;var g=Math.floor(i/2);i-g>0&&_.push(this.prepareCachedPlan(n,i-g)),g>0&&_.push(this.prepareCachedPlan(n,g));for(var y=0,S=_.length,x=0;x<S;x++)y+=_[x].total;return y+=_.length-1,{op:"assemble",height:a,order:n,total:y,items:_}},e.prototype.verifyPlan=function(n,i){var o=this;function a(_){throw new Error(_)}if(i===void 0&&(i=0),n.op==="assemble"){for(var s=0,c=n.items.length,u=0;u<c;u++){var f=n.items[u];s+=f.total,f.op==="build"&&(f.order>=f.repeat||a("Plan verification test failed: pl.order >= pl.repeat: "+JSON.stringify(f))),n.height!==f.height+1&&a("Plan verification test failed: plan.height === pl.height+1"),o.verifyPlan(f,i+1)}s+=n.items.length-1,n.total!==s&&a("Count mismatch: "+n.total+" vs "+s)}else if(n.op==="build"){var l=this.calcPlanCnt(n.order,n.height);if(n.full){var d=l*n.repeat+n.repeat-1;n.total!==d&&a("Plan verification test failed: plan.total === ec")}else{n.height!==1&&a("Plan verification test failed: expected height 1, got instead "+n.height),n.total<l||a("Plan verification test failed: plan.total < ec");var h=Math.floor((n.order-1)/2);i>0&&!(n.total>=h)&&a("Plan verification test failed: plan.total >= halfSize: "+n.total+", "+h)}}else a("Plan verification test failed: invalid op: "+n.op)},e.prototype.runPlan=function(n,i){var o=this;function a(l){throw l="Packing Plan is corrupt: "+l,new Error(l)}if(n.op==="assemble")for(var s=n.items.length,c=0;c<s;c++)c>0&&o.populate(i,1),o.runPlan(n.items[c],i);else if(n.op==="build")for(var u=(n.total-n.repeat+1)/n.repeat,f=0;f<n.repeat;f++)f>0&&o.populate(i,1),o.populate(i,u);else a("invalid op: "+n.op);this.flush(n.height)},e.prototype.flushLevel=function(n){this.prepareLevel(n+1);var i=this.stack[n];i._calcSize(),this.addNode(n+1,i),this.stack[n]=void 0},e.prototype.flush=function(n){for(var i=this,o=0;o<n;o++){var a=o;i.stack[a]&&i.flushLevel(a)}this.stackLevel=n},e.prototype.populate=function(n,i){for(var o=this,a=0;a<i;a++){var s=n.next();if(o.entriesCnt++,s.done)throw new Error("unexpected end of iterator at "+o.entriesCnt+" vs "+n.size);var c=s.value,u=o.stackLevel;o.prepareLevel(u),o.addEntry(u,c),u>0?o.stackLevel=0:o.stackIndices[u]===o.order-1&&(o.flushLevel(u),o.stackLevel++)}},e.prototype.addEntry=function(n,i){this.stack[n].entries[this.stackIndices[n]++]=i},e.prototype.addNode=function(n,i){this.stack[n].nodes[this.stackIndices[n]]=i,this.stackIndices[n]===this.order-1&&(this.flushLevel(n),this.stackLevel++)},e.prototype.prepareLevel=function(n){if(!this.stack[n]){var i=wt(this.order-1);i.length=0;var o;n>0&&(o=wt(this.order),o.length=0),this.stack[n]=new Dt(this.comparator,this.options,this.ownerID,i,o),this.stackIndices[n]=0}},e.prototype.finish=function(){var n=this.stackLevel;if(!(n>=this.stack.length))return this.stack[n].nodes[0]},e.prototype.pack=function(n,i,o,a){if(i&&i.type&&i.type!==Mv)throw new Error("Unsuported type by btree factory: "+i.type);this.order=i&&i.btreeOrder?i.btreeOrder:Xh;var s=Bt(a);Zt(s.size);var c=this.preparePlan(this.order,s.size);this.comparator=n,this.options=i,this.ownerID=o,this.stack=[],this.stackIndices=[],this.stackLevel=0,this.entriesCnt=0;var u=s.entries();if(this.runPlan(c,u),!u.next().done)throw new Error("iterator did not end when expected");return this.finish()},e}($h);Eu.cache={};Eu.cacheSize=0;var Av=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(n,i,o,a,s){return new Dt(n,i,o,a,s)},e.prototype.createPacker=function(){return new Eu},e.prototype.createIterator=function(n,i,o){return new Ev(n,i,o)},e}(Ds),Ot=function(t){function e(r,n,i){return n||(this instanceof e&&(n=this.getComparator()),n||(n=e.defaultComparator)),i||(this instanceof e&&(i=this.getOptions()),i||(i=e.defaultOptions)),r==null?er(n,i):Vh(r)&&r.getComparator()===n&&r.getOptions()===i?r:er(n,i).withMutations(function(o){o.pack(r)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return er().withMutations(function(o){for(var a=0;a<n.length;a+=2){if(a+1>=n.length)throw new Error("Missing value for key: "+n[a]);o.set(n[a],n[a+1])}})},e.prototype.toString=function(){return this.__toString("SortedMap {","}")},e.prototype.getComparator=function(){return this._comparator},e.prototype.getOptions=function(){return this._options},e.prototype.get=function(n,i){return this._root?this._root.get(n,i):i},e.prototype.entryAt=function(n){return this._root?this._root.entryAt(n):new Error("index is out of bounds")},e.prototype.keyAt=function(n){return this._root?this._root.keyAt(n):new Error("index is out of bounds")},e.prototype.valueAt=function(n){return this._root?this._root.valueAt(n):new Error("index is out of bounds")},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__altered=!0,this):er(this._comparator,this._options)},e.prototype.pack=function(n){var i=this,o;if(n===void 0)o=this;else{var a=0,s=Bt(n).map(function(g,y){return[y,g,a++]}).valueSeq().toArray();if(s.length===0)return this.__ownerID?(this._root=void 0,this.size=0,this.__altered=!0,this):er(this._comparator,this._options);s.sort(function(g,y){return i._comparator(g[0],y[0])||g[2]-y[2]});for(var c=[],u=0,f=s.length-1;u<f;u++){var l=s[u],d=s[u+1];if(i._comparator(l[0],d[0])<0){var h=[l[0],l[1]];c.push(h)}}var _=s[s.length-1],m=[_[0],_[1]];c.push(m),o=ge(c)}Zt(o.size);var v=o.size,b=this._factory.createPacker().pack(this._comparator,this._options,this.__ownerID,o);return this.__ownerID?(this._root=b,this.size=v,this.__altered=!0,this):b?Io(this._comparator,this._options,v,b):er(this._comparator,this._options)},e.prototype.set=function(n,i){return Vc(this,n,i)},e.prototype.remove=function(n){return Vc(this,n,T)},e.prototype.fastRemove=function(n){return Vc(this,n,T,!0)},e.prototype.sort=function(n){return e(this,n,this.getOptions())},e.prototype.sortBy=function(n,i){return e(on(this,i,n),i,this.getOptions())},e.prototype.__iterator=function(n,i){return this._factory.createIterator(this,n,i)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Io(this._comparator,this._options,this.size,this._root,n):this.size===0?er(this._comparator,this._options):(this.__ownerID=n,this.__altered=!1,this)},e.prototype.checkConsistency=function(n){var i=this;if(this._root)return this.size>0?this._root.checkConsistency(n):1;if(this.size!==0)return 2;var o=0,a;return this.keySeq().forEach(function(s){if(o&&!(i._comparator(a,s)<0))return 3;a=s,o++}),this.size!==o?4:0},e.prototype.print=function(n){var i="SORTED MAP: size="+this.size;return this._options&&(i=i+", options="+JSON.stringify(this._options)),console.log(i),this._root&&this._root.print(1,n),this},e.prototype.from=function(n,i){var o=this,a=Object.create(ge).prototype;return a.__iterateUncached=function(s,c){var u=this;if(!o._root)return 0;var f=0;return i?o._root.iterateFromBackwards(n,function(l){return f++,s(l[1],l[0],u)},c):o._root.iterateFrom(n,function(l){return f++,s(l[1],l[0],u)},c),f},a},e.prototype.fromIndex=function(n,i){var o=this,a=Object.create(ge).prototype;return a.__iterateUncached=function(s,c){var u=this;if(c)throw new Error("fromIndex: reverse mode not supported");if(!o._root)return 0;var f=0;return i?o._root.iterateFromIndexBackwards(n,function(l){return f++,s(l[1],l[0],u)},c):o._root.iterateFromIndex(n,function(l){return f++,s(l[1],l[0],u)},c),f},a},e}(cn);Ot.isSortedMap=Vh;Ot.defaultComparator=zv;Ot.defaultOptions={type:"btree"};var Mr=Ot.prototype;Mr[hu]=!0;Mr[ni]=Mr.remove;Mr.removeIn=Mr.deleteIn;Mr.removeAll=Mr.deleteAll;function Io(t,e,r,n,i){var o=Object.create(Mr);if(o._comparator=t||Ot.defaultComparator,o._options=e||Ot.defaultOptions,o.size=r,o._root=n,o._factory=Ot.getFactory(o._options),o.__ownerID=i,o.__altered=!1,o._options.btreeOrder&&o._options.btreeOrder<3)throw new Error("SortedMap: minimum value of options.btreeOrder is 3, but got: "+o._options.btreeOrder);if(!o._factory)throw new Error("SortedMap type not supported: "+o._options.type);return o}var eh;function er(t,e){return t===Ot.defaultComparator&&e===Ot.defaultOptions?eh||(eh=Io(Ot.defaultComparator,Ot.defaultOptions,0)):Io(t,e,0)}function Vc(t,e,r,n){var i=r===T,o=t._root,a,s;if(o){var u=gt(),f=gt();if(i?n?a=t._root.fastRemove(t.__ownerID,e,u,f):a=t._root.remove(t.__ownerID,e,u,f):a=t._root.upsert(t.__ownerID,e,r,u,f),!et(f))return t;s=t.size+(et(u)?i?-1:1:0),s===0&&(a=void 0)}else{if(i)return t;s=1;var c=[[e,r]];a=t._factory.createNode(t._comparator,t._options,t.__ownerID,c)}return t.__ownerID?(t.size=s,t._root=a,t.__altered=!0,t):a?Io(t._comparator,t._options,s,a):er(t._comparator,t._options)}function zv(t,e){if(xt(t,e))return 0;var r=typeof t,n=typeof e;if(r!==n)return r<n?-1:1;switch(r){case"undefined":break;case"object":if(t===null)return 1;if(e===null)return-1;t=t.toString(),e=e.toString();break;case"boolean":break;case"number":if(xt(t,NaN))return 1;if(xt(e,NaN))return-1;break;case"string":break;case"symbol":t=t.toString(),e=e.toString();break;case"function":t=t.toString(),e=e.toString();break;default:break}return t<e?-1:t>e?1:0}Ot.getFactory=function(t){var e=t&&t.type?t.type:Ot.defaultOptions.type;return Ot.factories[e]};Ot.factories={btree:new Av};var Jh="@@__IMMUTABLE_STACK__@@";function ou(t){return!!(t&&t[Jh])}var Au=function(t){function e(r){return r==null?ds():ou(r)?r:ds().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var o=this._head;for(n=Tr(this,n);o&&n--;)o=o.next;return o?o.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,o=this._head,a=arguments.length-1;a>=0;a--)o={value:n[a],next:o};return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):mo(i,o)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&ou(n))return n;Zt(n.size);var i=this.size,o=this._head;return n.__iterate(function(a){i++,o={value:a,next:o}},!0),this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):mo(i,o)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):ds()},e.prototype.slice=function(n,i){if(Co(n,i,this.size))return this;var o=ii(n,this.size),a=Do(i,this.size);if(a!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-o,c=this._head;o--;)c=c.next;return this.__ownerID?(this.size=s,this._head=c,this.__hash=void 0,this.__altered=!0,this):mo(s,c)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?mo(this.size,this._head,n,this.__hash):this.size===0?ds():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var o=this;if(i)return new Pr(this.toArray()).__iterate(function(c,u){return n(c,u,o)},i);for(var a=0,s=this._head;s&&n(s.value,a++,o)!==!1;)s=s.next;return a},e.prototype.__iterator=function(n,i){if(i)return new Pr(this.toArray()).__iterator(n,i);var o=0,a=this._head;return new G(function(){if(a){var s=a.value;return a=a.next,Q(n,o++,s)}return At()})},e}(Er);Au.isStack=ou;var $t=Au.prototype;$t[Jh]=!0;$t.shift=$t.pop;$t.unshift=$t.push;$t.unshiftAll=$t.pushAll;$t.withMutations=To;$t.wasAltered=Ou;$t.asImmutable=Ro;$t["@@transducer/init"]=$t.asMutable=Po;$t["@@transducer/step"]=function(t,e){return t.unshift(e)};$t["@@transducer/result"]=function(t){return t.asImmutable()};function mo(t,e,r,n){var i=Object.create($t);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var rh;function ds(){return rh||(rh=mo(0))}var Zh="@@__IMMUTABLE_SET__@@";function Os(t){return!!(t&&t[Zh])}function Qh(t){return Os(t)&&De(t)}function zu(t,e){if(t===e)return!0;if(!Qt(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ht(t)!==ht(e)||ue(t)!==ue(e)||De(t)!==De(e)||Zn(t)!==Zn(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!vs(t);if(De(t)){var n=t.entries();return e.every(function(c,u){var f=n.next().value;return f&&xt(f[1],c)&&(r||xt(f[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var a=!0,s=e.__iterate(function(c,u){if(r?!t.has(c):i?!xt(c,t.get(u,T)):!xt(t.get(u,T),c))return a=!1,!1});return a&&t.size===s}function un(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function ys(t){if(!t||typeof t!="object")return t;if(!Qt(t)){if(!Rr(t))return t;t=Te(t)}if(ht(t)){var e={};return t.__iterate(function(n,i){e[i]=ys(n)}),e}var r=[];return t.__iterate(function(n){r.push(ys(n))}),r}function t_(t){return Os(t)&&Zn(t)}var Mo=function(t){function e(r){return r==null?go():Os(r)&&!De(r)&&!Zn(r)?r:go().withMutations(function(n){var i=t(r);Zt(i.size),i.forEach(function(o){return n.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Bt(n).keySeq())},e.intersect=function(n){return n=yt(n).toArray(),n.length?Et.intersect.apply(e(n.pop()),n):go()},e.union=function(n){return n=yt(n).toArray(),n.length?Et.union.apply(e(n.pop()),n):go()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return $c(this,this._map.set(n,n))},e.prototype.remove=function(n){return $c(this,this._map.remove(n))},e.prototype.clear=function(){return $c(this,this._map.clear())},e.prototype.map=function(n,i){var o=this,a=[],s=[];return this.forEach(function(c){var u=n.call(i,c,c,o);u!==c&&(a.push(c),s.push(u))}),this.withMutations(function(c){a.forEach(function(u){return c.remove(u)}),s.forEach(function(u){return c.add(u)})})},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(o){return o.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){for(var a=0;a<n.length;a++)t(n[a]).forEach(function(s){return o.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return t(a)});var o=[];return this.forEach(function(a){n.every(function(s){return s.includes(a)})||o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return t(a)});var o=[];return this.forEach(function(a){n.some(function(s){return s.includes(a)})&&o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.sort=function(n){return ko(on(this,n))},e.prototype.sortBy=function(n,i){return ko(on(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var o=this;return this._map.__iterate(function(a){return n(a,a,o)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Be);Mo.isSet=Os;var Et=Mo.prototype;Et[Zh]=!0;Et[ni]=Et.remove;Et.merge=Et.concat=Et.union;Et.withMutations=To;Et.asImmutable=Ro;Et["@@transducer/init"]=Et.asMutable=Po;Et["@@transducer/step"]=function(t,e){return t.add(e)};Et["@@transducer/result"]=function(t){return t.asImmutable()};Et.__empty=go;Et.__make=e_;function $c(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function e_(t,e){var r=Object.create(Et);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var nh;function go(){return nh||(nh=e_(Ce()))}var fn=function(t){function e(r,n,i){return n||(this instanceof e&&(n=this._map&&this.getComparator()),n||(n=e.defaultComparator)),i||(this instanceof e&&(i=this._map&&this.getOptions()),i||(i=e.defaultOptions)),r==null?au(n,i):t_(r)&&r.getComparator()===n&&r.getOptions()===i?r:au(n,i).withMutations(function(o){o.pack(r)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Bt(n).keySeq())},e.prototype.toString=function(){return this.__toString("SortedSet {","}")},e.prototype.getComparator=function(){return this._map.getComparator()},e.prototype.getOptions=function(){return this._map.getOptions()},e.prototype.pack=function(n){var i=n===void 0?void 0:Be(n).toKeyedSeq().mapKeys(function(o,a){return a});return Lv(this,this._map.pack(i))},e.prototype.from=function(n,i){return this._map.from(n,i).toSetSeq()},e.prototype.fromIndex=function(n,i){return this._map.fromIndex(n,i).toSetSeq()},e.prototype.sort=function(n){return e(this,n,this.getOptions())},e.prototype.sortBy=function(n,i){return e(_u(this,n),i,this.getOptions())},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Mo);fn.isSortedSet=t_;fn.defaultComparator=Ot.defaultComparator;fn.defaultOptions=Ot.defaultOptions;var Ts=fn.prototype;Ts[hu]=!0;Ts.__empty=function(){return au(this.getComparator(),this.getOptions())};Ts.__make=r_;function Lv(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function r_(t,e){var r=Object.create(Ts);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function au(t,e){return r_(er(t,e))}var Nv=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(vu(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(Xc)return Xc;Xc=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+Tr(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Co(n,i,this.size)?this:(n=ii(n,this.size),i=Do(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var o=i/this._step;if(o>=0&&o<this.size)return o}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var o=this,a=this.size,s=this._step,c=i?this._start+(a-1)*s:this._start,u=0;u!==a&&n(c,i?a-++u:u++,o)!==!1;)c+=i?-s:s;return u},e.prototype.__iterator=function(n,i){var o=this.size,a=this._step,s=i?this._start+(o-1)*a:this._start,c=0;return new G(function(){if(c===o)return At();var u=s;return s+=i?-a:a,Q(n,i?o-++c:c++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:zu(this,n)},e}(fe),Xc;function n_(t,e,r){for(var n=Ah(e),i=0;i!==n.length;)if(t=zh(t,n[i++],T),t===T)return r;return t}function i_(t,e){return n_(this,t,e)}function qv(t,e){return n_(t,e,T)!==T}function Hv(t){return qv(this,t)}function o_(){Zt(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}yt.isIterable=Qt;yt.isKeyed=ht;yt.isIndexed=ue;yt.isAssociative=vs;yt.isOrdered=De;yt.Iterator=G;un(yt,{toArray:function(){Zt(this.size);var e=new Array(this.size||0),r=ht(this),n=0;return this.__iterate(function(i,o){e[n++]=r?[o,i]:i}),e},toIndexedSeq:function(){return new Ch(this)},toJS:function(){return ys(this)},toKeyedSeq:function(){return new Is(this,!0)},toMap:function(){return cn(this.toKeyedSeq())},toObject:o_,toOrderedMap:function(){return ir(this.toKeyedSeq())},toSortedMap:function(e,r){return Ot(this.toKeyedSeq(),e,r)},toSortedSet:function(e,r){return fn(ht(this)?this.valueSeq():this,e,r)},toOrderedSet:function(){return ko(ht(this)?this.valueSeq():this)},toSet:function(){return Mo(ht(this)?this.valueSeq():this)},toSetSeq:function(){return new Dh(this)},toSeq:function(){return ue(this)?this.toIndexedSeq():ht(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Au(ht(this)?this.valueSeq():this)},toList:function(){return Cs(ht(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return K(this,dv(this,e))},includes:function(e){return this.some(function(r){return xt(r,e)})},entries:function(){return this.__iterator(ye)},every:function(e,r){Zt(this.size);var n=!0;return this.__iterate(function(i,o,a){if(!e.call(r,i,o,a))return n=!1,!1}),n},filter:function(e,r){return K(this,Ph(this,e,r,!0))},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Zt(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Zt(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Oo)},map:function(e,r){return K(this,_u(this,e,r))},reduce:function(e,r,n){return ih(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return ih(this,e,r,n,arguments.length<2,!0)},reverse:function(){return K(this,mu(this,!0))},slice:function(e,r){return K(this,gu(this,e,r,!0))},some:function(e,r){return!this.every(ps(e),r)},sort:function(e){return K(this,on(this,e))},partialSort:function(e,r){return K(this,Bp(this,e,r))},incSort:function(e){return K(this,ms(this,e,null,!0))},values:function(){return this.__iterator(Oe)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Jn(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return uv(this,e,r)},equals:function(e){return zu(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Pr(e._cache);var r=e.toSeq().map(Bv).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(ps(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(o,a,s){if(e.call(r,o,a,s))return i=[a,o],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(fh,null,e)},flatMap:function(e,r){return K(this,pv(this,e,r))},flatten:function(e){return K(this,Mh(this,e,!0))},fromEntrySeq:function(){return new Oh(this)},get:function(e,r){return this.find(function(n,i){return xt(i,e)},void 0,r)},getIn:i_,groupBy:function(e,r){return fv(this,e,r)},has:function(e){return this.get(e,T)!==T},hasIn:Hv,isSubset:function(e){return e=typeof e.includes=="function"?e:yt(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:yt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return xt(r,e)})},keySeq:function(){return this.toSeq().map(Fv).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return fs(this,e)},maxBy:function(e,r){return fs(this,r,e)},min:function(e){return fs(this,e?oh(e):sh)},minBy:function(e,r){return fs(this,r?oh(r):sh,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return K(this,Rh(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(ps(e),r)},sortBy:function(e,r){return K(this,on(this,r,e))},partialSortBy:function(e,r,n){return K(this,Bp(this,e,n,r))},incSortBy:function(e,r){return K(this,ms(this,r,e,!0))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return K(this,lv(this,e,r))},takeUntil:function(e,r){return this.takeWhile(ps(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=jv(this))}});var Ft=yt.prototype;Ft[ph]=!0;Ft[Ss]=Ft.values;Ft.toJSON=Ft.toArray;Ft.__toStringMapper=vo;Ft.inspect=Ft.toSource=function(){return this.toString()};Ft.chain=Ft.flatMap;Ft.contains=Ft.includes;un(Bt,{flip:function(){return K(this,Th(this))},mapEntries:function(e,r){var n=this,i=0;return K(this,this.toSeq().map(function(o,a){return e.call(r,[a,o],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return K(this,this.toSeq().flip().map(function(i,o){return e.call(r,i,o,n)}).flip())}});var Ps=Bt.prototype;Ps[hh]=!0;Ps[Ss]=Ft.entries;Ps.toJSON=o_;Ps.__toStringMapper=function(t,e){return vo(e)+": "+vo(t)};un(Er,{toKeyedSeq:function(){return new Is(this,!1)},filter:function(e,r){return K(this,Ph(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return K(this,mu(this,!1))},slice:function(e,r){return K(this,gu(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=ii(e,e<0?this.count():this.size);var i=this.slice(0,e);return K(this,n===1?i:i.concat(Fe(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return K(this,Mh(this,e,!1))},get:function(e,r){return e=Tr(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=Tr(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return K(this,hv(this,e))},interleave:function(){var e=[this].concat(Fe(arguments)),r=ls(this.toSeq(),fe.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),K(this,n)},keySeq:function(){return Nv(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return K(this,Rh(this,e,r,!1))},incSort:function(e){return K(this,ms(this,e,null,!1))},incSortBy:function(e,r){return K(this,ms(this,r,e,!1))},zip:function(){var e=[this].concat(Fe(arguments));return K(this,ls(this,ah,e))},zipAll:function(){var e=[this].concat(Fe(arguments));return K(this,ls(this,ah,e,!0))},zipWith:function(e){var r=Fe(arguments);return r[0]=this,K(this,ls(this,e,r))}});var Rs=Er.prototype;Rs[_h]=!0;Rs[oi]=!0;un(Be,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});Be.prototype.has=Ft.includes;Be.prototype.contains=Be.prototype.includes;un(ge,Bt.prototype);un(fe,Er.prototype);un(sn,Be.prototype);function ih(t,e,r,n,i,o){return Zt(t.size),t.__iterate(function(a,s,c){i?(i=!1,r=a):r=e.call(n,r,a,s,c)},o),r}function Fv(t,e){return e}function Bv(t,e){return[e,t]}function ps(t){return function(){return!t.apply(this,arguments)}}function oh(t){return function(){return-t.apply(this,arguments)}}function ah(){return Fe(arguments)}function sh(t,e){return t<e?1:t>e?-1:0}function jv(t){if(t.size===1/0)return 0;var e=De(t),r=ht(t),n=e?1:0,i=t.__iterate(r?e?function(o,a){n=31*n+ch(ce(o),ce(a))|0}:function(o,a){n=n+ch(ce(o),ce(a))|0}:e?function(o){n=31*n+ce(o)|0}:function(o){n=n+ce(o)|0});return Uv(i,n)}function Uv(t,e){return e=lo(e,3432918353),e=lo(e<<15|e>>>-15,461845907),e=lo(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=lo(e^e>>>16,2246822507),e=lo(e^e>>>13,3266489909),e=xs(e^e>>>16),e}function ch(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ko=function(t){function e(r){return r==null?su():Qh(r)?r:su().withMutations(function(n){var i=Be(r);Zt(i.size),i.forEach(function(o){return n.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Bt(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Mo);ko.isOrderedSet=Qh;var ci=ko.prototype;ci[oi]=!0;ci.zip=Rs.zip;ci.zipWith=Rs.zipWith;ci.__empty=su;ci.__make=a_;function a_(t,e){var r=Object.create(ci);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var uh;function su(){return uh||(uh=a_(_o()))}var Tt=function(e,r){var n,i=function(s){var c=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),f=o._indices={};o._name=r,o._keys=u,o._defaultValues=e;for(var l=0;l<u.length;l++){var d=u[l];f[d]=l,o[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Nu(c)+' with property "'+d+'" since that property name is part of the Record API.'):Gv(o,d)}}this.__ownerID=void 0,this._values=Cs().withMutations(function(h){h.setSize(c._keys.length),Bt(s).forEach(function(_,m){h.set(c._indices[m],_===c._defaultValues[m]?void 0:_)})})},o=i.prototype=Object.create(rt);return o.constructor=i,r&&(i.displayName=r),i};Tt.prototype.toString=function(){for(var e=this,r=Nu(this)+" { ",n=this._keys,i,o=0,a=n.length;o!==a;o++)i=n[o],r+=(o?", ":"")+i+": "+vo(e.get(i));return r+" }"};Tt.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&ri(this).equals(ri(e))};Tt.prototype.hashCode=function(){return ri(this).hashCode()};Tt.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Tt.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};Tt.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Lu(this,n)}return this};Tt.prototype.remove=function(e){return this.set(e)};Tt.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Lu(this,e)};Tt.prototype.wasAltered=function(){return this._values.wasAltered()};Tt.prototype.toSeq=function(){return ri(this)};Tt.prototype.toJS=function(){return ys(this)};Tt.prototype.entries=function(){return this.__iterator(ye)};Tt.prototype.__iterator=function(e,r){return ri(this).__iterator(e,r)};Tt.prototype.__iterate=function(e,r){return ri(this).__iterate(e,r)};Tt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Lu(this,r,e):(this.__ownerID=e,this._values=r,this)};Tt.isRecord=bs;Tt.getDescriptiveName=Nu;var rt=Tt.prototype;rt[gh]=!0;rt[ni]=rt.remove;rt.deleteIn=rt.removeIn=Su;rt.getIn=i_;rt.hasIn=Ft.hasIn;rt.merge=qh;rt.mergeWith=Hh;rt.mergeIn=Cu;rt.mergeDeep=Bh;rt.mergeDeepWith=jh;rt.mergeDeepIn=Du;rt.setIn=bu;rt.update=wu;rt.updateIn=xu;rt.withMutations=To;rt.asMutable=Po;rt.asImmutable=Ro;rt[Ss]=rt.entries;rt.toJSON=rt.toObject=Ft.toObject;rt.inspect=rt.toSource=function(){return this.toString()};function Lu(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function Nu(t){return t.constructor.displayName||t.constructor.name||"Record"}function ri(t){return pu(t._keys.map(function(e){return[e,t.get(e)]}))}function Gv(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){vu(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var b7=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(Jc)return Jc;Jc=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return xt(this._value,n)},e.prototype.slice=function(n,i){var o=this.size;return Co(n,i,o)?this:new e(this._value,Do(i,o)-ii(n,o))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return xt(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return xt(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var o=this,a=this.size,s=0;s!==a&&n(o._value,i?a-++s:s++,o)!==!1;);return s},e.prototype.__iterator=function(n,i){var o=this,a=this.size,s=0;return new G(function(){return s===a?At():Q(n,i?a-++s:s++,o._value)})},e.prototype.equals=function(n){return n instanceof e?xt(this._value,n._value):zu(n)},e}(fe),Jc;var Ar={"1001":{name:["","Special Week"],outfits:{"100101":"[Special Dreamer]"}},"1002":{name:["","Silence Suzuka"],outfits:{"100201":"[Innocent Silence]"}},"1003":{name:["","Tokai Teio"],outfits:{"100301":"[Peak Joy]"}},"1004":{name:["","Maruzensky"],outfits:{"100401":"[Formula R]"}},"1006":{name:["","Oguri Cap"],outfits:{"100601":"[Starlight Beat]"}},"1007":{name:["","Gold Ship"],outfits:{"100701":"[Red Strife]"}},"1008":{name:["","Vodka"],outfits:{"100801":"[Wild Top Gear]"}},"1009":{name:["","Daiwa Scarlet"],outfits:{"100901":"[Peak Blue]"}},"1010":{name:["","Taiki Shuttle"],outfits:{"101001":"[Wild Frontier]"}},"1011":{name:["","Grass Wonder"],outfits:{"101101":"[Stone-Piercing Blue]"}},"1013":{name:["","Mejiro McQueen"],outfits:{"101301":"[Frontline Elegance]"}},"1014":{name:["","El Condor Pasa"],outfits:{"101401":"[El\u2606N\xFAmero 1]"}},"1015":{name:["","T.M. Opera O"],outfits:{"101501":"[O Sole Suo!]"}},"1017":{name:["","Symboli Rudolf"],outfits:{"101701":"[Emperor's Path]"}},"1018":{name:["","Air Groove"],outfits:{"101801":"[Empress Road]"}},"1023":{name:["","Biwa Hayahide"],outfits:{"102301":"[pf. Winning Equation...]"}},"1024":{name:["","Mayano Top Gun"],outfits:{"102401":"[Scramble\u2606Zone]"}},"1026":{name:["","Mihono Bourbon"],outfits:{"102601":"[MB-19890425]"}},"1027":{name:["","Mejiro Ryan"],outfits:{"102701":"[Down the Line]"}},"1030":{name:["","Rice Shower"],outfits:{"103001":"[Rosy Dreams]"}},"1032":{name:["","Agnes Tachyon"],outfits:{"103201":"[tach-nology]"}},"1035":{name:["","Winning Ticket"],outfits:{"103501":"[Get to Winning!]"}},"1041":{name:["","Sakura Bakushin O"],outfits:{"104101":"[Blossom in Learning]"}},"1045":{name:["","Super Creek"],outfits:{"104501":"[Murmuring Stream]"}},"1052":{name:["","Haru Urara"],outfits:{"105201":"[Bestest Prize \u266A]"}},"1056":{name:["","Matikanefukukitaru"],outfits:{"105601":"[Rising\u2606Fortune]"}},"1060":{name:["","Nice Nature"],outfits:{"106001":"[Poinsettia Ribbon]"}},"1061":{name:["","King Halo"],outfits:{"106101":"[King of Emeralds]"}}};var qu={"1001":"/uma-tools/icons/chara/chr_icon_1001.png","100101":"/uma-tools/icons/chara/trained_chr_icon_1001_100101_02.png","100102":"/uma-tools/icons/chara/trained_chr_icon_1001_100130_02.png","100103":"/uma-tools/icons/chara/trained_chr_icon_1001_100102_02.png","1002":"/uma-tools/icons/chara/chr_icon_1002.png","100201":"/uma-tools/icons/chara/trained_chr_icon_1002_100201_02.png","100202":"/uma-tools/icons/chara/trained_chr_icon_1002_100230_02.png","1003":"/uma-tools/icons/chara/chr_icon_1003.png","100301":"/uma-tools/icons/chara/trained_chr_icon_1003_100301_02.png","100302":"/uma-tools/icons/chara/trained_chr_icon_1003_100302_02.png","100303":"/uma-tools/icons/chara/trained_chr_icon_1003_100343_02.png","1004":"/uma-tools/icons/chara/chr_icon_1004.png","100401":"/uma-tools/icons/chara/trained_chr_icon_1004_100401_02.png","100402":"/uma-tools/icons/chara/trained_chr_icon_1004_100430_02.png","100403":"/uma-tools/icons/chara/trained_chr_icon_1004_100410_02.png","1005":"/uma-tools/icons/chara/chr_icon_1005.png","100501":"/uma-tools/icons/chara/trained_chr_icon_1005_100501_02.png","100502":"/uma-tools/icons/chara/trained_chr_icon_1005_100520_02.png","1006":"/uma-tools/icons/chara/chr_icon_1006.png","100601":"/uma-tools/icons/chara/trained_chr_icon_1006_100601_02.png","100602":"/uma-tools/icons/chara/trained_chr_icon_1006_100646_02.png","1007":"/uma-tools/icons/chara/chr_icon_1007.png","100701":"/uma-tools/icons/chara/trained_chr_icon_1007_100701_02.png","100702":"/uma-tools/icons/chara/trained_chr_icon_1007_100730_02.png","100703":"/uma-tools/icons/chara/trained_chr_icon_1007_100702_02.png","1008":"/uma-tools/icons/chara/chr_icon_1008.png","100801":"/uma-tools/icons/chara/trained_chr_icon_1008_100801_02.png","100802":"/uma-tools/icons/chara/trained_chr_icon_1008_100846_02.png","1009":"/uma-tools/icons/chara/chr_icon_1009.png","100901":"/uma-tools/icons/chara/trained_chr_icon_1009_100901_02.png","100902":"/uma-tools/icons/chara/trained_chr_icon_1009_100946_02.png","1010":"/uma-tools/icons/chara/chr_icon_1010.png","101001":"/uma-tools/icons/chara/trained_chr_icon_1010_101001_02.png","101002":"/uma-tools/icons/chara/trained_chr_icon_1010_101023_02.png","1011":"/uma-tools/icons/chara/chr_icon_1011.png","101101":"/uma-tools/icons/chara/trained_chr_icon_1011_101101_02.png","101102":"/uma-tools/icons/chara/trained_chr_icon_1011_101116_02.png","101103":"/uma-tools/icons/chara/trained_chr_icon_1011_101102_02.png","1012":"/uma-tools/icons/chara/chr_icon_1012.png","101201":"/uma-tools/icons/chara/trained_chr_icon_1012_101201_02.png","101202":"/uma-tools/icons/chara/trained_chr_icon_1012_101226_02.png","1013":"/uma-tools/icons/chara/chr_icon_1013.png","101301":"/uma-tools/icons/chara/trained_chr_icon_1013_101301_02.png","101302":"/uma-tools/icons/chara/trained_chr_icon_1013_101302_02.png","101303":"/uma-tools/icons/chara/trained_chr_icon_1013_101330_02.png","1014":"/uma-tools/icons/chara/chr_icon_1014.png","101401":"/uma-tools/icons/chara/trained_chr_icon_1014_101401_02.png","101402":"/uma-tools/icons/chara/trained_chr_icon_1014_101416_02.png","1015":"/uma-tools/icons/chara/chr_icon_1015.png","101501":"/uma-tools/icons/chara/trained_chr_icon_1015_101501_02.png","101502":"/uma-tools/icons/chara/trained_chr_icon_1015_101510_02.png","1016":"/uma-tools/icons/chara/chr_icon_1016.png","101601":"/uma-tools/icons/chara/trained_chr_icon_1016_101601_02.png","101602":"/uma-tools/icons/chara/trained_chr_icon_1016_101602_02.png","1017":"/uma-tools/icons/chara/chr_icon_1017.png","101701":"/uma-tools/icons/chara/trained_chr_icon_1017_101701_02.png","101702":"/uma-tools/icons/chara/trained_chr_icon_1017_101743_02.png","1018":"/uma-tools/icons/chara/chr_icon_1018.png","101801":"/uma-tools/icons/chara/trained_chr_icon_1018_101801_02.png","101802":"/uma-tools/icons/chara/trained_chr_icon_1018_101826_02.png","1019":"/uma-tools/icons/chara/chr_icon_1019.png","101901":"/uma-tools/icons/chara/trained_chr_icon_1019_101901_02.png","101902":"/uma-tools/icons/chara/trained_chr_icon_1019_101940_02.png","1020":"/uma-tools/icons/chara/chr_icon_1020.png","102001":"/uma-tools/icons/chara/trained_chr_icon_1020_102001_02.png","102002":"/uma-tools/icons/chara/trained_chr_icon_1020_102020_02.png","1021":"/uma-tools/icons/chara/chr_icon_1021.png","102101":"/uma-tools/icons/chara/trained_chr_icon_1021_102101_02.png","102102":"/uma-tools/icons/chara/trained_chr_icon_1021_102143_02.png","1022":"/uma-tools/icons/chara/chr_icon_1022.png","102201":"/uma-tools/icons/chara/trained_chr_icon_1022_102201_02.png","102202":"/uma-tools/icons/chara/trained_chr_icon_1022_102226_02.png","1023":"/uma-tools/icons/chara/chr_icon_1023.png","102301":"/uma-tools/icons/chara/trained_chr_icon_1023_102301_02.png","102302":"/uma-tools/icons/chara/trained_chr_icon_1023_102346_02.png","102303":"/uma-tools/icons/chara/trained_chr_icon_1023_102302_02.png","1024":"/uma-tools/icons/chara/chr_icon_1024.png","102401":"/uma-tools/icons/chara/trained_chr_icon_1024_102401_02.png","102402":"/uma-tools/icons/chara/trained_chr_icon_1024_102426_02.png","102403":"/uma-tools/icons/chara/trained_chr_icon_1024_102440_02.png","1025":"/uma-tools/icons/chara/chr_icon_1025.png","102501":"/uma-tools/icons/chara/trained_chr_icon_1025_102501_02.png","102502":"/uma-tools/icons/chara/trained_chr_icon_1025_102513_02.png","1026":"/uma-tools/icons/chara/chr_icon_1026.png","102601":"/uma-tools/icons/chara/trained_chr_icon_1026_102601_02.png","102602":"/uma-tools/icons/chara/trained_chr_icon_1026_102613_02.png","1027":"/uma-tools/icons/chara/chr_icon_1027.png","102701":"/uma-tools/icons/chara/trained_chr_icon_1027_102701_02.png","102702":"/uma-tools/icons/chara/trained_chr_icon_1027_102713_02.png","1028":"/uma-tools/icons/chara/chr_icon_1028.png","102801":"/uma-tools/icons/chara/trained_chr_icon_1028_102801_02.png","1029":"/uma-tools/icons/chara/chr_icon_1029.png","102901":"/uma-tools/icons/chara/trained_chr_icon_1029_102901_02.png","102902":"/uma-tools/icons/chara/trained_chr_icon_1029_102913_02.png","1030":"/uma-tools/icons/chara/chr_icon_1030.png","103001":"/uma-tools/icons/chara/trained_chr_icon_1030_103001_02.png","103002":"/uma-tools/icons/chara/trained_chr_icon_1030_103040_02.png","103003":"/uma-tools/icons/chara/trained_chr_icon_1030_103002_02.png","1031":"/uma-tools/icons/chara/chr_icon_1031.png","103101":"/uma-tools/icons/chara/trained_chr_icon_1031_103101_02.png","103102":"/uma-tools/icons/chara/trained_chr_icon_1031_103113_02.png","1032":"/uma-tools/icons/chara/chr_icon_1032.png","103201":"/uma-tools/icons/chara/trained_chr_icon_1032_103201_02.png","103202":"/uma-tools/icons/chara/trained_chr_icon_1032_103230_02.png","103203":"/uma-tools/icons/chara/trained_chr_icon_1032_103202_02.png","1033":"/uma-tools/icons/chara/chr_icon_1033.png","103301":"/uma-tools/icons/chara/trained_chr_icon_1033_103301_02.png","103302":"/uma-tools/icons/chara/trained_chr_icon_1033_103346_02.png","1034":"/uma-tools/icons/chara/chr_icon_1034.png","103401":"/uma-tools/icons/chara/trained_chr_icon_1034_103401_02.png","103402":"/uma-tools/icons/chara/trained_chr_icon_1034_103443_02.png","1035":"/uma-tools/icons/chara/chr_icon_1035.png","103501":"/uma-tools/icons/chara/trained_chr_icon_1035_103501_02.png","103502":"/uma-tools/icons/chara/trained_chr_icon_1035_103516_02.png","103503":"/uma-tools/icons/chara/trained_chr_icon_1035_103502_02.png","1036":"/uma-tools/icons/chara/chr_icon_1036.png","103601":"/uma-tools/icons/chara/trained_chr_icon_1036_103601_02.png","103602":"/uma-tools/icons/chara/trained_chr_icon_1036_103640_02.png","1037":"/uma-tools/icons/chara/chr_icon_1037.png","103701":"/uma-tools/icons/chara/trained_chr_icon_1037_103701_02.png","103702":"/uma-tools/icons/chara/trained_chr_icon_1037_103713_02.png","103703":"/uma-tools/icons/chara/trained_chr_icon_1037_103730_02.png","1038":"/uma-tools/icons/chara/chr_icon_1038.png","103801":"/uma-tools/icons/chara/trained_chr_icon_1038_103801_02.png","103802":"/uma-tools/icons/chara/trained_chr_icon_1038_103826_02.png","1039":"/uma-tools/icons/chara/chr_icon_1039.png","103901":"/uma-tools/icons/chara/trained_chr_icon_1039_103901_02.png","103902":"/uma-tools/icons/chara/trained_chr_icon_1039_103943_02.png","1040":"/uma-tools/icons/chara/chr_icon_1040.png","104001":"/uma-tools/icons/chara/trained_chr_icon_1040_104001_02.png","104002":"/uma-tools/icons/chara/trained_chr_icon_1040_104043_02.png","104003":"/uma-tools/icons/chara/trained_chr_icon_1040_104002_02.png","1041":"/uma-tools/icons/chara/chr_icon_1041.png","104101":"/uma-tools/icons/chara/trained_chr_icon_1041_104101_02.png","104102":"/uma-tools/icons/chara/trained_chr_icon_1041_104150_02.png","1042":"/uma-tools/icons/chara/chr_icon_1042.png","104201":"/uma-tools/icons/chara/trained_chr_icon_1042_104201_02.png","104202":"/uma-tools/icons/chara/trained_chr_icon_1042_104240_02.png","1043":"/uma-tools/icons/chara/chr_icon_1043.png","104301":"/uma-tools/icons/chara/trained_chr_icon_1043_104301_02.png","1044":"/uma-tools/icons/chara/chr_icon_1044.png","104401":"/uma-tools/icons/chara/trained_chr_icon_1044_104401_02.png","104402":"/uma-tools/icons/chara/trained_chr_icon_1044_104426_02.png","1045":"/uma-tools/icons/chara/chr_icon_1045.png","104501":"/uma-tools/icons/chara/trained_chr_icon_1045_104501_02.png","104502":"/uma-tools/icons/chara/trained_chr_icon_1045_104540_02.png","104503":"/uma-tools/icons/chara/trained_chr_icon_1045_104550_02.png","1046":"/uma-tools/icons/chara/chr_icon_1046.png","104601":"/uma-tools/icons/chara/trained_chr_icon_1046_104601_02.png","104602":"/uma-tools/icons/chara/trained_chr_icon_1046_104602_02.png","104603":"/uma-tools/icons/chara/trained_chr_icon_1046_104650_02.png","1047":"/uma-tools/icons/chara/chr_icon_1047.png","104701":"/uma-tools/icons/chara/trained_chr_icon_1047_104701_02.png","104702":"/uma-tools/icons/chara/trained_chr_icon_1047_104723_02.png","1048":"/uma-tools/icons/chara/chr_icon_1048.png","104801":"/uma-tools/icons/chara/trained_chr_icon_1048_104801_02.png","104802":"/uma-tools/icons/chara/trained_chr_icon_1048_104823_02.png","1049":"/uma-tools/icons/chara/chr_icon_1049.png","104901":"/uma-tools/icons/chara/trained_chr_icon_1049_104901_02.png","1050":"/uma-tools/icons/chara/chr_icon_1050.png","105001":"/uma-tools/icons/chara/trained_chr_icon_1050_105001_02.png","105002":"/uma-tools/icons/chara/trained_chr_icon_1050_105016_02.png","105003":"/uma-tools/icons/chara/trained_chr_icon_1050_105002_02.png","1051":"/uma-tools/icons/chara/chr_icon_1051.png","105101":"/uma-tools/icons/chara/trained_chr_icon_1051_105101_02.png","105102":"/uma-tools/icons/chara/trained_chr_icon_1051_105126_02.png","1052":"/uma-tools/icons/chara/chr_icon_1052.png","105201":"/uma-tools/icons/chara/trained_chr_icon_1052_105201_02.png","105202":"/uma-tools/icons/chara/trained_chr_icon_1052_105210_02.png","1053":"/uma-tools/icons/chara/chr_icon_1053.png","105301":"/uma-tools/icons/chara/trained_chr_icon_1053_105301_02.png","105302":"/uma-tools/icons/chara/trained_chr_icon_1053_105323_02.png","1054":"/uma-tools/icons/chara/chr_icon_1054.png","105401":"/uma-tools/icons/chara/trained_chr_icon_1054_105401_02.png","1055":"/uma-tools/icons/chara/chr_icon_1055.png","105501":"/uma-tools/icons/chara/trained_chr_icon_1055_105501_02.png","1056":"/uma-tools/icons/chara/chr_icon_1056.png","105601":"/uma-tools/icons/chara/trained_chr_icon_1056_105601_02.png","105602":"/uma-tools/icons/chara/trained_chr_icon_1056_105623_02.png","1057":"/uma-tools/icons/chara/chr_icon_1057.png","105701":"/uma-tools/icons/chara/trained_chr_icon_1057_105701_02.png","105702":"/uma-tools/icons/chara/trained_chr_icon_1057_105710_02.png","1058":"/uma-tools/icons/chara/chr_icon_1058.png","105801":"/uma-tools/icons/chara/trained_chr_icon_1058_105801_02.png","105802":"/uma-tools/icons/chara/trained_chr_icon_1058_105840_02.png","1059":"/uma-tools/icons/chara/chr_icon_1059.png","105901":"/uma-tools/icons/chara/trained_chr_icon_1059_105901_02.png","105902":"/uma-tools/icons/chara/trained_chr_icon_1059_105923_02.png","1060":"/uma-tools/icons/chara/chr_icon_1060.png","106001":"/uma-tools/icons/chara/trained_chr_icon_1060_106001_02.png","106002":"/uma-tools/icons/chara/trained_chr_icon_1060_106050_02.png","106003":"/uma-tools/icons/chara/trained_chr_icon_1060_106010_02.png","1061":"/uma-tools/icons/chara/chr_icon_1061.png","106101":"/uma-tools/icons/chara/trained_chr_icon_1061_106101_02.png","106102":"/uma-tools/icons/chara/trained_chr_icon_1061_106150_02.png","106103":"/uma-tools/icons/chara/trained_chr_icon_1061_106126_02.png","1062":"/uma-tools/icons/chara/chr_icon_1062.png","106201":"/uma-tools/icons/chara/trained_chr_icon_1062_106201_02.png","106202":"/uma-tools/icons/chara/trained_chr_icon_1062_106250_02.png","1063":"/uma-tools/icons/chara/chr_icon_1063.png","106301":"/uma-tools/icons/chara/trained_chr_icon_1063_106301_02.png","1064":"/uma-tools/icons/chara/chr_icon_1064.png","106401":"/uma-tools/icons/chara/trained_chr_icon_1064_106401_02.png","106402":"/uma-tools/icons/chara/trained_chr_icon_1064_106446_02.png","1065":"/uma-tools/icons/chara/chr_icon_1065.png","106501":"/uma-tools/icons/chara/trained_chr_icon_1065_106501_02.png","106502":"/uma-tools/icons/chara/trained_chr_icon_1065_106520_02.png","1066":"/uma-tools/icons/chara/chr_icon_1066.png","106601":"/uma-tools/icons/chara/trained_chr_icon_1066_106601_02.png","1067":"/uma-tools/icons/chara/chr_icon_1067.png","106701":"/uma-tools/icons/chara/trained_chr_icon_1067_106701_02.png","106702":"/uma-tools/icons/chara/trained_chr_icon_1067_106710_02.png","106703":"/uma-tools/icons/chara/trained_chr_icon_1067_106702_02.png","1068":"/uma-tools/icons/chara/chr_icon_1068.png","106801":"/uma-tools/icons/chara/trained_chr_icon_1068_106801_02.png","106802":"/uma-tools/icons/chara/trained_chr_icon_1068_106810_02.png","106803":"/uma-tools/icons/chara/trained_chr_icon_1068_106802_02.png","1069":"/uma-tools/icons/chara/chr_icon_1069.png","106901":"/uma-tools/icons/chara/trained_chr_icon_1069_106901_02.png","106902":"/uma-tools/icons/chara/trained_chr_icon_1069_106920_02.png","1070":"/uma-tools/icons/chara/chr_icon_1070.png","107001":"/uma-tools/icons/chara/trained_chr_icon_1070_107001_02.png","107002":"/uma-tools/icons/chara/trained_chr_icon_1070_107002_02.png","1071":"/uma-tools/icons/chara/chr_icon_1071.png","107101":"/uma-tools/icons/chara/trained_chr_icon_1071_107101_02.png","107102":"/uma-tools/icons/chara/trained_chr_icon_1071_107120_02.png","1072":"/uma-tools/icons/chara/chr_icon_1072.png","107201":"/uma-tools/icons/chara/trained_chr_icon_1072_107201_02.png","107202":"/uma-tools/icons/chara/trained_chr_icon_1072_107250_02.png","1073":"/uma-tools/icons/chara/chr_icon_1073.png","107301":"/uma-tools/icons/chara/trained_chr_icon_1073_107301_02.png","1074":"/uma-tools/icons/chara/chr_icon_1074.png","107401":"/uma-tools/icons/chara/trained_chr_icon_1074_107401_02.png","107402":"/uma-tools/icons/chara/trained_chr_icon_1074_107446_02.png","1075":"/uma-tools/icons/chara/chr_icon_1075.png","1076":"/uma-tools/icons/chara/chr_icon_1076.png","107601":"/uma-tools/icons/chara/trained_chr_icon_1076_107601_02.png","1077":"/uma-tools/icons/chara/chr_icon_1077.png","107701":"/uma-tools/icons/chara/trained_chr_icon_1077_107701_02.png","107702":"/uma-tools/icons/chara/trained_chr_icon_1077_107746_02.png","1078":"/uma-tools/icons/chara/chr_icon_1078.png","107801":"/uma-tools/icons/chara/trained_chr_icon_1078_107801_02.png","107802":"/uma-tools/icons/chara/trained_chr_icon_1078_107813_02.png","1079":"/uma-tools/icons/chara/chr_icon_1079.png","107901":"/uma-tools/icons/chara/trained_chr_icon_1079_107901_02.png","1080":"/uma-tools/icons/chara/chr_icon_1080.png","108001":"/uma-tools/icons/chara/trained_chr_icon_1080_108001_02.png","1081":"/uma-tools/icons/chara/chr_icon_1081.png","1082":"/uma-tools/icons/chara/chr_icon_1082.png","108201":"/uma-tools/icons/chara/trained_chr_icon_1082_108201_02.png","1083":"/uma-tools/icons/chara/chr_icon_1083.png","108301":"/uma-tools/icons/chara/trained_chr_icon_1083_108301_02.png","108302":"/uma-tools/icons/chara/trained_chr_icon_1083_108340_02.png","1084":"/uma-tools/icons/chara/chr_icon_1084.png","108401":"/uma-tools/icons/chara/trained_chr_icon_1084_108401_02.png","108402":"/uma-tools/icons/chara/trained_chr_icon_1084_108420_02.png","1085":"/uma-tools/icons/chara/chr_icon_1085.png","108501":"/uma-tools/icons/chara/trained_chr_icon_1085_108501_02.png","108502":"/uma-tools/icons/chara/trained_chr_icon_1085_108520_02.png","1086":"/uma-tools/icons/chara/chr_icon_1086.png","108601":"/uma-tools/icons/chara/trained_chr_icon_1086_108601_02.png","108602":"/uma-tools/icons/chara/trained_chr_icon_1086_108626_02.png","1087":"/uma-tools/icons/chara/chr_icon_1087.png","108701":"/uma-tools/icons/chara/trained_chr_icon_1087_108701_02.png","108702":"/uma-tools/icons/chara/trained_chr_icon_1087_108713_02.png","1088":"/uma-tools/icons/chara/chr_icon_1088.png","108801":"/uma-tools/icons/chara/trained_chr_icon_1088_108801_02.png","1089":"/uma-tools/icons/chara/chr_icon_1089.png","108901":"/uma-tools/icons/chara/trained_chr_icon_1089_108901_02.png","1090":"/uma-tools/icons/chara/chr_icon_1090.png","109001":"/uma-tools/icons/chara/trained_chr_icon_1090_109001_02.png","1091":"/uma-tools/icons/chara/chr_icon_1091.png","109101":"/uma-tools/icons/chara/trained_chr_icon_1091_109101_02.png","1092":"/uma-tools/icons/chara/chr_icon_1092.png","1093":"/uma-tools/icons/chara/chr_icon_1093.png","109301":"/uma-tools/icons/chara/trained_chr_icon_1093_109301_02.png","1094":"/uma-tools/icons/chara/chr_icon_1094.png","109401":"/uma-tools/icons/chara/trained_chr_icon_1094_109401_02.png","1095":"/uma-tools/icons/chara/chr_icon_1095.png","1096":"/uma-tools/icons/chara/chr_icon_1096.png","109601":"/uma-tools/icons/chara/trained_chr_icon_1096_109601_02.png","1097":"/uma-tools/icons/chara/chr_icon_1097.png","1098":"/uma-tools/icons/chara/chr_icon_1098.png","109801":"/uma-tools/icons/chara/trained_chr_icon_1098_109801_02.png","109802":"/uma-tools/icons/chara/trained_chr_icon_1098_109850_02.png","1099":"/uma-tools/icons/chara/chr_icon_1099.png","109901":"/uma-tools/icons/chara/trained_chr_icon_1099_109901_02.png","109902":"/uma-tools/icons/chara/trained_chr_icon_1099_109930_02.png","1100":"/uma-tools/icons/chara/chr_icon_1100.png","110001":"/uma-tools/icons/chara/trained_chr_icon_1100_110001_02.png","1102":"/uma-tools/icons/chara/chr_icon_1102.png","110201":"/uma-tools/icons/chara/trained_chr_icon_1102_110201_02.png","1103":"/uma-tools/icons/chara/chr_icon_1103.png","1104":"/uma-tools/icons/chara/chr_icon_1104.png","110401":"/uma-tools/icons/chara/trained_chr_icon_1104_110401_02.png","110402":"/uma-tools/icons/chara/trained_chr_icon_1104_110410_02.png","1105":"/uma-tools/icons/chara/chr_icon_1105.png","110501":"/uma-tools/icons/chara/trained_chr_icon_1105_110501_02.png","110502":"/uma-tools/icons/chara/trained_chr_icon_1105_110523_02.png","1106":"/uma-tools/icons/chara/chr_icon_1106.png","110601":"/uma-tools/icons/chara/trained_chr_icon_1106_110601_02.png","1107":"/uma-tools/icons/chara/chr_icon_1107.png","110701":"/uma-tools/icons/chara/trained_chr_icon_1107_110701_02.png","110702":"/uma-tools/icons/chara/trained_chr_icon_1107_110720_02.png","1108":"/uma-tools/icons/chara/chr_icon_1108.png","110801":"/uma-tools/icons/chara/trained_chr_icon_1108_110801_02.png","1109":"/uma-tools/icons/chara/chr_icon_1109.png","110901":"/uma-tools/icons/chara/trained_chr_icon_1109_110901_02.png","1110":"/uma-tools/icons/chara/chr_icon_1110.png","111001":"/uma-tools/icons/chara/trained_chr_icon_1110_111001_02.png","111002":"/uma-tools/icons/chara/trained_chr_icon_1110_111026_02.png","1111":"/uma-tools/icons/chara/chr_icon_1111.png","111101":"/uma-tools/icons/chara/trained_chr_icon_1111_111101_02.png","1112":"/uma-tools/icons/chara/chr_icon_1112.png","1113":"/uma-tools/icons/chara/chr_icon_1113.png","1114":"/uma-tools/icons/chara/chr_icon_1114.png","1115":"/uma-tools/icons/chara/chr_icon_1115.png","111501":"/uma-tools/icons/chara/trained_chr_icon_1115_111501_02.png","1116":"/uma-tools/icons/chara/chr_icon_1116.png","111601":"/uma-tools/icons/chara/trained_chr_icon_1116_111601_02.png","1117":"/uma-tools/icons/chara/chr_icon_1117.png","111701":"/uma-tools/icons/chara/trained_chr_icon_1117_111701_02.png","1119":"/uma-tools/icons/chara/chr_icon_1119.png","111901":"/uma-tools/icons/chara/trained_chr_icon_1119_111901_02.png","1120":"/uma-tools/icons/chara/chr_icon_1120.png","112001":"/uma-tools/icons/chara/trained_chr_icon_1120_112001_02.png","1121":"/uma-tools/icons/chara/chr_icon_1121.png","112101":"/uma-tools/icons/chara/trained_chr_icon_1121_112101_02.png","1124":"/uma-tools/icons/chara/chr_icon_1124.png","112401":"/uma-tools/icons/chara/trained_chr_icon_1124_112401_02.png","1127":"/uma-tools/icons/chara/chr_icon_1127.png","112701":"/uma-tools/icons/chara/trained_chr_icon_1127_112701_02.png","1128":"/uma-tools/icons/chara/chr_icon_1128.png","1129":"/uma-tools/icons/chara/chr_icon_1129.png","1130":"/uma-tools/icons/chara/chr_icon_1130.png","1131":"/uma-tools/icons/chara/chr_icon_1131.png","113101":"/uma-tools/icons/chara/trained_chr_icon_1131_113101_02.png","1132":"/uma-tools/icons/chara/chr_icon_1132.png","113201":"/uma-tools/icons/chara/trained_chr_icon_1132_113201_02.png","1133":"/uma-tools/icons/chara/chr_icon_1133.png","113301":"/uma-tools/icons/chara/trained_chr_icon_1133_113301_02.png","1134":"/uma-tools/icons/chara/chr_icon_1134.png"};var u_=Object.keys(Ar).flatMap(t=>Object.keys(Ar[t].outfits)),f_={};u_.forEach(t=>{let e=Ar[t.slice(0,4)];f_[t]=(e.outfits[t]+" "+e.name[1]).toUpperCase().replace(/\./g,"")});function Yv(t){let e=t.toUpperCase().replace(/\./g,"");return u_.filter(r=>f_[r].indexOf(e)>-1)}function Vv(t){let e=le(()=>`/uma-tools/icons/mob/trained_mob_chr_icon_${8e3+Math.floor(Math.random()*624)}_000001_01.png`,[]),r=t.value&&Ar[t.value.slice(0,4)],n=fr(null),i=fr(null),[o,a]=bt(!1),[s,c]=bt(-1);function u(g){return{input:g,suggestions:Yv(g)}}let[f,l]=ur((g,y)=>u(y),r&&r.name[1],u);function d(g){a(!1),t.select(g);let y=Ar[g.slice(0,4)].name[1];l(y),c(-1),n.current&&n.current.blur()}function h(){n.current&&n.current.select()}function _(g){if(c(g),!i.current)return;let y=i.current,S=y.querySelector(`[data-uma-id="${f.suggestions[g]}"]`),x=y.offsetHeight-4;if(S.offsetTop<y.scrollTop)y.scrollTop=S.offsetTop;else if(S.offsetTop>=y.scrollTop+x){let k=S.offsetHeight;y.scrollTop=(S.offsetTop/k-(x/k-1))*k}}function m(g){let y=g.target.closest(".umaSuggestion");y!=null&&(g.stopPropagation(),d(y.dataset.umaId))}function v(g){let y=g.target.value;l(g.target.value)}function b(g){let y=f.suggestions.length;switch(g.keyCode){case 13:s>-1&&d(f.suggestions[s]);break;case 38:_((s-1+y)%y);break;case 40:_((s+1+y)%y);break}}return p("div",{class:"umaSelector"},p("div",{class:"umaSelectorIconsBox",onClick:h},p("img",{src:t.value?qu[t.value]:e}),p("img",{src:"/uma-tools/icons/utx_ico_umamusume_00.png"})),p("div",{class:"umaEpithet"},p("span",null,t.value&&r.outfits[t.value])),p("div",{class:"umaSelectWrapper"},p("input",{type:"text",class:"umaSelectInput",value:f.input,tabindex:t.tabindex,onInput:v,onKeyDown:b,onFocus:()=>a(!0),onBlur:()=>a(!1),ref:n}),p("ul",{class:`umaSuggestions ${o?"open":""}`,onMouseDown:m,ref:i},f.suggestions.map((g,y)=>{let S=g.slice(0,4);return p("li",{key:g,"data-uma-id":g,class:`umaSuggestion ${y==s?"selected":""}`},p("img",{src:qu[g]}),p("span",null,Ar[S].outfits[g]," ",Ar[S].name[1]))}))))}function $v(t){return t>1200?18+Math.floor((t-1200)/100)*10+Math.floor(t/10)%10:t>=1150?17:t>=1100?16:t>=400?8+Math.floor((t-400)/100):Math.floor(t/50)}function Eo(t){return p("div",{class:"horseParam"},p("img",{src:`/uma-tools/icons/statusrank/ui_statusrank_${(100+$v(t.value)).toString().slice(1)}.png`}),p("input",{type:"number",min:"1",max:"1999",value:t.value,tabindex:t.tabindex,onInput:e=>t.change(+e.currentTarget.value)}))}var Fu=Object.freeze(["S","A","B","C","D","E","F","G"]);function s_(t){let e=7-Fu.indexOf(t.a);return p("img",{src:`/uma-tools/icons/utx_ico_statusrank_${(100+e).toString().slice(1)}.png`})}function Hu(t){let[e,r]=bt(!1);function n(o){o.stopPropagation(),t.setA(o.currentTarget.dataset.horseAptitude),r(!1)}function i(o){let a=o.key.toUpperCase();Fu.indexOf(a)>-1&&t.setA(a)}return p("div",{class:"horseAptitudeSelect",tabindex:t.tabindex,onClick:()=>r(!e),onBlur:r.bind(null,!1),onKeyDown:i},p("span",null,p(s_,{a:t.a})),p("ul",{style:e?"display:block":"display:none"},Fu.map(o=>p("li",{key:o,"data-horse-aptitude":o,onClick:n},p(s_,{a:o})))))}function Xv(t){return p("select",{class:"horseStrategySelect",value:t.s,tabindex:t.tabindex,onInput:e=>t.setS(e.currentTarget.value)},p("option",{value:"Nige"},"Front Runner"),p("option",{value:"Senkou"},"Pace Chaser"),p("option",{value:"Sasi"},"Late Closer"),p("option",{value:"Oikomi"},"Tail End"))}var Jv=Object.keys(Ct).filter(t=>Ct[t].rarity<3||Ct[t].rarity>5);function Zv(t){console.assert(Ct[t]!=null)}function c_(t){let e=+t.slice(1,-2),n=(1e5+1e4*(+t.slice(-2)-1)+e*10+1).toString();return Zv(n),n}function Qv(t,e){let r=Qr[t].order,n=Qr[e].order;return+(n<r)-+(r<n)||+(e<t)-+(t<e)}function Ao(t){return fn(t,Qv)}var sr=class extends _t({outfitId:"",speed:1850,stamina:1200,power:1500,guts:1200,wisdom:1300,strategy:"Senkou",distanceAptitude:"S",surfaceAptitude:"A",strategyAptitude:"A",skills:Ao([])}){},Bu=0;function l_(){return Bu}function ju(t){let{state:e,setState:r}=t,[n,i]=bt(!1),[o,a]=bt(()=>On()),s=t.tabstart(),c=0;function u(){return++c>Bu&&(Bu=c),s+c-1}let f=e.outfitId,l=le(()=>Jv.filter(y=>Ct[y].rarity!=6||y.startsWith(f)),[f]);function d(y){return S=>r(e.set(y,S))}let h=d("skills");function _(y){r(e.set("outfitId",y).set("skills",e.skills.filter(S=>Ct[S].rarity<3).add(c_(y))))}function m(y){y.stopPropagation(),i(!0)}function v(y){h(Ao(y)),i(!1)}function b(y){y.stopPropagation();let S=y.target.closest(".skill, .expandedSkill");S!=null&&(y.target.classList.contains("skillDismiss")?h(e.skills.delete(S.dataset.skillid)):S.classList.contains("expandedSkill")?a(o.delete(S.dataset.skillid)):a(o.add(S.dataset.skillid)))}Ge(function(){window.requestAnimationFrame(()=>document.querySelectorAll(".horseExpandedSkill").forEach(y=>{y.style.gridRow="span "+Math.ceil(y.firstChild.offsetHeight/64)}))},[o]);let g=le(function(){let y=c_(f);return Array.from(e.skills).map(S=>o.has(S)?p("li",{key:S,class:"horseExpandedSkill"},p(Op,{id:S,distanceFactor:t.courseDistance,dismissable:S!=y})):p("li",{key:S,style:""},p(Fc,{id:S,selected:!1,dismissable:S!=y})))},[e.skills,f,o,t.courseDistance]);return p("div",{class:"horseDef"},p("div",{class:"horseDefHeader"},t.children),p(Vv,{value:f,select:_,tabindex:u()}),p("div",{class:"horseParams"},p("div",{class:"horseParamHeader"},p("img",{src:"/uma-tools/icons/status_00.png"}),p("span",null,"Speed")),p("div",{class:"horseParamHeader"},p("img",{src:"/uma-tools/icons/status_01.png"}),p("span",null,"Stamina")),p("div",{class:"horseParamHeader"},p("img",{src:"/uma-tools/icons/status_02.png"}),p("span",null,"Power")),p("div",{class:"horseParamHeader"},p("img",{src:"/uma-tools/icons/status_03.png"}),p("span",null,"Guts")),p("div",{class:"horseParamHeader"},p("img",{src:"/uma-tools/icons/status_04.png"}),p("span",null,"Wit")),p(Eo,{value:e.speed,change:d("speed"),tabindex:u()}),p(Eo,{value:e.stamina,change:d("stamina"),tabindex:u()}),p(Eo,{value:e.power,change:d("power"),tabindex:u()}),p(Eo,{value:e.guts,change:d("guts"),tabindex:u()}),p(Eo,{value:e.wisdom,change:d("wisdom"),tabindex:u()})),p("div",{class:"horseAptitudes"},p("div",null,p("span",null,"Surface aptitude:"),p(Hu,{a:e.surfaceAptitude,setA:d("surfaceAptitude"),tabindex:u()})),p("div",null,p("span",null,"Distance aptitude:"),p(Hu,{a:e.distanceAptitude,setA:d("distanceAptitude"),tabindex:u()})),p("div",null,p("span",null,"Strategy:"),p(Xv,{s:e.strategy,setS:d("strategy"),tabindex:u()})),p("div",null,p("span",null,"Strategy aptitude:"),p(Hu,{a:e.strategyAptitude,setA:d("strategyAptitude"),tabindex:u()}))),p("div",{class:"horseSkillHeader"},"Skills"),p("div",{class:"horseSkillListWrapper",onClick:b},p("ul",{class:"horseSkillList"},g,p("li",{key:"add"},p("div",{class:"skill addSkillButton",onClick:m,tabindex:u()},p("span",null,"+"),"Add Skill")))),p("div",{class:`horseSkillPickerOverlay ${n?"open":""}`,onClick:i.bind(null,!1)}),p("div",{class:`horseSkillPickerWrapper ${n?"open":""}`},p(Tp,{ids:l,selected:new Set(e.skills),setSelected:v,isOpen:n})))}function tb(t){return Qr[t.split("-")[0]]}var p_=10906,h_=500;function eb(t){return t}function d_(t,e){let r=0,n=t.length-1;if(e<t[0])return 0;if(e>t[n])return n-1;for(;r<=n;){let i=Math.floor((r+n)/2);if(e<t[i])n=i-1;else if(e>t[i])r=i+1;else return i}return Math.abs(t[r]-e)<Math.abs(t[n]-e)?r:n}function rb(t){function e(r){r.stopPropagation(),"timeofday"in r.target.dataset&&t.set(+r.target.dataset.timeofday)}return p("div",{class:"timeofdaySelect",onClick:e},Array(3).fill(0).map((r,n)=>p("img",{src:`/uma-tools/icons/utx_ico_timezone_0${n}.png`,title:Kn.skilldetails.time[n+2],class:n+2==t.value?"selected":"","data-timeofday":n+2})))}function nb(t){return p("select",{class:"groundSelect",value:t.value,onInput:e=>t.set(+e.currentTarget.value)},p("option",{value:"1"},"Firm"),p("option",{value:"2"},"Good"),p("option",{value:"3"},"Soft"),p("option",{value:"4"},"Heavy"))}function ib(t){function e(r){r.stopPropagation(),"weather"in r.target.dataset&&t.set(+r.target.dataset.weather)}return p("div",{class:"weatherSelect",onClick:e},Array(4).fill(0).map((r,n)=>p("img",{src:`/uma-tools/icons/utx_ico_weather_0${n}.png`,title:Kn.skilldetails.weather[n+1],class:n+1==t.value?"selected":"","data-weather":n+1})))}function ob(t){function e(r){r.stopPropagation(),"season"in r.target.dataset&&t.set(+r.target.dataset.season)}return p("div",{class:"seasonSelect",onClick:e},Array(4).fill(0).map((r,n)=>p("img",{src:`/uma-tools/icons/global/utx_txt_season_0${n}.png`,title:Kn.skilldetails.season[n+1],class:n+1==t.value?"selected":"","data-season":n+1})))}function ab(t){let{data:e,width:r,height:n}=t,i=fr(null),o=20,a=40,s=Ze().domain(e[0]==0&&e[e.length-1]==0?[-1,1]:[Math.min(0,Math.floor(e[0])),Math.ceil(e[e.length-1])]).range([a,r-a]),u=Bi().value(eb).domain(s.domain()).thresholds(s.ticks(30))(e),f=Ze().domain([0,gr(u,d=>d.length)]).range([n-o,o]);Ge(function(){let d=pa(i.current);d.selectAll("*").remove(),d.append("g").attr("transform",`translate(0,${n-o})`).call(oa(s)),d.append("g").attr("transform",`translate(${a},0)`).call(aa(f))},[e,r,n]);let l=u.map((d,h)=>p("rect",{key:h,fill:"#2a77c5",stroke:"black",x:s(d.x0),y:f(d.length),width:s(d.x1)-s(d.x0),height:n-o-f(d.length)}));return p("svg",{id:"histogram",width:r,height:n},p("g",null,l),p("g",{ref:i}))}function sb(t){let e=fr(null),r=t.data,n=Ze().domain([0,t.courseDistance]).range([0,t.width]),i=r&&Ze().domain([0,gr(r.v,c=>gr(c))]).range([t.height,0]),o=r&&Ze().domain([0,gr(r.hp,c=>gr(c))]).range([t.height,0]);Ge(function(){if(e.current==null)return;let c=pa(e.current);c.selectAll("*").remove(),c.append("g").attr("transform",`translate(${t.xOffset},${t.height+5})`).call(oa(n)),r&&c.append("g").attr("transform",`translate(${t.xOffset},4)`).call(aa(i))},[t.data,t.width,t.height]);let a=["#2a77c5","#c52a2a"],s=["#688aab","#ab6868"];return p(vt,null,p("g",{transform:`translate(${t.xOffset},5)`},r&&r.v.map((c,u)=>p("path",{fill:"none",stroke:a[u],"stroke-width":"2.5",d:qa().x(f=>n(r.p[u][f])).y(f=>i(c[f]))(r.p[u].map((f,l)=>l))})).concat(t.showHp?r.hp.map((c,u)=>p("path",{fill:"none",stroke:s[u],"stroke-width":"2.5",d:qa().x(f=>n(r.p[u][f])).y(f=>o(c[f]))(r.p[u].map((f,l)=>l))})):[])),p("g",{ref:e}))}var cb=Object.freeze(["10011","10012","10016","10021","10022","10026","10031","10032","10036","10041","10042","10046","10051","10052","10056","10061","10062","10066","40011","20061","20062","20066"]),ui=class extends _t({mood:2,ground:1,weather:1,season:1,time:2,grade:100}){};async function ub(t,e,r,n,i,o){let a=JSON.stringify({courseId:t,nsamples:e,usePosKeep:r,racedef:n.toJS(),uma1:i.toJS(),uma2:o.toJS()}),s=new TextEncoder,f=new ReadableStream({start(h){h.enqueue(s.encode(a)),h.close()}}).pipeThrough(new CompressionStream("gzip")).getReader(),l=new Uint8Array,d;for(;d=await f.read();){if(d.done)return encodeURIComponent(btoa(String.fromCharCode(...l)));l=new Uint8Array([...l,...d.value])}}async function fb(t){let e=atob(decodeURIComponent(t)),r=new Uint8Array(e.split("").map(u=>u.charCodeAt(0))),o=new ReadableStream({start(u){u.enqueue(r),u.close()}}).pipeThrough(new DecompressionStream("gzip")).getReader(),a=new TextDecoder,s="",c;for(;c=await o.read();)if(c.done)try{let u=JSON.parse(s);return{courseId:u.courseId,nsamples:u.nsamples,usePosKeep:u.usePosKeep,racedef:new ui(u.racedef),uma1:new sr(u.uma1).set("skills",Ao(u.uma1.skills)),uma2:new sr(u.uma2).set("skills",Ao(u.uma2.skills))}}catch{return{courseId:p_,nsamples:h_,usePosKeep:!0,racedef:new ui,uma1:new sr,uma2:new sr}}else s+=a.decode(c.value)}function lb(t,e,r,n,i,o){let a=new is(t).seed(2615953739).course(e).mood(r.mood).ground(r.ground).weather(r.weather).season(r.season).time(r.time),s=a.fork();a.horse(n),s.horse(i);let c=n.skills.intersect(i.skills).toArray().sort((F,A)=>+F-+A),u=F=>{let A=c.indexOf(F);return A>-1?A:c.length},f=(F,A)=>u(F)-u(A)||+F-+A;n.skills.toArray().sort(f).forEach(F=>a.addSkill(F)),i.skills.toArray().sort(f).forEach(F=>s.addSkill(F)),o.usePosKeep&&(a.useDefaultPacer(),s.useDefaultPacer());let l=new Map,d=new Map;function h(F){return function(A,L){L!="asitame"&&L!="staminasyoubu"&&(F.has(L)||F.set(L,[]),F.get(L).push([A.pos,0]))}}function _(F){return function(A,L){if(L!="asitame"&&L!="staminasyoubu"){let nt=F.get(L);nt[nt.length-1][1]=A.pos}}}a.onSkillActivate(h(l)),a.onSkillDeactivate(_(l)),s.onSkillActivate(h(d)),s.onSkillDeactivate(_(d));let m=a.build(),v=s.build(),b=1,g=0,y=1,S=[],x=1/0,k=-1/0,O,C,P=1/0,E=1/0,w,I,M,H,st=Math.max(Math.floor(t*.8),t-200),lt=!1;for(let F=0;F<t;++F){let A=m.next(lt).value,L=v.next(lt).value,nt={t:[[],[]],p:[[],[]],v:[[],[]],hp:[[],[]],sk:[null,null],sdly:[0,0]};for(;L.pos<e.distance;)L.step(1/15),nt.t[b].push(L.accumulatetime.t),nt.p[b].push(L.pos),nt.v[b].push(L.currentSpeed+(L.modifiers.currentSpeed.acc+L.modifiers.currentSpeed.err)),nt.hp[b].push(L.hp.hp);for(nt.sdly[b]=L.startDelay,nt.sk[1]=new Map(d),d.clear();A.accumulatetime.t<L.accumulatetime.t;)A.step(1/15),nt.t[g].push(A.accumulatetime.t),nt.p[g].push(A.pos),nt.v[g].push(A.currentSpeed+(A.modifiers.currentSpeed.acc+A.modifiers.currentSpeed.err)),nt.hp[g].push(A.hp.hp);let zo=A.pos;for(;A.pos<e.distance;)A.step(1/15),nt.t[g].push(A.accumulatetime.t),nt.p[g].push(A.pos),nt.v[g].push(A.currentSpeed+(A.modifiers.currentSpeed.acc+A.modifiers.currentSpeed.err)),nt.hp[g].push(A.hp.hp);if(nt.sdly[g]=A.startDelay,nt.sk[0]=new Map(l),l.clear(),L.pos<zo)[v,m]=[m,v],[g,b]=[b,g],y*=-1,--F,lt=!0;else{lt=!1;let je=y*(L.pos-zo)/2.5;if(S.push(je),je<x&&(x=je,w=nt),je>k&&(k=je,I=nt),F==st){S.sort((cr,fi)=>cr-fi),O=S.reduce((cr,fi)=>cr+fi)/S.length;let ve=Math.floor(S.length/2);C=ve>0&&S.length%2==0?(S[ve-1]+S[ve])/2:S[ve]}if(F>=st){let ve=Math.abs(je-O),cr=Math.abs(je-C);ve<P&&(P=ve,M=nt),cr<E&&(E=cr,H=nt)}}}return S.sort((F,A)=>F-A),{results:S,runData:{minrun:w,maxrun:I,meanrun:M,medianrun:H}}}var db={courseId:p_,results:[],runData:null,chartData:null,displaying:""};function pb(t,e){return typeof e=="number"?{courseId:e,results:[],runData:null,chartData:null,displaying:""}:typeof e=="string"?{courseId:t.courseId,results:t.results,runData:t.runData,chartData:t.runData[e],displaying:e}:{courseId:t.courseId,results:e.results,runData:e.runData,chartData:e.runData.meanrun,displaying:"meanrun"}}var Uu=[{type:1,date:"2025-08",courseId:10105,season:2,Time:2},{type:0,date:"2025-07-25",courseId:10906,ground:2,weather:2,season:2,time:2},{type:0,date:"2025-06-21",courseId:10606,ground:1,weather:1,season:1,time:2}].map(t=>({type:t.type,date:new Date(t.date),courseId:t.courseId,racedef:new ui({mood:2,ground:t.type==0?t.ground:1,weather:t.type==0?t.weather:1,season:t.season,time:t.time,grade:100})})).sort((t,e)=>+e.date-+t.date);function hb(t){let e=gf();return p(vt,null)}function _b(t){let[e,r]=bt(!1),[n,i]=bt(()=>new ui),[o,a]=bt(h_),[s,c]=ur((N,X)=>!N,!0),[u,f]=ur((N,X)=>!N,!1),[{courseId:l,results:d,runData:h,chartData:_,displaying:m},v]=ur(pb,db),b=v,g=v,y=v;function S(N){return X=>i(n.set(N,X))}let x=le(()=>D.getCourse(l),[l]),[k,O]=bt(()=>new sr),[C,P]=bt(()=>new sr),[E,w]=bt(0),[I,M]=ur((N,X)=>(X.stopPropagation(),!N),!1);function H(){window.location.hash&&fb(window.location.hash.slice(1)).then(N=>{b(N.courseId),a(N.nsamples),N.usePosKeep!=s&&c(0),i(N.racedef),O(N.uma1),P(N.uma2)})}Ge(function(){H(),window.addEventListener("hashchange",H)},[]);function st(N){N.preventDefault(),ub(l,o,s,n,k,C).then(X=>{let jt=window.location.protocol+"//"+window.location.host+window.location.pathname;window.navigator.clipboard.writeText(jt+"#"+X)})}function lt(){P(k)}function F(){O(C)}let A={skillnames:{},tracknames:Yn},L=+(t.lang=="en");Object.keys(Cr).forEach(N=>A.skillnames[N]=Cr[N][L]);function nt(){g(lb(o,x,n,k,C,{usePosKeep:s}))}function zo(N){if(_==null)return;document.getElementById("rtMouseOverBox").style.display="block";let X=N*x.distance,jt=d_(_.p[0],X),ln=d_(_.p[1],X);document.getElementById("rtV1").textContent=`${_.v[0][jt].toFixed(2)} m/s  t=${_.t[0][jt].toFixed(2)} s  (${_.hp[0][jt].toFixed(0)} hp remaining)`,document.getElementById("rtV2").textContent=`${_.v[1][ln].toFixed(2)} m/s  t=${_.t[1][ln].toFixed(2)} s  (${_.hp[1][ln].toFixed(0)} hp remaining)`}function je(){document.getElementById("rtMouseOverBox").style.display="none"}let ve=Math.floor(d.length/2),cr=d.length%2==0?(d[ve-1]+d[ve])/2:d[ve],fi=d.reduce((N,X)=>N+X,0)/d.length,__=[{stroke:"rgb(42, 119, 197)",fill:"rgba(42, 119, 197, 0.7)"},{stroke:"rgb(197, 42, 42)",fill:"rgba(197, 42, 42, 0.7)"}],m_=_==null?[]:_.sk.flatMap((N,X)=>N.keys().flatMap(jt=>cb.indexOf(tb(jt).iconId)>-1?[]:N.get(jt).map(ln=>({type:2,color:__[X],text:Cr[jt][0],regions:[{start:ln[0],end:ln[1]}]}))).toArray()),Gu=p(vt,null,p("div",{class:`umaTab ${E==0?"selected":""}`,onClick:()=>w(0)},"Umamusume 1"),p("div",{class:`umaTab ${E==1?"selected":""}`,onClick:()=>w(1)},"Umamusume 2",p("div",{id:"expandBtn",title:"Expand panel",onClick:M},"\u27E9")));return p(Mc.Provider,{value:t.lang},p(Re,{definition:A},p("div",{id:"topPane",class:_?"hasResults":""},p(zp,{courseid:l,width:960,height:240,xOffset:20,yOffset:15,yExtra:20,mouseMove:zo,mouseLeave:je,regions:m_},p(sb,{data:_,courseDistance:x.distance,width:960,height:250,xOffset:20,showHp:u}),p("g",{id:"rtMouseOverBox",style:"display:none"},p("text",{id:"rtV1",x:"25",y:"10",fill:"#2a77c5","font-size":"10px"}),p("text",{id:"rtV2",x:"25",y:"20",fill:"#c52a2a","font-size":"10px"}))),p("div",{id:"runPane"},p("label",{for:"nsamples"},"Samples:"),p("input",{type:"number",id:"nsamples",min:"1",max:"10000",value:o,onInput:N=>a(+N.currentTarget.value)}),p("div",null,p("label",{for:"poskeep"},"Simulate pos keep"),p("input",{type:"checkbox",id:"poskeep",checked:s,onClick:c})),p("div",null,p("label",{for:"showhp"},"Show HP consumption"),p("input",{type:"checkbox",id:"showhp",checked:u,onClick:f})),p("button",{id:"run",onClick:nt,tabindex:1},"COMPARE"),p("a",{href:"#",onClick:st},"Copy link"),p(hb,{set:(N,X)=>{b(N),i(X)}})),p("div",{id:"buttonsRow"},p(Ap,{key:l,courseid:l,setCourseid:b,tabindex:2}),p("div",{id:"buttonsRowSpace"}),p(rb,{value:n.time,set:S("time")}),p("div",null,p(nb,{value:n.ground,set:S("ground")}),p(ib,{value:n.weather,set:S("weather")})),p(ob,{value:n.season,set:S("season")}))),d.length>0&&p("div",{id:"resultsPaneWrapper"},p("div",{id:"resultsPane"},p("table",{id:"resultsSummary"},p("tfoot",null,p("tr",null,Object.entries({minrun:["Minimum","Set chart display to the run with minimum bashin difference"],maxrun:["Maximum","Set chart display to the run with maximum bashin difference"],meanrun:["Mean","Set chart display to a run representative of the mean bashin difference"],medianrun:["Median","Set chart display to a run representative of the median bashin difference"]}).map(([N,X])=>p("th",{scope:"col",class:m==N?"selected":"",title:X[1],onClick:()=>y(N)},X[0])))),p("tbody",null,p("tr",null,p("td",null,d[0].toFixed(2),p("span",{class:"unit-basinn"},"lengths")),p("td",null,d[d.length-1].toFixed(2),p("span",{class:"unit-basinn"},"lengths")),p("td",null,fi.toFixed(2),p("span",{class:"unit-basinn"},"lengths")),p("td",null,cr.toFixed(2),p("span",{class:"unit-basinn"},"lengths"))))),p("div",{id:"resultsHelp"},"Negative numbers mean ",p("strong",{style:"color:#2a77c5"},"Umamusume 1")," is faster, positive numbers mean ",p("strong",{style:"color:#c52a2a"},"Umamusume 2")," is faster."),p(ab,{width:500,height:333,data:d})),p("div",{id:"infoTables"},p("table",null,p("caption",{style:"color:#2a77c5"},"Umamusume 1"),p("tbody",null,p("tr",null,p("th",null,"Time to finish"),p("td",null,_.t[0][_.t[0].length-1].toFixed(4)+"\u202Fs")),p("tr",null,p("th",null,"Start delay"),p("td",null,_.sdly[0].toFixed(4)+"\u202Fs")),p("tr",null,p("th",null,"Top speed"),p("td",null,_.v[0].reduce((N,X)=>Math.max(N,X),0).toFixed(2)+"\u202Fm/s"))),_.sk[0].size>0&&p("tbody",null,_.sk[0].entries().map(([N,X])=>X.flatMap(jt=>p("tr",null,p("th",null,Cr[N][0]),p("td",null,`${jt[0].toFixed(2)}\u202Fm \u2013 ${jt[1].toFixed(2)}\u202Fm`)))).toArray())),p("table",null,p("caption",{style:"color:#c52a2a"},"Umamusume 2"),p("tbody",null,p("tr",null,p("th",null,"Time to finish"),p("td",null,_.t[1][_.t[1].length-1].toFixed(4)+"\u202Fs")),p("tr",null,p("th",null,"Start delay"),p("td",null,_.sdly[1].toFixed(4)+"\u202Fs")),p("tr",null,p("th",null,"Top speed"),p("td",null,_.v[1].reduce((N,X)=>Math.max(N,X),0).toFixed(2)+"\u202Fm/s"))),_.sk[1].size>0&&p("tbody",null,_.sk[1].entries().map(([N,X])=>X.flatMap(jt=>p("tr",null,p("th",null,Cr[N][0]),p("td",null,`${jt[0].toFixed(2)}\u202Fm \u2013 ${jt[1].toFixed(2)}\u202Fm`)))).toArray())))),I&&p("div",{id:"umaPane"}),p("div",{id:I?"umaOverlay":"umaPane"},p("div",{class:!I&&E==0?"selected":""},p(ju,{key:k.outfitId,state:k,setState:O,courseDistance:x.distance,tabstart:()=>4},I?"Umamusume 1":Gu)),I&&p("div",{id:"copyUmaButtons"},p("div",{id:"copyUmaToRight",onClick:lt}),p("div",{id:"copyUmaToLeft",onClick:F})),p("div",{class:!I&&E==1?"selected":""},p(ju,{key:C.outfitId,state:C,setState:P,courseDistance:x.distance,tabstart:()=>4+l_()},I?"Umamusume 2":Gu)),I&&p("div",{id:"closeUmaOverlay",title:"Close panel",onClick:M},"\u2715"))))}cf(p(_b,{lang:"en-ja"}),document.getElementById("app"));})();
/*! Bundled license information:

immutable/dist/immutable.es.js:
  (**
   * @license
   * MIT License
   * 
   * Copyright (c) 2014-present, Lee Byron and other contributors.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
*/
